# Example go2rtc configuration generated by LightNVR
# This file is automatically generated with WebRTC NAT traversal support

api:
  listen: :1984
  origin: 'http://localhost:8080'
  credentials: true
  allow: 'GET, POST, OPTIONS'
  headers: 'Origin, X-Requested-With, Content-Type, Accept, Authorization'
  auth:
    username: admin
    password: admin

rtsp:
  listen: ":8554"

webrtc:
  listen: ":8555"
  ice_servers:
    - urls:
      - "stun:stun.l.google.com:19302"
      - "stun:stun1.l.google.com:19302"
  candidates:
    - "*:8555"  # Auto-detect external IP
    - "stun:stun.l.google.com:19302"

log:
  level: debug

ffmpeg:
  h264: "-codec:v libx264 -g:v 30 -preset:v superfast"
  h265: "-codec:v libx265 -g:v 30 -preset:v superfast"

streams:
  # Streams will be added dynamically via go2rtc API
  # Example:
  # Driveway:
  #   - rtsp://username:password@192.168.1.100:554/stream#timeout=30

