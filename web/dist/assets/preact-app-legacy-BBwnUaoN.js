System.register([],(function(t,e){"use strict";return{execute:function(){var r=document.createElement("style");r.textContent='*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.status-message{position:fixed;z-index:50;--tw-translate-y: -100px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1));padding:.75rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));opacity:0;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s;top:1rem;right:1rem}.status-message.visible{--tw-translate-y: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.\\!modal,.modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:50;display:flex;align-items:center;justify-content:center;overflow:auto;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1));--tw-bg-opacity: .5}.modal-content{margin-left:1rem;margin-right:1rem;width:100%;max-width:32rem;overflow:hidden;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (prefers-color-scheme: dark){.modal-content{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}.modal-header{display:flex;align-items:center;justify-content:space-between;border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding:1rem}@media (prefers-color-scheme: dark){.modal-header{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}}.modal-body{max-height:70vh;overflow-y:auto;padding:1rem}.modal-footer{display:flex;justify-content:flex-end;gap:.5rem;border-top-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding:1rem}@media (prefers-color-scheme: dark){.modal-footer{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}}.\\!modal .close{cursor:pointer;font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.\\!modal .close:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.\\!modal .close{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.\\!modal .close:hover{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}}.modal .close{cursor:pointer;font-size:1.5rem;line-height:2rem;font-weight:700;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.modal .close:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.modal .close{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.modal .close:hover{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}}.video-container.layout-1,.video-container.layout-4{grid-template-columns:repeat(1,minmax(0,1fr))}@media (min-width: 640px){.video-container.layout-4{grid-template-columns:repeat(2,minmax(0,1fr))}}.video-container.layout-9{grid-template-columns:repeat(1,minmax(0,1fr))}@media (min-width: 640px){.video-container.layout-9{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 1024px){.video-container.layout-9{grid-template-columns:repeat(3,minmax(0,1fr))}}.video-container.layout-16{grid-template-columns:repeat(1,minmax(0,1fr))}@media (min-width: 640px){.video-container.layout-16{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width: 1024px){.video-container.layout-16{grid-template-columns:repeat(4,minmax(0,1fr))}}.btn-primary{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.btn-primary:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.btn-secondary{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.btn-secondary:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.btn-warning{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.btn-warning:hover{--tw-bg-opacity: 1;background-color:rgb(217 119 6 / var(--tw-bg-opacity, 1))}.btn-danger{border-radius:.25rem;--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1));padding:.5rem 1rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1));transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.btn-danger:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.status-ok{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.status-ok{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}}.status-warning{--tw-text-opacity: 1;color:rgb(217 119 6 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.status-warning{--tw-text-opacity: 1;color:rgb(251 191 36 / var(--tw-text-opacity, 1))}}.status-danger{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.status-danger{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}}.status-inactive{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.status-inactive{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.bottom-1{bottom:.25rem}.left-0{left:0}.left-1\\/2{left:50%}.right-2{right:.5rem}.start-1{inset-inline-start:.25rem}.top-0{top:0}.top-2{top:.5rem}.top-3{top:.75rem}.top-5{top:1.25rem}.z-10{z-index:10}.z-50{z-index:50}.col-span-2{grid-column:span 2 / span 2}.col-span-full{grid-column:1 / -1}.row-span-full{grid-row:1 / -1}.m-0{margin:0}.mx-0\\.5{margin-left:.125rem;margin-right:.125rem}.mx-1{margin-left:.25rem;margin-right:.25rem}.mx-2{margin-left:.5rem;margin-right:.5rem}.mx-4{margin-left:1rem;margin-right:1rem}.mx-auto{margin-left:auto;margin-right:auto}.my-0{margin-top:0;margin-bottom:0}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.ml-1\\.5{margin-left:.375rem}.ml-2{margin-left:.5rem}.ml-3{margin-left:.75rem}.ml-4{margin-left:1rem}.mr-1{margin-right:.25rem}.mr-2{margin-right:.5rem}.mr-3{margin-right:.75rem}.mr-4{margin-right:1rem}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-3{margin-top:.75rem}.mt-4{margin-top:1rem}.mt-6{margin-top:1.5rem}.mt-auto{margin-top:auto}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.grid{display:grid}.hidden{display:none}.aspect-video{aspect-ratio:16 / 9}.size-6{width:1.5rem;height:1.5rem}.h-1{height:.25rem}.h-1\\.5{height:.375rem}.h-10{height:2.5rem}.h-12{height:3rem}.h-16{height:4rem}.h-2{height:.5rem}.h-2\\.5{height:.625rem}.h-24{height:6rem}.h-3{height:.75rem}.h-4{height:1rem}.h-5{height:1.25rem}.h-6{height:1.5rem}.h-64{height:16rem}.h-8{height:2rem}.h-auto{height:auto}.h-full{height:100%}.h-screen{height:100vh}.max-h-0{max-height:0px}.max-h-96{max-height:24rem}.max-h-\\[70vh\\]{max-height:70vh}.max-h-\\[90vh\\]{max-height:90vh}.min-h-screen{min-height:100vh}.w-0\\.5{width:.125rem}.w-1\\.5{width:.375rem}.w-10{width:2.5rem}.w-12{width:3rem}.w-16{width:4rem}.w-2{width:.5rem}.w-2\\.5{width:.625rem}.w-3{width:.75rem}.w-32{width:8rem}.w-4{width:1rem}.w-5{width:1.25rem}.w-6{width:1.5rem}.w-8{width:2rem}.w-full{width:100%}.w-px{width:1px}.min-w-8{min-width:2rem}.min-w-\\[3rem\\]{min-width:3rem}.min-w-\\[500px\\]{min-width:500px}.min-w-full{min-width:100%}.max-w-3xl{max-width:48rem}.max-w-4xl{max-width:56rem}.max-w-\\[450px\\]{max-width:450px}.max-w-\\[80\\%\\]{max-width:80%}.max-w-full{max-width:100%}.max-w-lg{max-width:32rem}.max-w-md{max-width:28rem}.flex-1{flex:1 1 0%}.flex-shrink{flex-shrink:1}.flex-shrink-0{flex-shrink:0}.flex-grow{flex-grow:1}.border-collapse{border-collapse:collapse}.-translate-x-1\\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-5{--tw-translate-y: -1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-0{--tw-translate-y: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-1\\/2{--tw-translate-y: 50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-2{--tw-translate-y: .5rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\\[-100px\\]{--tw-translate-y: -100px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-100{--tw-scale-x: 1;--tw-scale-y: 1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.scale-95{--tw-scale-x: .95;--tw-scale-y: .95;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}.animate-spin{animation:spin 1s linear infinite}.cursor-ew-resize{cursor:ew-resize}.cursor-pointer{cursor:pointer}.resize{resize:both}.list-inside{list-style-position:inside}.list-disc{list-style-type:disc}.list-none{list-style-type:none}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-2\\.5{gap:.625rem}.gap-4{gap:1rem}.space-x-1>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.25rem * var(--tw-space-x-reverse));margin-left:calc(.25rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-x-4>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(1rem * var(--tw-space-x-reverse));margin-left:calc(1rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.space-y-2>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.5rem * var(--tw-space-y-reverse))}.space-y-3>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.75rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.75rem * var(--tw-space-y-reverse))}.space-y-4>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1rem * var(--tw-space-y-reverse))}.space-y-6>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(1.5rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(1.5rem * var(--tw-space-y-reverse))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-gray-200>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(229 231 235 / var(--tw-divide-opacity, 1))}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.whitespace-nowrap{white-space:nowrap}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-sm{border-radius:.125rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-l-md{border-top-left-radius:.375rem;border-bottom-left-radius:.375rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-r-md{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.border{border-width:1px}.border-2{border-width:2px}.border-4{border-width:4px}.border-b{border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-l-\\[6px\\]{border-left-width:6px}.border-t{border-top-width:1px}.border-t-2{border-top-width:2px}.border-blue-400{--tw-border-opacity: 1;border-color:rgb(96 165 250 / var(--tw-border-opacity, 1))}.border-blue-500{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.border-blue-600{--tw-border-opacity: 1;border-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity, 1))}.border-gray-200{--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1))}.border-gray-300{--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1))}.border-gray-400{--tw-border-opacity: 1;border-color:rgb(156 163 175 / var(--tw-border-opacity, 1))}.border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.border-green-500{--tw-border-opacity: 1;border-color:rgb(34 197 94 / var(--tw-border-opacity, 1))}.border-red-200{--tw-border-opacity: 1;border-color:rgb(254 202 202 / var(--tw-border-opacity, 1))}.border-yellow-200{--tw-border-opacity: 1;border-color:rgb(254 240 138 / var(--tw-border-opacity, 1))}.border-t-blue-600{--tw-border-opacity: 1;border-top-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}.border-t-transparent{border-top-color:transparent}.bg-amber-500{--tw-bg-opacity: 1;background-color:rgb(245 158 11 / var(--tw-bg-opacity, 1))}.bg-black{--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1))}.bg-black\\/70{background-color:rgba(0,0,0,.7)}.bg-blue-100{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.bg-blue-50{--tw-bg-opacity: 1;background-color:rgb(239 246 255 / var(--tw-bg-opacity, 1))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity, 1))}.bg-blue-600{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity, 1))}.bg-gray-100{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.bg-gray-200{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.bg-gray-300{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.bg-gray-50{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.bg-green-500{--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1))}.bg-green-600{--tw-bg-opacity: 1;background-color:rgb(22 163 74 / var(--tw-bg-opacity, 1))}.bg-indigo-500{--tw-bg-opacity: 1;background-color:rgb(99 102 241 / var(--tw-bg-opacity, 1))}.bg-orange-500{--tw-bg-opacity: 1;background-color:rgb(249 115 22 / var(--tw-bg-opacity, 1))}.bg-pink-500{--tw-bg-opacity: 1;background-color:rgb(236 72 153 / var(--tw-bg-opacity, 1))}.bg-purple-500{--tw-bg-opacity: 1;background-color:rgb(168 85 247 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.bg-red-50{--tw-bg-opacity: 1;background-color:rgb(254 242 242 / var(--tw-bg-opacity, 1))}.bg-red-500{--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1))}.bg-red-600{--tw-bg-opacity: 1;background-color:rgb(220 38 38 / var(--tw-bg-opacity, 1))}.bg-teal-500{--tw-bg-opacity: 1;background-color:rgb(20 184 166 / var(--tw-bg-opacity, 1))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity, 1))}.bg-yellow-50{--tw-bg-opacity: 1;background-color:rgb(254 252 232 / var(--tw-bg-opacity, 1))}.bg-yellow-500{--tw-bg-opacity: 1;background-color:rgb(234 179 8 / var(--tw-bg-opacity, 1))}.bg-yellow-600{--tw-bg-opacity: 1;background-color:rgb(202 138 4 / var(--tw-bg-opacity, 1))}.bg-opacity-20{--tw-bg-opacity: .2}.bg-opacity-50{--tw-bg-opacity: .5}.bg-opacity-70{--tw-bg-opacity: .7}.bg-opacity-75{--tw-bg-opacity: .75}.object-contain{-o-object-fit:contain;object-fit:contain}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-6{padding:1.5rem}.p-8{padding:2rem}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-2\\.5{padding-left:.625rem;padding-right:.625rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-4\\.5{padding-left:1.125rem;padding-right:1.125rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.py-0{padding-top:0;padding-bottom:0}.py-0\\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-1\\.5{padding-top:.375rem;padding-bottom:.375rem}.py-12{padding-top:3rem;padding-bottom:3rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-2\\.5{padding-top:.625rem;padding-bottom:.625rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-3\\.5{padding-top:.875rem;padding-bottom:.875rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-8{padding-top:2rem;padding-bottom:2rem}.pb-1{padding-bottom:.25rem}.pb-2{padding-bottom:.5rem}.pb-4{padding-bottom:1rem}.pe-1{padding-inline-end:.25rem}.pl-5{padding-left:1.25rem}.pt-2{padding-top:.5rem}.pt-4{padding-top:1rem}.text-left{text-align:left}.text-center{text-align:center}.font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.text-2xl{font-size:1.5rem;line-height:2rem}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.italic{font-style:italic}.leading-tight{line-height:1.25}.tracking-wider{letter-spacing:.05em}.text-amber-600{--tw-text-opacity: 1;color:rgb(217 119 6 / var(--tw-text-opacity, 1))}.text-blue-200{--tw-text-opacity: 1;color:rgb(191 219 254 / var(--tw-text-opacity, 1))}.text-blue-300{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.text-blue-600{--tw-text-opacity: 1;color:rgb(37 99 235 / var(--tw-text-opacity, 1))}.text-blue-700{--tw-text-opacity: 1;color:rgb(29 78 216 / var(--tw-text-opacity, 1))}.text-blue-800{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.text-gray-900{--tw-text-opacity: 1;color:rgb(17 24 39 / var(--tw-text-opacity, 1))}.text-green-600{--tw-text-opacity: 1;color:rgb(22 163 74 / var(--tw-text-opacity, 1))}.text-green-700{--tw-text-opacity: 1;color:rgb(21 128 61 / var(--tw-text-opacity, 1))}.text-green-800{--tw-text-opacity: 1;color:rgb(22 101 52 / var(--tw-text-opacity, 1))}.text-red-600{--tw-text-opacity: 1;color:rgb(220 38 38 / var(--tw-text-opacity, 1))}.text-red-700{--tw-text-opacity: 1;color:rgb(185 28 28 / var(--tw-text-opacity, 1))}.text-red-800{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-800{--tw-text-opacity: 1;color:rgb(133 77 14 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.no-underline{text-decoration-line:none}.opacity-0{opacity:0}.opacity-100{opacity:1}.opacity-70{opacity:.7}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-inner{--tw-shadow: inset 0 2px 4px 0 rgb(0 0 0 / .05);--tw-shadow-colored: inset 0 2px 4px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-xl{--tw-shadow: 0 20px 25px -5px rgb(0 0 0 / .1), 0 8px 10px -6px rgb(0 0 0 / .1);--tw-shadow-colored: 0 20px 25px -5px var(--tw-shadow-color), 0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.delay-0{transition-delay:0s}.delay-150{transition-delay:.15s}.delay-300{transition-delay:.3s}.duration-100{transition-duration:.1s}.duration-200{transition-duration:.2s}.duration-300{transition-duration:.3s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.top-4{top:1rem}.right-4{right:1rem}.bottom-4{bottom:1rem}.left-4{left:1rem}.fullscreen-mode .video-container{height:100vh}.fullscreen-mode .page-header,.fullscreen-mode .footer{display:none}:root{--primary-color: #1e88e5;--secondary-color: #424242;--background-color: #f5f5f5;--card-bg-color: #ffffff;--text-color: #212121;--border-color: #e0e0e0;--success-color: #4caf50;--warning-color: #ff9800;--danger-color: #f44336;--inactive-color: #9e9e9e}.toast-container{pointer-events:none;position:fixed;top:1.25rem;left:50%;z-index:50;display:flex;width:100%;max-width:450px;--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));flex-direction:column;align-items:center;gap:.625rem}.toast{pointer-events:auto;display:flex;width:100%;--tw-translate-y: -1.25rem;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));align-items:center;border-radius:.5rem;padding:.875rem 1.125rem;font-weight:500;opacity:0;--tw-shadow: 0 10px 15px -3px rgb(0 0 0 / .1), 0 4px 6px -4px rgb(0 0 0 / .1);--tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.3s}.toast.visible{--tw-translate-y: 0px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));opacity:1}.toast-success{border-left-width:6px;--tw-border-opacity: 1;border-color:rgb(22 163 74 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(34 197 94 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.toast-error{border-left-width:6px;--tw-border-opacity: 1;border-color:rgb(185 28 28 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(239 68 68 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.toast-icon{margin-right:.75rem;flex-shrink:0}.toast-message{flex-grow:1;font-size:.875rem;line-height:1.25rem;line-height:1.625}.toast-close{margin-left:.75rem;flex-shrink:0;cursor:pointer;opacity:.7;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.2s}.toast-close:hover{opacity:1}.toast-success .toast-icon svg,.toast-error .toast-icon svg{fill:#fff}.page{margin-bottom:1rem;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity, 1));padding:1rem;--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}@media (prefers-color-scheme: dark){.page{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}}footer{margin-top:1rem;display:flex;align-items:center;justify-content:space-between;--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1));padding:.75rem 1rem;font-size:.875rem;line-height:1.25rem;--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}footer a{--tw-text-opacity: 1;color:rgb(191 219 254 / var(--tw-text-opacity, 1));text-decoration-line:none}footer a:hover{text-decoration-line:underline}table{margin-bottom:1rem;width:100%;border-collapse:collapse}th,td{border-bottom-width:1px;--tw-border-opacity: 1;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));padding:.75rem 1.5rem;text-align:left}@media (prefers-color-scheme: dark){th,td{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}}th{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1));font-weight:600}@media (prefers-color-scheme: dark){th{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}}.empty-message{padding-top:2rem;padding-bottom:2rem;text-align:center;--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.empty-message{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}}.form-group{margin-bottom:1rem}.form-group label{margin-bottom:.25rem;display:block;font-weight:500}.form-group input[type=text],.form-group input[type=number],.form-group input[type=password],.form-group select{width:100%;border-radius:.25rem;border-width:1px;--tw-border-opacity: 1;border-color:rgb(209 213 219 / var(--tw-border-opacity, 1));padding:.5rem}@media (prefers-color-scheme: dark){.form-group input[type=text],.form-group input[type=number],.form-group input[type=password],.form-group select{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1));--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1));--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}}.loading-container{display:flex;height:100vh;flex-direction:column;align-items:center;justify-content:center;--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}@media (prefers-color-scheme: dark){.loading-container{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}}.loading-container .spinner{margin-bottom:1rem;height:3rem;width:3rem}@keyframes spin{to{transform:rotate(360deg)}}.loading-container .spinner{animation:spin 1s linear infinite;border-radius:9999px;border-width:4px;border-color:rgb(229 231 235 / var(--tw-border-opacity, 1));--tw-border-opacity: 1;border-top-color:rgb(37 99 235 / var(--tw-border-opacity, 1))}@media (prefers-color-scheme: dark){.loading-container .spinner{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}}.loading-container p{font-size:1.125rem;line-height:1.75rem;--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}@media (prefers-color-scheme: dark){.loading-container p{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}}.video-cell{position:relative;overflow:hidden;border-radius:.5rem;--tw-bg-opacity: 1;background-color:rgb(0 0 0 / var(--tw-bg-opacity, 1));--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.video-cell video{height:100%;width:100%;-o-object-fit:contain;object-fit:contain}@media (max-width: 768px){header{flex-direction:column;align-items:flex-start}nav ul{margin-top:.5rem;flex-wrap:wrap}.user-menu{margin-top:.5rem;align-self:flex-end}.page-header{flex-direction:column;align-items:flex-start}.controls{margin-top:.5rem;flex-wrap:wrap}}.last\\:mb-0:last-child{margin-bottom:0}.last\\:border-0:last-child{border-width:0px}.hover\\:scale-105:hover{--tw-scale-x: 1.05;--tw-scale-y: 1.05;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:scale-110:hover{--tw-scale-x: 1.1;--tw-scale-y: 1.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.hover\\:bg-amber-600:hover{--tw-bg-opacity: 1;background-color:rgb(217 119 6 / var(--tw-bg-opacity, 1))}.hover\\:bg-black\\/85:hover{background-color:rgba(0,0,0,.85)}.hover\\:bg-blue-100:hover{--tw-bg-opacity: 1;background-color:rgb(219 234 254 / var(--tw-bg-opacity, 1))}.hover\\:bg-blue-700:hover{--tw-bg-opacity: 1;background-color:rgb(29 78 216 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-200:hover{--tw-bg-opacity: 1;background-color:rgb(229 231 235 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-300:hover{--tw-bg-opacity: 1;background-color:rgb(209 213 219 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-400:hover{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity, 1))}.hover\\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-100:hover{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity, 1))}.hover\\:bg-green-700:hover{--tw-bg-opacity: 1;background-color:rgb(21 128 61 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-100:hover{--tw-bg-opacity: 1;background-color:rgb(254 226 226 / var(--tw-bg-opacity, 1))}.hover\\:bg-red-700:hover{--tw-bg-opacity: 1;background-color:rgb(185 28 28 / var(--tw-bg-opacity, 1))}.hover\\:bg-yellow-700:hover{--tw-bg-opacity: 1;background-color:rgb(161 98 7 / var(--tw-bg-opacity, 1))}.hover\\:text-blue-100:hover{--tw-text-opacity: 1;color:rgb(219 234 254 / var(--tw-text-opacity, 1))}.hover\\:text-blue-800:hover{--tw-text-opacity: 1;color:rgb(30 64 175 / var(--tw-text-opacity, 1))}.hover\\:text-gray-700:hover{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity, 1))}.hover\\:text-gray-800:hover{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity, 1))}.hover\\:text-red-800:hover{--tw-text-opacity: 1;color:rgb(153 27 27 / var(--tw-text-opacity, 1))}.hover\\:underline:hover{text-decoration-line:underline}.focus\\:border-blue-500:focus{--tw-border-opacity: 1;border-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-1:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity, 1))}.focus\\:ring-gray-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(107 114 128 / var(--tw-ring-opacity, 1))}.focus\\:ring-green-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(34 197 94 / var(--tw-ring-opacity, 1))}.focus\\:ring-red-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(239 68 68 / var(--tw-ring-opacity, 1))}.focus\\:ring-yellow-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(234 179 8 / var(--tw-ring-opacity, 1))}.focus\\:ring-opacity-50:focus{--tw-ring-opacity: .5}.focus\\:ring-offset-1:focus{--tw-ring-offset-width: 1px}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.disabled\\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\\:opacity-50:disabled{opacity:.5}@media (min-width: 640px){.sm\\:mb-0{margin-bottom:0}.sm\\:block{display:block}.sm\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.sm\\:flex-row{flex-direction:row}.sm\\:text-left{text-align:left}}@media (min-width: 768px){.md\\:sticky{position:sticky}.md\\:block{display:block}.md\\:flex{display:flex}.md\\:hidden{display:none}.md\\:w-64{width:16rem}.md\\:w-72{width:18rem}.md\\:w-\\[90\\%\\]{width:90%}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.md\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.md\\:flex-row{flex-direction:row}.md\\:self-start{align-self:flex-start}.md\\:border-b-0{border-bottom-width:0px}.md\\:border-r{border-right-width:1px}.md\\:pb-0{padding-bottom:0}.md\\:pl-4{padding-left:1rem}.md\\:pr-4{padding-right:1rem}.md\\:pt-0{padding-top:0}.md\\:top-4{top:1rem}}@media (min-width: 1024px){.lg\\:grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.lg\\:grid-cols-4{grid-template-columns:repeat(4,minmax(0,1fr))}}@media (prefers-color-scheme: dark){.dark\\:divide-gray-700>:not([hidden])~:not([hidden]){--tw-divide-opacity: 1;border-color:rgb(55 65 81 / var(--tw-divide-opacity, 1))}.dark\\:border-gray-600{--tw-border-opacity: 1;border-color:rgb(75 85 99 / var(--tw-border-opacity, 1))}.dark\\:border-gray-700{--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity, 1))}.dark\\:border-red-900\\/30{border-color:rgba(127,29,29,.3)}.dark\\:border-yellow-900\\/30{border-color:rgba(113,63,18,.3)}.dark\\:border-t-blue-500{--tw-border-opacity: 1;border-top-color:rgb(59 130 246 / var(--tw-border-opacity, 1))}.dark\\:bg-blue-800{--tw-bg-opacity: 1;background-color:rgb(30 64 175 / var(--tw-bg-opacity, 1))}.dark\\:bg-blue-900{--tw-bg-opacity: 1;background-color:rgb(30 58 138 / var(--tw-bg-opacity, 1))}.dark\\:bg-blue-900\\/30{background-color:rgba(30,58,138,.3)}.dark\\:bg-gray-400{--tw-bg-opacity: 1;background-color:rgb(156 163 175 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-500{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-600{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-700{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-800{--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity, 1))}.dark\\:bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-800{--tw-bg-opacity: 1;background-color:rgb(22 101 52 / var(--tw-bg-opacity, 1))}.dark\\:bg-green-900{--tw-bg-opacity: 1;background-color:rgb(20 83 45 / var(--tw-bg-opacity, 1))}.dark\\:bg-red-900{--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity, 1))}.dark\\:bg-red-900\\/20{background-color:rgba(127,29,29,.2)}.dark\\:bg-yellow-900{--tw-bg-opacity: 1;background-color:rgb(113 63 18 / var(--tw-bg-opacity, 1))}.dark\\:bg-yellow-900\\/20{background-color:rgba(113,63,18,.2)}.dark\\:bg-opacity-75{--tw-bg-opacity: .75}.dark\\:text-blue-200{--tw-text-opacity: 1;color:rgb(191 219 254 / var(--tw-text-opacity, 1))}.dark\\:text-blue-400{--tw-text-opacity: 1;color:rgb(96 165 250 / var(--tw-text-opacity, 1))}.dark\\:text-gray-100{--tw-text-opacity: 1;color:rgb(243 244 246 / var(--tw-text-opacity, 1))}.dark\\:text-gray-200{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.dark\\:text-gray-300{--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity, 1))}.dark\\:text-gray-400{--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity, 1))}.dark\\:text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity, 1))}.dark\\:text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.dark\\:text-green-100{--tw-text-opacity: 1;color:rgb(220 252 231 / var(--tw-text-opacity, 1))}.dark\\:text-green-200{--tw-text-opacity: 1;color:rgb(187 247 208 / var(--tw-text-opacity, 1))}.dark\\:text-green-400{--tw-text-opacity: 1;color:rgb(74 222 128 / var(--tw-text-opacity, 1))}.dark\\:text-red-200{--tw-text-opacity: 1;color:rgb(254 202 202 / var(--tw-text-opacity, 1))}.dark\\:text-red-400{--tw-text-opacity: 1;color:rgb(248 113 113 / var(--tw-text-opacity, 1))}.dark\\:text-red-500{--tw-text-opacity: 1;color:rgb(239 68 68 / var(--tw-text-opacity, 1))}.dark\\:text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.dark\\:text-yellow-200{--tw-text-opacity: 1;color:rgb(254 240 138 / var(--tw-text-opacity, 1))}.dark\\:text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.dark\\:ring-offset-gray-800{--tw-ring-offset-color: #1f2937}.dark\\:hover\\:bg-blue-900:hover{--tw-bg-opacity: 1;background-color:rgb(30 58 138 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-gray-500:hover{--tw-bg-opacity: 1;background-color:rgb(107 114 128 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-gray-600:hover{--tw-bg-opacity: 1;background-color:rgb(75 85 99 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-gray-700:hover{--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-green-900:hover{--tw-bg-opacity: 1;background-color:rgb(20 83 45 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:bg-red-900:hover{--tw-bg-opacity: 1;background-color:rgb(127 29 29 / var(--tw-bg-opacity, 1))}.dark\\:hover\\:text-blue-300:hover{--tw-text-opacity: 1;color:rgb(147 197 253 / var(--tw-text-opacity, 1))}.dark\\:hover\\:text-gray-200:hover{--tw-text-opacity: 1;color:rgb(229 231 235 / var(--tw-text-opacity, 1))}.dark\\:focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity, 1))}.dark\\:focus\\:ring-offset-gray-800:focus{--tw-ring-offset-color: #1f2937}}\n/*$vite$:1*/',document.head.appendChild(r),t({A:yt,D:function(t){const{isOpen:e,onClose:r,onConfirm:o,mode:n,count:i}=t;if(!e)return null;let a="Confirm Delete",s="Are you sure you want to delete this item?";return"selected"===n?(a="Delete Selected Recordings",s=`Are you sure you want to delete ${i} selected recording${1!==i?"s":""}?`):"all"===n&&(a="Delete All Filtered Recordings",s="Are you sure you want to delete all recordings matching the current filters? This action cannot be undone."),X`
    <div
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      onClick=${t=>{t.target===t.currentTarget&&r()}}
      onKeyDown=${t=>{"Escape"===t.key&&r()}}
    >
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-md mx-auto">
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${a}</h3>
        </div>

        <p class="text-gray-600 dark:text-gray-300 mb-6">${s}</p>

        <div class="flex justify-end space-x-3">
          <button
            class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"
            onClick=${r}
          >
            Cancel
          </button>
          <button
            class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors"
            onClick=${o}
          >
            Delete
          </button>
        </div>
      </div>
    </div>
  `},E:z,a:function(t,e){const r=document.getElementById("snapshot-preview-modal");if(!r)return void console.error("Snapshot modal not found. Make sure setupModals() has been called.");const o=document.getElementById("snapshot-preview-title"),n=document.getElementById("snapshot-preview-image"),i=document.getElementById("snapshot-download-btn"),a=document.getElementById("snapshot-close-btn"),s=r.querySelectorAll(".close"),c=r.querySelector(".modal-content");function l(){r.classList.add("hidden"),c&&(c.classList.remove("scale-100"),c.classList.add("scale-95"))}o&&(o.textContent=`Snapshot: ${e}`),r.dataset.imageData=t,r.dataset.streamName=e,n&&(n.src=t,n.style.display="block",n.onload=()=>{console.log("Snapshot image loaded successfully")},n.onerror=t=>{console.error("Error loading snapshot image:",t)}),a&&(a.onclick=l),s.forEach((t=>{t.onclick=l})),r.onclick=function(t){t.target===r&&l()},document.addEventListener("keydown",(function(t){"Escape"!==t.key||r.classList.contains("hidden")||l()})),i&&(i.onclick=function(){const t=r.dataset.imageData,o=r.dataset.streamName||e;if(!t)return console.error("No image data available for download"),void yo("Download failed: No image data available",5e3);console.log("Downloading snapshot with data URL length:",t.length);try{console.log("Using iframe download method");const e=document.createElement("canvas"),r=new Image;r.onload=function(){try{console.log("Image loaded for optimization, original dimensions:",r.width,"x",r.height);const t=r.width,a=r.height;console.log("Using original image dimensions for maximum quality:",t,"x",a),e.width=t,e.height=a;const s=e.getContext("2d");s.fillStyle="black",s.fillRect(0,0,e.width,e.height),s.drawImage(r,0,0,t,a);const c=e.toDataURL("image/jpeg",1);console.log("Optimized JPEG data URL length:",c.length);const l=`snapshot_${o}_${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`,d=document.createElement("iframe");d.style.display="none",document.body.appendChild(d);try{const t=d.contentWindow.document;t.open(),t.write(`\n                <!DOCTYPE html>\n                <html>\n                <head>\n                  <title>Downloading...</title>\n                  <script>\n                    function startDownload() {\n                      const a = document.getElementById('download-link');\n                      a.click();\n                      setTimeout(function() {\n                        window.parent.postMessage('download-complete', '*');\n                      }, 1000);\n                    }\n                  <\/script>\n                </head>\n                <body onload="startDownload()">\n                  <a id="download-link" href="${c}" download="${l}">Download</a>\n                </body>\n                </html>\n              `),t.close(),window.addEventListener("message",(function t(e){"download-complete"===e.data&&(window.removeEventListener("message",t),document.body.removeChild(d),yo("Snapshot downloaded successfully",3e3))}),{once:!0}),setTimeout((()=>{document.body.contains(d)&&document.body.removeChild(d)}),5e3)}catch(i){console.error("Iframe download method failed:",i),document.body.removeChild(d),n(c,l)}}catch(a){console.error("Canvas processing error:",a),yo("Download failed: Error processing image",5e3),n(t,`snapshot_${o}_${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`)}},r.onerror=function(e){console.error("Error loading image for optimization:",e),yo("Download failed: Could not load image",5e3),n(t,`snapshot_${o}_${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`)},r.src=t}catch(i){console.error("Error in snapshot download process:",i),yo("Download failed: "+i.message,5e3),n(t,`snapshot_${o}_${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`)}function n(t,e){console.log("Attempting direct link download");try{const r=document.createElement("a");r.href=t,r.download=e,r.target="_blank",r.rel="noopener noreferrer",document.body.appendChild(r),r.click(),setTimeout((()=>{document.body.removeChild(r)}),100),yo("Download initiated",3e3)}catch(r){console.error("Direct link download failed:",r),yo("Download failed: Browser restrictions",5e3)}}}),r.classList.remove("hidden"),c&&setTimeout((()=>{c.classList.remove("scale-95","opacity-0"),c.classList.add("scale-100","opacity-100")}),10)},b:bo,c:fo,d:mt,e:wo,f:uo,g:go,i:po,j:co,k:ao,l:function(t,r,n){const i=document.createElement("div");i.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",i.id="video-modal-overlay";const a=document.createElement("div");a.className="bg-gray-50 dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl flex flex-col w-full md:w-[90%]";const s=document.createElement("div");s.className="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700";const c=document.createElement("h3");c.className="text-lg font-semibold text-gray-900 dark:text-white",c.textContent=r||"Video";const l=document.createElement("button");l.className="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",l.innerHTML="✕",l.addEventListener("click",(()=>{document.body.removeChild(i)})),s.appendChild(c),s.appendChild(l);const d=document.createElement("div");d.className="p-4";const u=document.createElement("video");u.src=t,u.className="w-full h-auto max-w-full object-contain mx-auto",u.controls=!0,u.autoplay=!0,d.appendChild(u);const h=document.createElement("div");h.id="recordings-controls",h.className="mx-4 mb-4 p-4 border border-green-500 rounded-lg bg-white dark:bg-gray-700 shadow-md relative z-10";const p=document.createElement("h3");p.className="text-lg font-bold text-center mb-4 text-gray-800 dark:text-white",p.textContent="PLAYBACK CONTROLS",h.appendChild(p);const g=document.createElement("div");g.className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-2";const m=document.createElement("div");m.className="border-b pb-4 md:border-b-0 md:border-r md:pr-4 md:pb-0";const b=document.createElement("h4");b.className="font-bold text-center mb-3 text-gray-700 dark:text-gray-300",b.textContent="Playback Speed",m.appendChild(b);const f=document.createElement("div");f.className="flex flex-wrap justify-center gap-2",[.25,.5,1,1.5,2,4].forEach((t=>{const e=document.createElement("button");e.textContent=1===t?"1× (Normal)":`${t}×`,e.className=1===t?"speed-btn px-3 py-2 rounded-full bg-green-500 text-white text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50":"speed-btn px-3 py-2 rounded-full bg-gray-200 hover:bg-gray-300 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",e.setAttribute("data-speed",t),e.addEventListener("click",(()=>{u.playbackRate=t,f.querySelectorAll(".speed-btn").forEach((e=>{e.getAttribute("data-speed")===t.toString()?(e.classList.remove("bg-gray-200","hover:bg-gray-300"),e.classList.add("bg-green-500","text-white")):(e.classList.remove("bg-green-500","text-white"),e.classList.add("bg-gray-200","hover:bg-gray-300"))})),w.textContent=`Current Speed: ${t}× ${1===t?"(Normal)":""}`})),f.appendChild(e)})),m.appendChild(f);const w=document.createElement("div");w.id="current-speed-indicator",w.className="mt-3 text-center font-medium text-green-600 dark:text-green-400 text-sm",w.textContent="Current Speed: 1× (Normal)",m.appendChild(w),g.appendChild(m);const y=document.createElement("div");y.className="pt-4 md:pt-0 md:pl-4";const v=document.createElement("h4");v.className="font-bold text-center mb-2 text-gray-700 dark:text-gray-300",v.textContent="Detection Overlays",y.appendChild(v);const x=document.createElement("div");x.className="flex flex-col items-center gap-2";const _=document.createElement("div");_.className="flex items-center gap-2 mb-2";const k=document.createElement("input");k.type="checkbox",k.id="detection-overlay-checkbox",k.className="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600";const C=document.createElement("label");C.htmlFor="detection-overlay-checkbox",C.className="text-sm font-medium text-gray-700 dark:text-gray-300",C.textContent="Show Detection Overlays",_.appendChild(k),_.appendChild(C),x.appendChild(_);const S=document.createElement("div");S.className="flex flex-col w-full mt-2 mb-2";const E=document.createElement("label");E.htmlFor="detection-sensitivity-slider",E.className="text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",E.textContent="Detection Sensitivity";const R=document.createElement("div");R.id="detection-sensitivity-value",R.className="text-xs text-gray-600 dark:text-gray-400 text-center mb-1",R.textContent="Time Window: 2 seconds";const T=document.createElement("input");T.type="range",T.id="detection-sensitivity-slider",T.className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",T.min="1",T.max="10",T.step="1",T.value="2",S.appendChild(E),S.appendChild(T),S.appendChild(R),T.addEventListener("input",(()=>{q=parseInt(T.value),R.textContent=`Time Window: ${q} second${1!==q?"s":""}`,N&&L()})),x.appendChild(S);const O=document.createElement("div");if(O.id="detection-status-indicator",O.className="text-center text-sm text-gray-600 dark:text-gray-400",O.textContent="No detections loaded",x.appendChild(O),y.appendChild(x),g.appendChild(y),h.appendChild(g),n){const t=document.createElement("div");t.className="flex justify-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-700";const e=document.createElement("a");e.className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center text-sm",e.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />\n      </svg>\n      Download Video\n    ',e.href=n,e.download=`video-${Date.now()}.mp4`,t.appendChild(e),h.appendChild(t)}const P=document.createElement("div");P.className="p-2";const D=document.createElement("div");D.className="relative",D.style.position="relative",D.style.width="100%",D.style.height="100%";const I=document.createElement("canvas");I.id="detection-overlay-canvas",I.className="absolute top-0 left-0 w-full h-full pointer-events-none",I.style.position="absolute",I.style.top="0",I.style.left="0",I.style.width="100%",I.style.height="100%",I.style.pointerEvents="none",I.style.display="none",D.appendChild(u),D.appendChild(I),d.appendChild(D);let $=null,M=[],N=!1,q=parseInt(T.value);const F=t.match(/\/play\/(\d+)/);if(F&&F[1]){const t=parseInt(F[1],10),r=document.createElement("div");r.id="query-container",r.style.display="none",document.body.appendChild(r),o((async()=>{const{render:t,h:e}=await Promise.resolve().then((()=>Y));return{render:t,h:e}}),void 0,e.meta.url).then((({render:e,h:o})=>{e(o(zr,{client:lo},o((()=>{const{data:e,isLoading:r,error:o}=ho(["recording",t],`/api/recordings/${t}`);let n,i,a,s=!1;e&&e.stream&&e.start_time&&e.end_time&&($=e,console.log("Recording data:",e),n=Math.floor(new Date(e.start_time).getTime()/1e3),i=Math.floor(new Date(e.end_time).getTime()/1e3),a=e.stream,s=!0);const{data:c,isLoading:l,error:d}=ho(["detections",a,n,i],s?`/api/detection/results/${a}?start=${n}&end=${i}`:null,{},{enabled:s});return c&&c.detections&&(console.log("Detection data:",c),M=c.detections||[],O&&(M.length>0?(O.textContent=`${M.length} detection${1!==M.length?"s":""} available`,O.className="text-center text-sm font-medium text-green-600 dark:text-green-400",k&&(k.disabled=!1)):(O.textContent="No detections found for this recording",k&&(k.disabled=!0)))),o&&console.error("Error loading recording data:",o),d&&(console.error("Error loading detection data:",d),O&&(O.textContent="Error loading detections",O.className="text-center text-sm font-medium text-red-600 dark:text-red-400"),k&&(k.disabled=!0)),null}))),r)})).catch((e=>{console.error("Error loading preact for data fetching:",e),fetch(`/api/recordings/${t}`).then((t=>t.json())).then((t=>{if($=t,$&&$.stream&&$.start_time&&$.end_time){const t=Math.floor(new Date($.start_time).getTime()/1e3),e=Math.floor(new Date($.end_time).getTime()/1e3),r=new URLSearchParams({start:t,end:e});return fetch(`/api/detection/results/${$.stream}?${r.toString()}`)}throw new Error("Recording data incomplete")})).then((t=>t.json())).then((t=>{M=t.detections||[],M.length>0?(O.textContent=`${M.length} detection${1!==M.length?"s":""} available`,O.className="text-center text-sm font-medium text-green-600 dark:text-green-400",k.disabled=!1):(O.textContent="No detections found for this recording",k.disabled=!0)})).catch((t=>{console.error("Error fetching detection data:",t),O.textContent="Error loading detections",O.className="text-center text-sm font-medium text-red-600 dark:text-red-400",k.disabled=!0}))}))}function L(){if(!N||!u||!I||0===M.length)return;const t=u.videoWidth,e=u.videoHeight;if(0===t||0===e)return void requestAnimationFrame(L);I.width=t,I.height=e;const r=I.getContext("2d");r.clearRect(0,0,I.width,I.height);const o=u.currentTime;if(!$||!$.start_time)return;const n=Math.floor(new Date($.start_time).getTime()/1e3)+Math.floor(o),i=M.filter((t=>!!t.timestamp&&Math.abs(t.timestamp-n)<=q));O&&(i.length>0?O.textContent=`Showing ${i.length} detection${1!==i.length?"s":""} at current time`:O.textContent=`No detections at current time (${M.length} total)`),i.forEach((o=>{const n=o.x*t,i=o.y*e,a=o.width*t,s=o.height*e;r.strokeStyle="rgba(0, 255, 0, 0.8)",r.lineWidth=2,r.strokeRect(n,i,a,s),r.fillStyle="rgba(0, 0, 0, 0.7)";const c=`${o.label} (${Math.round(100*o.confidence)}%)`,l=r.measureText(c).width+10;r.fillRect(n,i-20,l,20),r.fillStyle="white",r.font="12px Arial",r.fillText(c,n+5,i-5)})),u.paused||u.ended||requestAnimationFrame(L)}k.addEventListener("change",(()=>{N=k.checked,N?(I.style.display="block",L(),O.textContent=`Showing ${M.length} detection${1!==M.length?"s":""}`):(I.style.display="none",O.textContent=`${M.length} detection${1!==M.length?"s":""} available`)})),u.addEventListener("play",(()=>{N&&L()})),u.addEventListener("seeked",(()=>{N&&L()})),u.addEventListener("timeupdate",(()=>{if(N){const t=Math.floor(2*u.currentTime)/2;u.lastDrawnTime!==t&&(u.lastDrawnTime=t,L())}})),a.appendChild(s),a.appendChild(d),a.appendChild(h),a.appendChild(P),i.appendChild(a),document.body.appendChild(i);const A=t=>{"Escape"===t.key&&(document.body.contains(i)&&document.body.removeChild(i),document.removeEventListener("keydown",A))};document.addEventListener("keydown",A),i.addEventListener("click",(t=>{t.target===i&&document.body.removeChild(i)}))},m:_t,s:yo,u:ho,y:ft});const o=t("_",(function(t,e,r){let o=Promise.resolve();function n(t){const e=new Event("vite:preloadError",{cancelable:!0});if(e.payload=t,window.dispatchEvent(e),!e.defaultPrevented)throw t}return o.then((e=>{for(const t of e||[])"rejected"===t.status&&n(t.reason);return t().catch(n)}))}));var n,i,a,s,c,l,d,u,h,p,g,m,b={},f=[],w=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,y=Array.isArray;function v(t,e){for(var r in e)t[r]=e[r];return t}function x(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function _(t,e,r){var o,i,a,s={};for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:s[a]=e[a];if(arguments.length>2&&(s.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===s[a]&&(s[a]=t.defaultProps[a]);return k(t,s,o,i,null)}function k(t,e,r,o,n){var s={type:t,props:e,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==n?++a:n,__i:-1,__u:0};return null==n&&null!=i.vnode&&i.vnode(s),s}function C(){return{current:null}}function S(t){return t.children}function E(t,e){this.props=t,this.context=e}function R(t,e){if(null==e)return t.__?R(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?R(t):null}function T(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return T(t)}}function O(t){(!t.__d&&(t.__d=!0)&&s.push(t)&&!P.__r++||c!==i.debounceRendering)&&((c=i.debounceRendering)||l)(P)}function P(){for(var t,e,r,o,n,a,c,l=1;s.length;)s.length>l&&s.sort(d),t=s.shift(),l=s.length,t.__d&&(r=void 0,n=(o=(e=t).__v).__e,a=[],c=[],e.__P&&((r=v({},o)).__v=o.__v+1,i.vnode&&i.vnode(r),L(e.__P,r,o,e.__n,e.__P.namespaceURI,32&o.__u?[n]:null,a,null==n?R(o):n,!!(32&o.__u),c),r.__v=o.__v,r.__.__k[r.__i]=r,A(a,r,c),r.__e!=n&&T(r)));P.__r=0}function D(t,e,r,o,n,i,a,s,c,l,d){var u,h,p,g,m,w,v=o&&o.__k||f,x=e.length;for(c=function(t,e,r,o,n){var i,a,s,c,l,d=r.length,u=d,h=0;for(t.__k=new Array(n),i=0;i<n;i++)null!=(a=e[i])&&"boolean"!=typeof a&&"function"!=typeof a?(c=i+h,(a=t.__k[i]="string"==typeof a||"number"==typeof a||"bigint"==typeof a||a.constructor==String?k(null,a,null,null,null):y(a)?k(S,{children:a},null,null,null):void 0===a.constructor&&a.__b>0?k(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,s=null,-1!==(l=a.__i=M(a,r,c,u))&&(u--,(s=r[l])&&(s.__u|=2)),null==s||null===s.__v?(-1==l&&(n>d?h--:n<d&&h++),"function"!=typeof a.type&&(a.__u|=4)):l!=c&&(l==c-1?h--:l==c+1?h++:(l>c?h--:h++,a.__u|=4))):t.__k[i]=null;if(u)for(i=0;i<d;i++)null!=(s=r[i])&&!(2&s.__u)&&(s.__e==o&&(o=R(s)),H(s,s));return o}(r,e,v,c,x),u=0;u<x;u++)null!=(p=r.__k[u])&&(h=-1===p.__i?b:v[p.__i]||b,p.__i=u,w=L(t,p,h,n,i,a,s,c,l,d),g=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&Q(h.ref,null,p),d.push(p.ref,p.__c||g,p)),null==m&&null!=g&&(m=g),4&p.__u||h.__k===p.__k?c=I(p,c,t):"function"==typeof p.type&&void 0!==w?c=w:g&&(c=g.nextSibling),p.__u&=-7);return r.__e=m,c}function I(t,e,r){var o,n;if("function"==typeof t.type){for(o=t.__k,n=0;o&&n<o.length;n++)o[n]&&(o[n].__=t,e=I(o[n],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=R(t)),r.insertBefore(t.__e,e||null),e=t.__e);do{e=e&&e.nextSibling}while(null!=e&&8==e.nodeType);return e}function $(t,e){return e=e||[],null==t||"boolean"==typeof t||(y(t)?t.some((function(t){$(t,e)})):e.push(t)),e}function M(t,e,r,o){var n,i,a=t.key,s=t.type,c=e[r];if(null===c&&null==t.key||c&&a==c.key&&s===c.type&&!(2&c.__u))return r;if(o>(null==c||2&c.__u?0:1))for(n=r-1,i=r+1;n>=0||i<e.length;){if(n>=0){if((c=e[n])&&!(2&c.__u)&&a==c.key&&s===c.type)return n;n--}if(i<e.length){if((c=e[i])&&!(2&c.__u)&&a==c.key&&s===c.type)return i;i++}}return-1}function N(t,e,r){"-"==e[0]?t.setProperty(e,null==r?"":r):t[e]=null==r?"":"number"!=typeof r||w.test(e)?r:r+"px"}function q(t,e,r,o,n){var i;t:if("style"==e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof o&&(t.style.cssText=o=""),o)for(e in o)r&&e in r||N(t.style,e,"");if(r)for(e in r)o&&r[e]===o[e]||N(t.style,e,r[e])}else if("o"==e[0]&&"n"==e[1])i=e!=(e=e.replace(u,"$1")),e=e.toLowerCase()in t||"onFocusOut"==e||"onFocusIn"==e?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?o?r.t=o.t:(r.t=h,t.addEventListener(e,i?g:p,i)):t.removeEventListener(e,i?g:p,i);else{if("http://www.w3.org/2000/svg"==n)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!=e&&"height"!=e&&"href"!=e&&"list"!=e&&"form"!=e&&"tabIndex"!=e&&"download"!=e&&"rowSpan"!=e&&"colSpan"!=e&&"role"!=e&&"popover"!=e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null==r||!1===r&&"-"!=e[4]?t.removeAttribute(e):t.setAttribute(e,"popover"==e&&1==r?"":r))}}function F(t){return function(e){if(this.l){var r=this.l[e.type+t];if(null==e.u)e.u=h++;else if(e.u<r.t)return;return r(i.event?i.event(e):e)}}}function L(t,e,r,o,n,a,s,c,l,d){var u,h,p,g,m,b,f,w,_,k,C,R,T,O,P,I,$,M=e.type;if(void 0!==e.constructor)return null;128&r.__u&&(l=!!(32&r.__u),a=[c=e.__e=r.__e]),(u=i.__b)&&u(e);t:if("function"==typeof M)try{if(w=e.props,_="prototype"in M&&M.prototype.render,k=(u=M.contextType)&&o[u.__c],C=u?k?k.props.value:u.__:o,r.__c?f=(h=e.__c=r.__c).__=h.__E:(_?e.__c=h=new M(w,C):(e.__c=h=new E(w,C),h.constructor=M,h.render=W),k&&k.sub(h),h.props=w,h.state||(h.state={}),h.context=C,h.__n=o,p=h.__d=!0,h.__h=[],h._sb=[]),_&&null==h.__s&&(h.__s=h.state),_&&null!=M.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=v({},h.__s)),v(h.__s,M.getDerivedStateFromProps(w,h.__s))),g=h.props,m=h.state,h.__v=e,p)_&&null==M.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),_&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(_&&null==M.getDerivedStateFromProps&&w!==g&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(w,C),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(w,h.__s,C)||e.__v==r.__v)){for(e.__v!=r.__v&&(h.props=w,h.state=h.__s,h.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some((function(t){t&&(t.__=e)})),R=0;R<h._sb.length;R++)h.__h.push(h._sb[R]);h._sb=[],h.__h.length&&s.push(h);break t}null!=h.componentWillUpdate&&h.componentWillUpdate(w,h.__s,C),_&&null!=h.componentDidUpdate&&h.__h.push((function(){h.componentDidUpdate(g,m,b)}))}if(h.context=C,h.props=w,h.__P=t,h.__e=!1,T=i.__r,O=0,_){for(h.state=h.__s,h.__d=!1,T&&T(e),u=h.render(h.props,h.state,h.context),P=0;P<h._sb.length;P++)h.__h.push(h._sb[P]);h._sb=[]}else do{h.__d=!1,T&&T(e),u=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++O<25);h.state=h.__s,null!=h.getChildContext&&(o=v(v({},o),h.getChildContext())),_&&!p&&null!=h.getSnapshotBeforeUpdate&&(b=h.getSnapshotBeforeUpdate(g,m)),I=u,null!=u&&u.type===S&&null==u.key&&(I=U(u.props.children)),c=D(t,y(I)?I:[I],e,r,o,n,a,s,c,l,d),h.base=e.__e,e.__u&=-161,h.__h.length&&s.push(h),f&&(h.__E=h.__=null)}catch(t){if(e.__v=null,l||null!=a)if(t.then){for(e.__u|=l?160:128;c&&8==c.nodeType&&c.nextSibling;)c=c.nextSibling;a[a.indexOf(c)]=null,e.__e=c}else for($=a.length;$--;)x(a[$]);else e.__e=r.__e,e.__k=r.__k;i.__e(t,e,r)}else null==a&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):c=e.__e=j(r.__e,e,r,o,n,a,s,l,d);return(u=i.diffed)&&u(e),128&e.__u?void 0:c}function A(t,e,r){for(var o=0;o<r.length;o++)Q(r[o],r[++o],r[++o]);i.__c&&i.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){i.__e(t,e.__v)}}))}function U(t){return"object"!=typeof t||null==t?t:y(t)?t.map(U):v({},t)}function j(t,e,r,o,a,s,c,l,d){var u,h,p,g,m,f,w,v=r.props,_=e.props,k=e.type;if("svg"==k?a="http://www.w3.org/2000/svg":"math"==k?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),null!=s)for(u=0;u<s.length;u++)if((m=s[u])&&"setAttribute"in m==!!k&&(k?m.localName==k:3==m.nodeType)){t=m,s[u]=null;break}if(null==t){if(null==k)return document.createTextNode(_);t=document.createElementNS(a,k,_.is&&_),l&&(i.__m&&i.__m(e,s),l=!1),s=null}if(null===k)v===_||l&&t.data===_||(t.data=_);else{if(s=s&&n.call(t.childNodes),v=r.props||b,!l&&null!=s)for(v={},u=0;u<t.attributes.length;u++)v[(m=t.attributes[u]).name]=m.value;for(u in v)if(m=v[u],"children"==u);else if("dangerouslySetInnerHTML"==u)p=m;else if(!(u in _)){if("value"==u&&"defaultValue"in _||"checked"==u&&"defaultChecked"in _)continue;q(t,u,null,m,a)}for(u in _)m=_[u],"children"==u?g=m:"dangerouslySetInnerHTML"==u?h=m:"value"==u?f=m:"checked"==u?w=m:l&&"function"!=typeof m||v[u]===m||q(t,u,m,v[u],a);if(h)l||p&&(h.__html===p.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(p&&(t.innerHTML=""),D("template"===e.type?t.content:t,y(g)?g:[g],e,r,o,"foreignObject"==k?"http://www.w3.org/1999/xhtml":a,s,c,s?s[0]:r.__k&&R(r,0),l,d),null!=s)for(u=s.length;u--;)x(s[u]);l||(u="value","progress"==k&&null==f?t.removeAttribute("value"):void 0!==f&&(f!==t[u]||"progress"==k&&!f||"option"==k&&f!==v[u])&&q(t,u,f,v[u],a),u="checked",void 0!==w&&w!==t[u]&&q(t,u,w,v[u],a))}return t}function Q(t,e,r){try{if("function"==typeof t){var o="function"==typeof t.__u;o&&t.__u(),o&&null==e||(t.__u=t(e))}else t.current=e}catch(t){i.__e(t,r)}}function H(t,e,r){var o,n;if(i.unmount&&i.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||Q(o,null,e)),null!=(o=t.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){i.__e(t,e)}o.base=o.__P=null}if(o=t.__k)for(n=0;n<o.length;n++)o[n]&&H(o[n],e,r||"function"!=typeof t.type);r||x(t.__e),t.__c=t.__=t.__e=void 0}function W(t,e,r){return this.constructor(t,r)}function z(t,e,r){var o,a,s,c;e==document&&(e=document.documentElement),i.__&&i.__(t,e),a=(o="function"==typeof r)?null:r&&r.__k||e.__k,s=[],c=[],L(e,t=(!o&&r||e).__k=_(S,null,[t]),a||b,b,e.namespaceURI,!o&&r?[r]:a?null:e.firstChild?n.call(e.childNodes):null,s,!o&&r?r:a?a.__e:e.firstChild,o,c),A(s,t,c)}function B(t,e){z(t,e,B)}function V(t,e,r){var o,i,a,s,c=v({},t.props);for(a in t.type&&t.type.defaultProps&&(s=t.type.defaultProps),e)"key"==a?o=e[a]:"ref"==a?i=e[a]:c[a]=void 0===e[a]&&void 0!==s?s[a]:e[a];return arguments.length>2&&(c.children=arguments.length>3?n.call(arguments,2):r),k(t.type,c,o||t.key,i||t.ref,null)}function K(t){function e(t){var r,o;return this.getChildContext||(r=new Set,(o={})[e.__c]=this,this.getChildContext=function(){return o},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&r.forEach((function(t){t.__e=!0,O(t)}))},this.sub=function(t){r.add(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){r&&r.delete(t),e&&e.call(t)}}),t.children}return e.__c="__cC"+m++,e.__=t,e.Provider=e.__l=(e.Consumer=function(t,e){return t.children(e)}).contextType=e,e}n=f.slice,i={__e:function(t,e,r,o){for(var n,i,a;e=e.__;)if((n=e.__c)&&!n.__)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(t)),a=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(t,o||{}),a=n.__d),a)return n.__E=n}catch(e){t=e}throw t}},a=0,E.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=v({},this.state),"function"==typeof t&&(t=t(v({},r),this.props)),t&&v(r,t),null!=t&&this.__v&&(e&&this._sb.push(e),O(this))},E.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),O(this))},E.prototype.render=S,s=[],l="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,d=function(t,e){return t.__v.__b-e.__v.__b},P.__r=0,u=/(PointerCapture)$|Capture$/i,h=0,p=F(!1),g=F(!0),m=0;const Y=Object.freeze(Object.defineProperty({__proto__:null,Component:E,Fragment:S,cloneElement:V,createContext:K,createElement:_,createRef:C,h:_,hydrate:B,get options(){return i},render:z,toChildArray:$},Symbol.toStringTag,{value:"Module"}));t("p",Y);var J=function(t,e,r,o){var n;e[0]=0;for(var i=1;i<e.length;i++){var a=e[i++],s=e[i]?(e[0]|=a?1:2,r[e[i++]]):e[++i];3===a?o[0]=s:4===a?o[1]=Object.assign(o[1]||{},s):5===a?(o[1]=o[1]||{})[e[++i]]=s:6===a?o[1][e[++i]]+=s+"":a?(n=t.apply(s,J(t,s,r,["",null])),o.push(n),s[0]?e[0]|=2:(e[i-2]=0,e[i]=n)):o.push(s)}return o},G=new Map;const X=t("h",function(t){var e=G.get(this);return e||(e=new Map,G.set(this,e)),(e=J(this,e.get(t)||(e.set(t,e=function(t){for(var e,r,o=1,n="",i="",a=[0],s=function(t){1===o&&(t||(n=n.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?a.push(0,t,n):3===o&&(t||n)?(a.push(3,t,n),o=2):2===o&&"..."===n&&t?a.push(4,t,0):2===o&&n&&!t?a.push(5,0,!0,n):o>=5&&((n||!t&&5===o)&&(a.push(o,0,n,r),o=6),t&&(a.push(o,t,0,r),o=6)),n=""},c=0;c<t.length;c++){c&&(1===o&&s(),s(c));for(var l=0;l<t[c].length;l++)e=t[c][l],1===o?"<"===e?(s(),a=[a],o=3):n+=e:4===o?"--"===n&&">"===e?(o=1,n=""):n=e+n[0]:i?e===i?i="":n+=e:'"'===e||"'"===e?i=e:">"===e?(s(),o=1):o&&("="===e?(o=5,r=n,n=""):"/"===e&&(o<5||">"===t[c][l+1])?(s(),3===o&&(a=a[0]),o=a,(a=a[0]).push(2,0,o),o=0):" "===e||"\t"===e||"\n"===e||"\r"===e?(s(),o=2):n+=e),3===o&&"!--"===n&&(o=4,a=a[0])}return s(),a}(t)),e),arguments,[])).length>1?e:e[0]}.bind(_));class Z{static generateUUID(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){const e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}constructor(){this.socket=null,this.clientId=null,this.connected=!1,this.reconnectAttempts=0,this.maxReconnectAttempts=5,this.reconnectDelay=1e3,this.handlers={},this.subscriptions=new Set,this.pendingSubscriptions=new Set,this.messageQueue=[],this.connecting=!1,this.subscriptionParams=new Map,this.clientIdCallbacks=[],this.connectionChangeListeners=[],console.log("WebSocket client initialized, waiting for server-assigned client ID"),this.connect=this.connect.bind(this),this.disconnect=this.disconnect.bind(this),this.reconnect=this.reconnect.bind(this),this.send=this.send.bind(this),this.subscribe=this.subscribe.bind(this),this.unsubscribe=this.unsubscribe.bind(this),this.handleMessage=this.handleMessage.bind(this),this.processMessageQueue=this.processMessageQueue.bind(this),this.addConnectionChangeListener=this.addConnectionChangeListener.bind(this),this.removeConnectionChangeListener=this.removeConnectionChangeListener.bind(this),this.notifyConnectionChangeListeners=this.notifyConnectionChangeListeners.bind(this),this.connect()}connect(){if(this.socket&&(this.socket.readyState===WebSocket.OPEN||this.socket.readyState===WebSocket.CONNECTING))return void console.log("WebSocket already connected or connecting");if(this.connecting)return void console.log("WebSocket connection already in progress");this.connecting=!0;const t=`${"https:"===window.location.protocol?"wss:":"ws:"}//${window.location.host}/api/ws`;if(console.log(`Connecting to WebSocket server at ${t}`),"undefined"==typeof WebSocket)return console.error("WebSocket not supported by this browser or environment"),this.connecting=!1,void this.fallbackToHttp();try{const e=setTimeout((()=>{console.error("WebSocket connection timeout"),this.socket&&this.socket.readyState!==WebSocket.OPEN&&(this.socket.close(),this.socket=null,this.connecting=!1,this.fallbackToHttp())}),1e4);this.socket=new WebSocket(t),this.socket.onopen=()=>{clearTimeout(e),console.log("WebSocket connection established"),this.connected=!0,this.connecting=!1,this.reconnectAttempts=0,this.reconnectDelay=1e3,this.notifyConnectionChangeListeners(!0),void 0!==this.socket.bufferedAmount&&console.log(`Initial WebSocket buffered amount: ${this.socket.bufferedAmount}`),console.log("WebSocket connected, waiting for welcome message with client ID"),this.clientId&&(console.log(`Using existing client ID: ${this.clientId}`),this.pendingSubscriptions=new Set([...this.subscriptions]),this.subscriptions.clear(),this.processPendingSubscriptions(),this.processMessageQueue())},this.socket.onmessage=t=>{try{this.handleMessage(t.data)}catch(e){console.error("Error handling WebSocket message:",e)}},this.socket.onclose=t=>{if(clearTimeout(e),console.log(`WebSocket connection closed: ${t.code} ${t.reason}`),this.connected=!1,this.connecting=!1,this.notifyConnectionChangeListeners(!1),1006===t.code&&(console.warn("WebSocket closed abnormally (code 1006), possible compatibility issue"),this.reconnectAttempts>=3))return console.warn("Multiple abnormal closures, falling back to HTTP"),void this.fallbackToHttp();1e3!==t.code&&this.reconnect()},this.socket.onerror=t=>{console.error("WebSocket error:",t),this.connecting=!1,this.connected&&(this.connected=!1,this.notifyConnectionChangeListeners(!1)),this.reconnectAttempts++,this.reconnectAttempts>=3&&(console.warn("Multiple WebSocket errors, falling back to HTTP"),this.fallbackToHttp())}}catch(e){console.error("Error creating WebSocket:",e),this.connecting=!1,this.reconnect()}}fallbackToHttp(){console.warn("Falling back to HTTP for operations"),this.usingHttpFallback=!0,this.connected&&(this.connected=!1,this.notifyConnectionChangeListeners(!1));const t=new CustomEvent("websocket-fallback",{detail:{usingHttp:!0}});window.dispatchEvent(t),this.pendingSubscriptions.size>0&&console.log(`Notifying ${this.pendingSubscriptions.size} pending subscriptions about HTTP fallback`)}disconnect(){this.socket&&(this.socket.close(1e3,"Client disconnected"),this.socket=null),this.connected=!1,this.connecting=!1,this.subscriptions.clear(),this.pendingSubscriptions.clear(),this.subscriptionParams.clear(),this.messageQueue=[]}reconnect(){if(this.reconnectAttempts>=this.maxReconnectAttempts)return void console.log("Maximum reconnect attempts reached");this.reconnectAttempts++;const t=Math.min(3e4,this.reconnectDelay*Math.pow(1.5,this.reconnectAttempts-1));console.log(`Reconnecting in ${t}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`),setTimeout((()=>{this.connect()}),t)}send(t,e,r){if(!this.connected)return console.log("WebSocket not connected, queueing message"),this.messageQueue.push({type:t,topic:e,payload:r}),this.connect(),!1;const o={type:t,topic:e,payload:r};try{return console.log("Sending WebSocket message:",JSON.stringify(o)),this.socket.send(JSON.stringify(o)),!0}catch(n){return console.error("Error sending WebSocket message:",n),this.messageQueue.push({type:t,topic:e,payload:r}),!1}}processMessageQueue(){if(!this.connected||0===this.messageQueue.length)return;console.log(`Processing ${this.messageQueue.length} queued messages`);const t=[...this.messageQueue];this.messageQueue=[];for(const e of t)this.send(e.type,e.topic,e.payload)}processPendingSubscriptions(){if(this.connected&&0!==this.pendingSubscriptions.size){console.log(`Processing ${this.pendingSubscriptions.size} pending subscriptions`);for(const t of this.pendingSubscriptions){const e=this.subscriptionParams.get(t)||{};this.subscribe(t,e)}this.pendingSubscriptions.clear()}}subscribe(t,e={}){if(!this.connected)return console.log(`WebSocket not connected, queueing subscription to ${t}`),this.pendingSubscriptions.add(t),this.connect(),!1;this.subscriptions.has(t)&&console.log(`Already subscribed to ${t}, updating parameters`),console.log(`Subscribing to ${t} with params:`,e),this.subscriptionParams.set(t,e);const r={client_id:this.clientId,...e},o=this.send("subscribe",t,r);return o?this.subscriptions.add(t):this.pendingSubscriptions.add(t),o}unsubscribe(t){if(!this.connected)return console.log(`WebSocket not connected, cannot unsubscribe from ${t}`),this.pendingSubscriptions.delete(t),!1;if(!this.subscriptions.has(t))return console.log(`Not subscribed to ${t}`),!0;console.log(`Unsubscribing from ${t}`);const e=this.send("unsubscribe",t,{});return e&&(this.subscriptions.delete(t),this.subscriptionParams.delete(t)),e}handleMessage(t){console.log("Raw WebSocket message received:",t);try{const r=JSON.parse(t);if(!r.type||!r.topic)return void console.error("Invalid WebSocket message format:",r);if(console.log(`Received WebSocket message: ${r.type} ${r.topic}`,r),"progress"!==r.type&&"result"!==r.type||console.log(`Received ${r.type} message for topic ${r.topic}:`,r.payload),"string"==typeof r.payload)try{const t=JSON.parse(r.payload);console.log(`Parsed payload for ${r.type}:${r.topic}:`,t),r.payload=t}catch(ct){console.log(`Payload for ${r.type}:${r.topic} is not JSON, keeping as string`)}if("welcome"===r.type&&"system"===r.topic){console.log("Received welcome message:",r);let t=r.payload;if(console.log("Welcome payload type:",typeof t),"string"==typeof t)try{t=JSON.parse(t),console.log("Parsed welcome payload:",t)}catch(ct){console.error("Error parsing welcome payload as JSON:",ct),console.log("Raw payload string:",t)}if(t&&t.client_id){this.clientId=t.client_id,console.log(`WebSocket client ID received from server: ${this.clientId}`),this.pendingSubscriptions=new Set([...this.subscriptions]),this.subscriptions.clear(),this.processPendingSubscriptions(),this.processMessageQueue(),console.log(`Notifying ${this.clientIdCallbacks.length} waiting operations about client ID`);const r=[...this.clientIdCallbacks];this.clientIdCallbacks=[];for(const t of r)try{t(this.clientId)}catch(e){console.error("Error in client ID callback:",e)}}else console.error("Welcome message missing client_id:",t);return}const o=`${r.type}:${r.topic}`,n=this.handlers[o]||[];for(const t of n)try{t(r.payload)}catch(e){console.error(`Error in WebSocket message handler for ${o}:`,e)}}catch(e){console.error("Error parsing WebSocket message:",e)}}on(t,e,r){const o=`${t}:${e}`;this.handlers[o]||(this.handlers[o]=[]),this.handlers[o].push(r),"welcome"!==t&&"ack"!==t&&"error"!==t&&this.subscribe(e)}off(t,e,r){const o=`${t}:${e}`;this.handlers[o]&&(this.handlers[o]=r?this.handlers[o].filter((t=>t!==r)):[],0===this.handlers[o].length&&"welcome"!==t&&"ack"!==t&&"error"!==t&&this.unsubscribe(e))}getClientId(t){return this.clientId?(t&&t(this.clientId),this.clientId):t?(console.log("Client ID not available yet, adding callback to queue"),this.clientIdCallbacks.push(t),this.connected||this.connecting||(console.log("Not connected, connecting now to get client ID"),this.connect()),null):null}addConnectionChangeListener(t){if("function"==typeof t){if(!this.connectionChangeListeners.includes(t)){this.connectionChangeListeners.push(t),console.log("Added connection change listener");try{t(this.connected)}catch(e){console.error("Error in connection change listener:",e)}}}else console.error("Connection change listener must be a function")}removeConnectionChangeListener(t){const e=this.connectionChangeListeners.indexOf(t);-1!==e&&(this.connectionChangeListeners.splice(e,1),console.log("Removed connection change listener"))}notifyConnectionChangeListeners(t){console.log(`Notifying ${this.connectionChangeListeners.length} connection change listeners: connected=${t}`);for(const r of this.connectionChangeListeners)try{r(t)}catch(e){console.error("Error in connection change listener:",e)}}isConnected(){return this.connected}}class tt{constructor(t){this.wsClient=t,this.topic="recordings/batch-delete",this.progressHandlers=[],this.resultHandlers=[],this.errorHandlers=[],this._httpFallbackTimeout=null,this.wsClient.subscribe(this.topic),this.wsClient.on("progress",this.topic,(t=>{this.handleProgress(t)})),this.wsClient.on("result",this.topic,(t=>{this.handleResult(t)})),this.wsClient.on("error",this.topic,(t=>{this.handleError(t)}))}deleteWithProgress(t){return new Promise(((e,r)=>{if(console.log("Starting batch delete operation with params:",t),!this.wsClient.isConnected())return console.error("WebSocket not connected, attempting to connect"),this.wsClient.connect(),void setTimeout((()=>{this.wsClient.isConnected()?(console.log("WebSocket connected, retrying batch delete"),this.deleteWithProgress(t).then(e).catch(r)):(console.error("WebSocket still not connected, falling back to HTTP"),"function"==typeof batchDeleteRecordingsByHttpRequest?batchDeleteRecordingsByHttpRequest(t).then(e).catch(r):r(new Error("WebSocket not connected and HTTP fallback not available")))}),1e3);const o=o=>{console.log("Using WebSocket client ID for batch delete:",o),console.log("Registering WebSocket handlers for batch delete");const n=t=>{console.log("Batch delete result received:",t),this.wsClient.off("result",this.topic,n),console.log("Batch delete result details:",JSON.stringify(t,null,2)),this._httpFallbackTimeout&&(console.log("Clearing HTTP fallback timeout because we received a result"),clearTimeout(this._httpFallbackTimeout),this._httpFallbackTimeout=null),e(t)},i=t=>{console.error("Batch delete error received:",t),this.wsClient.off("error",this.topic,i),this._httpFallbackTimeout&&(console.log("Clearing HTTP fallback timeout because we received an error"),clearTimeout(this._httpFallbackTimeout),this._httpFallbackTimeout=null),r(new Error(t.error||"Unknown error"))};if(this.wsClient.on("result",this.topic,n),this.wsClient.on("error",this.topic,i),this.wsClient.subscriptions.has(this.topic))console.log(`Already subscribed to ${this.topic}, sending request immediately`),this.sendDeleteRequest(t,o,e,r,n,i);else{console.log(`Subscribing to ${this.topic} before sending request`);const a={client_id:o};if(console.log("Subscription payload:",a),this.wsClient.socket&&this.wsClient.socket.readyState===WebSocket.OPEN){const t={type:"subscribe",topic:this.topic,payload:a};this.wsClient.socket.send(JSON.stringify(t)),console.log("Subscription sent directly via socket")}else this.wsClient.send("subscribe",this.topic,a);this.wsClient.subscriptions.add(this.topic),setTimeout((()=>{this.sendDeleteRequest(t,o,e,r,n,i)}),1e3)}},n=this.wsClient.getClientId(o);n&&o(n)}))}sendDeleteRequest(t,e,r,o,n,i){if(console.log("Sending batch delete request"),!t.ids&&!t.filter)return console.error("Missing ids or filter in batch delete params"),this.wsClient.off("result",this.topic,n),this.wsClient.off("error",this.topic,i),void o(new Error("Missing ids or filter in batch delete params"));if(t.ids?console.log(`Deleting ${t.ids.length} recordings with IDs:`,t.ids):t.filter&&console.log("Deleting recordings with filter:",t.filter),!e||!e.startsWith("0x"))return console.error(`Invalid client ID format: ${e}. Expected a pointer value like 0x12345678`),this.wsClient.off("result",this.topic,n),this.wsClient.off("error",this.topic,i),void o(new Error("Invalid client ID format. Please try again."));const a={...t,client_id:e};console.log("Full request params:",JSON.stringify(a,null,2));const s={type:"request",topic:this.topic,payload:a};console.log("Complete WebSocket message:",JSON.stringify(s,null,2)),console.log("Client ID format check:",{clientId:e,startsWithHex:e.startsWith("0x"),length:e.length,isValid:e.startsWith("0x")&&e.length>2}),t.filter&&t.totalCount&&"function"==typeof window.updateBatchDeleteProgress?(console.log("Simulating initial progress update with total count:",t.totalCount),window.updateBatchDeleteProgress({current:0,total:t.totalCount,succeeded:0,failed:0,status:`Starting batch delete operation for ${t.totalCount} recordings...`,complete:!1})):t.ids&&"function"==typeof window.updateBatchDeleteProgress&&(console.log("Simulating initial progress update with IDs count:",t.ids.length),window.updateBatchDeleteProgress({current:0,total:t.ids.length,succeeded:0,failed:0,status:`Starting batch delete operation for ${t.ids.length} recordings...`,complete:!1}));try{if(this.wsClient.socket&&this.wsClient.socket.readyState===WebSocket.OPEN)return s.payload.client_id&&s.payload.client_id===e||(console.warn("Client ID missing or incorrect in payload, fixing it"),s.payload.client_id=e),this.wsClient.socket.send(JSON.stringify(s)),console.log("Batch delete request sent successfully via direct socket send"),this._httpFallbackTimeout=setTimeout((()=>{console.warn("No response received after 30 seconds, trying HTTP fallback"),this._httpFallbackTimeout=null,"function"==typeof batchDeleteRecordingsByHttpRequest&&(console.log("Falling back to HTTP for batch delete"),batchDeleteRecordingsByHttpRequest(t).then(r).catch(o))}),3e4),!0;{const e=this.wsClient.send("request",this.topic,a);return e?console.log("Batch delete request sent successfully via send method"):(console.error("Failed to send batch delete request"),this.wsClient.off("result",this.topic,n),this.wsClient.off("error",this.topic,i),"function"==typeof batchDeleteRecordingsByHttpRequest?(console.log("Falling back to HTTP for batch delete"),batchDeleteRecordingsByHttpRequest(t).then(r).catch(o)):o(new Error("Failed to send batch delete request"))),e}}catch(c){return console.error("Error sending batch delete request:",c),this.wsClient.off("result",this.topic,n),this.wsClient.off("error",this.topic,i),o(c),!1}}handleProgress(t){console.log("Batch delete progress update received:",t);let e=t;if("string"==typeof t)try{e=JSON.parse(t),console.log("Parsed progress payload:",e)}catch(ct){console.error("Error parsing progress payload:",ct),e={error:"Failed to parse progress data"}}if(this._httpFallbackTimeout&&(console.log("Clearing HTTP fallback timeout because we received a progress update"),clearTimeout(this._httpFallbackTimeout),this._httpFallbackTimeout=null),"function"==typeof window.updateBatchDeleteProgress&&e)try{console.log("Directly updating progress UI with:",e),window.updateBatchDeleteProgress(e)}catch(r){console.error("Error directly updating progress UI:",r)}for(const o of this.progressHandlers)try{o(e)}catch(r){console.error("Error in progress handler:",r)}}handleResult(t){console.log("Batch delete result received:",t),this._httpFallbackTimeout&&(console.log("Clearing HTTP fallback timeout because we received a result"),clearTimeout(this._httpFallbackTimeout),this._httpFallbackTimeout=null);let e=t;if("string"==typeof t)try{e=JSON.parse(t),console.log("Parsed result payload:",e)}catch(ct){console.error("Error parsing result payload:",ct),e={error:"Failed to parse result data"}}if("function"==typeof window.updateBatchDeleteProgress&&e)try{const t={current:e.total||0,total:e.total||0,succeeded:e.succeeded||0,failed:e.failed||0,status:"Batch delete operation complete",complete:!0};console.log("Updating progress UI with final result:",t),window.updateBatchDeleteProgress(t)}catch(r){console.error("Error updating progress UI from result:",r)}for(const o of this.resultHandlers)try{o(e)}catch(r){console.error("Error in result handler:",r)}}handleError(t){console.log("Batch delete error received:",t),this._httpFallbackTimeout&&(console.log("Clearing HTTP fallback timeout because we received an error"),clearTimeout(this._httpFallbackTimeout),this._httpFallbackTimeout=null);let e=t;if("string"==typeof t)try{e=JSON.parse(t),console.log("Parsed error payload:",e)}catch(ct){console.error("Error parsing error payload:",ct),e={error:"string"==typeof t?t:"Unknown error"}}if("function"==typeof window.updateBatchDeleteProgress)try{const t={current:0,total:0,succeeded:0,failed:0,status:`Error: ${e.error||"Unknown error"}`,complete:!0,error:!0};console.log("Updating progress UI with error:",t),window.updateBatchDeleteProgress(t)}catch(r){console.error("Error updating progress UI from error:",r)}for(const o of this.errorHandlers)try{o(e)}catch(r){console.error("Error in error handler:",r)}}onProgress(t){return this.progressHandlers.push(t),()=>{this.progressHandlers=this.progressHandlers.filter((e=>e!==t))}}onResult(t){return this.resultHandlers.push(t),()=>{this.resultHandlers=this.resultHandlers.filter((e=>e!==t))}}onError(t){return this.errorHandlers.push(t),()=>{this.errorHandlers=this.errorHandlers.filter((e=>e!==t))}}}var et,rt,ot,nt,it=0,at=[],st=i,ct=st.__b,lt=st.__r,dt=st.diffed,ut=st.__c,ht=st.unmount,pt=st.__;function gt(t,e){st.__h&&st.__h(rt,t,it||e),it=0;var r=rt.__H||(rt.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function mt(t){return it=1,bt(It,t)}function bt(t,e,r){var o=gt(et++,2);if(o.t=t,!o.__c&&(o.__=[r?r(e):It(void 0,e),function(t){var e=o.__N?o.__N[0]:o.__[0],r=o.t(e,t);e!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=rt,!rt.__f)){var n=function(t,e,r){if(!o.__c.__H)return!0;var n=o.__c.__H.__.filter((function(t){return!!t.__c}));if(n.every((function(t){return!t.__N})))return!i||i.call(this,t,e,r);var a=o.__c.props!==t;return n.forEach((function(t){if(t.__N){var e=t.__[0];t.__=t.__N,t.__N=void 0,e!==t.__[0]&&(a=!0)}})),i&&i.call(this,t,e,r)||a};rt.__f=!0;var i=rt.shouldComponentUpdate,a=rt.componentWillUpdate;rt.componentWillUpdate=function(t,e,r){if(this.__e){var o=i;i=void 0,n(t,e,r),i=o}a&&a.call(this,t,e,r)},rt.shouldComponentUpdate=n}return o.__N||o.__}function ft(t,e){var r=gt(et++,3);!st.__s&&Dt(r.__H,e)&&(r.__=t,r.u=e,rt.__H.__h.push(r))}function wt(t,e){var r=gt(et++,4);!st.__s&&Dt(r.__H,e)&&(r.__=t,r.u=e,rt.__h.push(r))}function yt(t){return it=5,xt((function(){return{current:t}}),[])}function vt(t,e,r){it=6,wt((function(){if("function"==typeof t){var r=t(e());return function(){t(null),r&&"function"==typeof r&&r()}}if(t)return t.current=e(),function(){return t.current=null}}),null==r?r:r.concat(t))}function xt(t,e){var r=gt(et++,7);return Dt(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function _t(t,e){return it=8,xt((function(){return t}),e)}function kt(t){var e=rt.context[t.__c],r=gt(et++,9);return r.c=t,e?(null==r.__&&(r.__=!0,e.sub(rt)),e.props.value):t.__}function Ct(t,e){st.useDebugValue&&st.useDebugValue(e?e(t):t)}function St(){var t=gt(et++,11);if(!t.__){for(var e=rt.__v;null!==e&&!e.__m&&null!==e.__;)e=e.__;var r=e.__m||(e.__m=[0,0]);t.__="P"+r[0]+"-"+r[1]++}return t.__}function Et(){for(var t;t=at.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Ot),t.__H.__h.forEach(Pt),t.__H.__h=[]}catch(et){t.__H.__h=[],st.__e(et,t.__v)}}st.__b=function(t){rt=null,ct&&ct(t)},st.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),pt&&pt(t,e)},st.__r=function(t){lt&&lt(t),et=0;var e=(rt=t.__c).__H;e&&(ot===rt?(e.__h=[],rt.__h=[],e.__.forEach((function(t){t.__N&&(t.__=t.__N),t.u=t.__N=void 0}))):(e.__h.forEach(Ot),e.__h.forEach(Pt),e.__h=[],et=0)),ot=rt},st.diffed=function(t){dt&&dt(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(1!==at.push(e)&&nt===st.requestAnimationFrame||((nt=st.requestAnimationFrame)||Tt)(Et)),e.__H.__.forEach((function(t){t.u&&(t.__H=t.u),t.u=void 0}))),ot=rt=null},st.__c=function(t,e){e.some((function(t){try{t.__h.forEach(Ot),t.__h=t.__h.filter((function(t){return!t.__||Pt(t)}))}catch(rt){e.some((function(t){t.__h&&(t.__h=[])})),e=[],st.__e(rt,t.__v)}})),ut&&ut(t,e)},st.unmount=function(t){ht&&ht(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach((function(t){try{Ot(t)}catch(t){e=t}})),r.__H=void 0,e&&st.__e(e,r.__v))};var Rt="function"==typeof requestAnimationFrame;function Tt(t){var e,r=function(){clearTimeout(o),Rt&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(r,100);Rt&&(e=requestAnimationFrame(r))}function Ot(t){var e=rt,r=t.__c;"function"==typeof r&&(t.__c=void 0,r()),rt=e}function Pt(t){var e=rt;t.__c=t.__(),rt=e}function Dt(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function It(t,e){return"function"==typeof e?e(t):e}function $t(t,e){for(var r in e)t[r]=e[r];return t}function Mt(t,e){for(var r in t)if("__source"!==r&&!(r in e))return!0;for(var o in e)if("__source"!==o&&t[o]!==e[o])return!0;return!1}function Nt(t,e){var r=e(),o=mt({t:{__:r,u:e}}),n=o[0].t,i=o[1];return wt((function(){n.__=r,n.u=e,qt(n)&&i({t:n})}),[t,r,e]),ft((function(){return qt(n)&&i({t:n}),t((function(){qt(n)&&i({t:n})}))}),[t]),r}function qt(t){var e,r,o=t.u,n=t.__;try{var i=o();return!((e=n)===(r=i)&&(0!==e||1/e==1/r)||e!=e&&r!=r)}catch(t){return!0}}function Ft(t){t()}function Lt(t){return t}function At(){return[!1,Ft]}var Ut=wt;function jt(t,e){this.props=t,this.context=e}function Qt(t,e){function r(t){var r=this.props.ref,o=r==t.ref;return!o&&r&&(r.call?r(null):r.current=null),e?!e(this.props,t)||!o:Mt(this.props,t)}function o(e){return this.shouldComponentUpdate=r,_(t,e)}return o.displayName="Memo("+(t.displayName||t.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o}(jt.prototype=new E).isPureReactComponent=!0,jt.prototype.shouldComponentUpdate=function(t,e){return Mt(this.props,t)||Mt(this.state,e)};var Ht=i.__b;i.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Ht&&Ht(t)};var Wt="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function zt(t){function e(e){var r=$t({},e);return delete r.ref,t(r,e.ref||null)}return e.$$typeof=Wt,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Bt=function(t,e){return null==t?null:$($(t).map(e))},Vt={map:Bt,forEach:Bt,count:function(t){return t?$(t).length:0},only:function(t){var e=$(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:$},Kt=i.__e;i.__e=function(t,e,r,o){if(t.then)for(var n,i=e;i=i.__;)if((n=i.__c)&&n.__c)return null==e.__e&&(e.__e=r.__e,e.__k=r.__k),n.__c(t,e);Kt(t,e,r,o)};var Yt=i.unmount;function Jt(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),t.__c.__H=null),null!=(t=$t({},t)).__c&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map((function(t){return Jt(t,e,r)}))),t}function Gt(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map((function(t){return Gt(t,e,r)})),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function Xt(){this.__u=0,this.o=null,this.__b=null}function Zt(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function te(t){var e,r,o;function n(n){if(e||(e=t()).then((function(t){r=t.default||t}),(function(t){o=t})),o)throw o;if(!r)throw e;return _(r,n)}return n.displayName="Lazy",n.__f=!0,n}function ee(){this.i=null,this.l=null}i.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Yt&&Yt(t)},(Xt.prototype=new E).__c=function(t,e){var r=e.__c,o=this;null==o.o&&(o.o=[]),o.o.push(r);var n=Zt(o.__v),i=!1,a=function(){i||(i=!0,r.__R=null,n?n(s):s())};r.__R=a;var s=function(){if(! --o.__u){if(o.state.__a){var t=o.state.__a;o.__v.__k[0]=Gt(t,t.__c.__P,t.__c.__O)}var e;for(o.setState({__a:o.__b=null});e=o.o.pop();)e.forceUpdate()}};o.__u++||32&e.__u||o.setState({__a:o.__b=o.__v.__k[0]}),t.then(a,a)},Xt.prototype.componentWillUnmount=function(){this.o=[]},Xt.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=Jt(this.__b,r,o.__O=o.__P)}this.__b=null}var n=e.__a&&_(S,null,t.fallback);return n&&(n.__u&=-33),[_(S,null,e.__a?null:t.children),n]};var re=function(t,e,r){if(++r[1]===r[0]&&t.l.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.l.size))for(r=t.i;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.i=r=r[2]}};function oe(t){return this.getChildContext=function(){return t.context},t.children}function ne(t){var e=this,r=t.h;e.componentWillUnmount=function(){z(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),e.v||(e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(t){this.childNodes.push(t),e.h.appendChild(t)},insertBefore:function(t,r){this.childNodes.push(t),e.h.insertBefore(t,r)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.h.removeChild(t)}}),z(_(oe,{context:e.context},t.__v),e.v)}function ie(t,e){var r=_(ne,{__v:t,h:e});return r.containerInfo=e,r}(ee.prototype=new E).__a=function(t){var e=this,r=Zt(e.__v),o=e.l.get(t);return o[0]++,function(n){var i=function(){e.props.revealOrder?(o.push(n),re(e,t,o)):n()};r?r(i):i()}},ee.prototype.render=function(t){this.i=null,this.l=new Map;var e=$(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var r=e.length;r--;)this.l.set(e[r],this.i=[1,0,this.i]);return t.children},ee.prototype.componentDidUpdate=ee.prototype.componentDidMount=function(){var t=this;this.l.forEach((function(e,r){re(t,r,e)}))};var ae="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,se=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,ce=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,le=/[A-Z0-9]/g,de="undefined"!=typeof document,ue=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(t)};function he(t,e,r){return null==e.__k&&(e.textContent=""),z(t,e),"function"==typeof r&&r(),t?t.__c:null}function pe(t,e,r){return B(t,e),"function"==typeof r&&r(),t?t.__c:null}E.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(E.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var ge=i.event;function me(){}function be(){return this.cancelBubble}function fe(){return this.defaultPrevented}i.event=function(t){return ge&&(t=ge(t)),t.persist=me,t.isPropagationStopped=be,t.isDefaultPrevented=fe,t.nativeEvent=t};var we,ye={enumerable:!1,configurable:!0,get:function(){return this.class}},ve=i.vnode;i.vnode=function(t){"string"==typeof t.type&&function(t){var e=t.props,r=t.type,o={},n=-1===r.indexOf("-");for(var i in e){var a=e[i];if(!("value"===i&&"defaultValue"in e&&null==a||de&&"children"===i&&"noscript"===r||"class"===i||"className"===i)){var s=i.toLowerCase();"defaultValue"===i&&"value"in e&&null==e.value?i="value":"download"===i&&!0===a?a="":"translate"===s&&"no"===a?a=!1:"o"===s[0]&&"n"===s[1]?"ondoubleclick"===s?i="ondblclick":"onchange"!==s||"input"!==r&&"textarea"!==r||ue(e.type)?"onfocus"===s?i="onfocusin":"onblur"===s?i="onfocusout":ce.test(i)&&(i=s):s=i="oninput":n&&se.test(i)?i=i.replace(le,"-$&").toLowerCase():null===a&&(a=void 0),"oninput"===s&&o[i=s]&&(i="oninputCapture"),o[i]=a}}"select"==r&&o.multiple&&Array.isArray(o.value)&&(o.value=$(e.children).forEach((function(t){t.props.selected=-1!=o.value.indexOf(t.props.value)}))),"select"==r&&null!=o.defaultValue&&(o.value=$(e.children).forEach((function(t){t.props.selected=o.multiple?-1!=o.defaultValue.indexOf(t.props.value):o.defaultValue==t.props.value}))),e.class&&!e.className?(o.class=e.class,Object.defineProperty(o,"className",ye)):(e.className&&!e.class||e.class&&e.className)&&(o.class=o.className=e.className),t.props=o}(t),t.$$typeof=ae,ve&&ve(t)};var xe=i.__r;i.__r=function(t){xe&&xe(t),we=t.__c};var _e=i.diffed;i.diffed=function(t){_e&&_e(t);var e=t.props,r=t.__e;null!=r&&"textarea"===t.type&&"value"in e&&e.value!==r.value&&(r.value=null==e.value?"":e.value),we=null};var ke={ReactCurrentDispatcher:{current:{readContext:function(t){return we.__n[t.__c].props.value},useCallback:_t,useContext:kt,useDebugValue:Ct,useDeferredValue:Lt,useEffect:ft,useId:St,useImperativeHandle:vt,useInsertionEffect:Ut,useLayoutEffect:wt,useMemo:xt,useReducer:bt,useRef:yt,useState:mt,useSyncExternalStore:Nt,useTransition:At}}};function Ce(t){return _.bind(null,t)}function Se(t){return!!t&&t.$$typeof===ae}function Ee(t){return Se(t)&&t.type===S}function Re(t){return!!t&&!!t.displayName&&("string"==typeof t.displayName||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function Te(t){return Se(t)?V.apply(null,arguments):t}function Oe(t){return!!t.__k&&(z(null,t),!0)}function Pe(t){return t&&(t.base||1===t.nodeType&&t)||null}var De=function(t,e){return t(e)},Ie=function(t,e){return t(e)},$e=S,Me=Se,Ne={useState:mt,useId:St,useReducer:bt,useEffect:ft,useLayoutEffect:wt,useInsertionEffect:Ut,useTransition:At,useDeferredValue:Lt,useSyncExternalStore:Nt,startTransition:Ft,useRef:yt,useImperativeHandle:vt,useMemo:xt,useCallback:_t,useContext:kt,useDebugValue:Ct,version:"18.3.1",Children:Vt,render:he,hydrate:pe,unmountComponentAtNode:Oe,createPortal:ie,createElement:_,createContext:K,createFactory:Ce,cloneElement:Te,createRef:C,Fragment:S,isValidElement:Se,isElement:Me,isFragment:Ee,isMemo:Re,findDOMNode:Pe,Component:E,PureComponent:jt,memo:Qt,forwardRef:zt,flushSync:Ie,unstable_batchedUpdates:De,StrictMode:$e,Suspense:Xt,SuspenseList:ee,lazy:te,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ke};const qe=Object.freeze(Object.defineProperty({__proto__:null,Children:Vt,Component:E,Fragment:S,PureComponent:jt,StrictMode:$e,Suspense:Xt,SuspenseList:ee,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ke,cloneElement:Te,createContext:K,createElement:_,createFactory:Ce,createPortal:ie,createRef:C,default:Ne,findDOMNode:Pe,flushSync:Ie,forwardRef:zt,hydrate:pe,isElement:Me,isFragment:Ee,isMemo:Re,isValidElement:Se,lazy:te,memo:Qt,render:he,startTransition:Ft,unmountComponentAtNode:Oe,unstable_batchedUpdates:De,useCallback:_t,useContext:kt,useDebugValue:Ct,useDeferredValue:Lt,useEffect:ft,useErrorBoundary:function(t){var e=gt(et++,10),r=mt();return e.__=t,rt.componentDidCatch||(rt.componentDidCatch=function(t,o){e.__&&e.__(t,o),r[1](t)}),[r[0],function(){r[1](void 0)}]},useId:St,useImperativeHandle:vt,useInsertionEffect:Ut,useLayoutEffect:wt,useMemo:xt,useReducer:bt,useRef:yt,useState:mt,useSyncExternalStore:Nt,useTransition:At,version:"18.3.1"},Symbol.toStringTag,{value:"Module"}));function Fe({activeNav:t="",version:e=""}){const[r,o]=mt(""),[n,i]=mt(!1);ft((()=>{const t=localStorage.getItem("auth");if(t)try{const e=atob(t).split(":")[0];o(e)}catch(e){console.error("Error decoding auth token:",e),o("User")}else o("User")}),[]);const a=t=>{t.preventDefault(),localStorage.removeItem("auth"),document.cookie="auth=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict",document.cookie="session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict",fetch("/api/auth/logout",{method:"POST"}).then((()=>{const t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),setTimeout((()=>{window.location.href="login.html?auth_required=true&logout=true"}),100),t.contentWindow&&(t.contentWindow.location.href="/api/auth/verify")})).catch((()=>{window.location.href="login.html?auth_required=true&logout=true"}))},s=()=>{i(!n)},c=[{id:"nav-live",href:"/"===window.location.pathname||window.location.pathname.endsWith("/")?"./":"index.html",label:"Live View"},{id:"nav-recordings",href:"recordings.html",label:"Recordings"},{id:"nav-streams",href:"streams.html",label:"Streams"},{id:"nav-settings",href:"settings.html",label:"Settings"},{id:"nav-users",href:"users.html",label:"Users"},{id:"nav-system",href:"system.html",label:"System"}],l=e=>{const r=t===e.id?"bg-blue-600":"hover:bg-blue-700";return X`
      <li class=${n?"w-full":"mx-1"}>
        <a
          href="${e.href}"
          id=${e.id}
          class=${`text-white no-underline rounded transition-colors ${n?"block w-full px-4 py-3 text-left":"px-3 py-2"} ${r}`}
          onClick=${n?s:null}
        >
          ${e.label}
        </a>
      </li>
    `};return X`
    <header class="bg-gray-800 text-white py-2 shadow-md mb-4 w-full">
      <div class="container mx-auto px-4 flex justify-between items-center">
        <div class="logo flex items-center">
          <h1 class="text-xl font-bold m-0">LightNVR</h1>
          <span class="version text-blue-200 text-xs ml-2">v${e}</span>
        </div>

        <!-- Desktop Navigation -->
        <nav class="hidden md:block">
          <ul class="flex list-none m-0 p-0">
            ${c.map(l)}
          </ul>
        </nav>

        <!-- User Menu (Desktop) -->
        <div class="user-menu hidden md:flex items-center">
          <span class="mr-2">${r}</span>
          <a href="#" onClick=${a} class="text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors">Logout</a>
        </div>

        <!-- Mobile Menu Button -->
        <button
          class="md:hidden text-white p-2 focus:outline-none"
          onClick=${s}
          aria-label="Toggle menu"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d=${n?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"} />
          </svg>
        </button>
      </div>

      <!-- Mobile Navigation -->
      ${n?X`
        <div class="md:hidden mt-2 border-t border-gray-700 pt-2 container mx-auto px-4">
          <ul class="list-none m-0 p-0 flex flex-col w-full">
            ${c.map(l)}
            <li class="w-full mt-2 pt-2 border-t border-gray-700">
              <div class="flex justify-between items-center px-4 py-2">
                <span>${r}</span>
                <a href="#" onClick=${a} class="text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors">Logout</a>
              </div>
            </li>
          </ul>
        </div>
      `:null}
    </header>
  `}function Le(t=""){const r=document.getElementById("header-container");r&&o((async()=>{const{render:t}=await Promise.resolve().then((()=>Y));return{render:t}}),void 0,e.meta.url).then((({render:e})=>{e(X`<${Fe} activeNav=${t} version=${"0.11.10"} />`,r)})).catch((t=>{console.error("Error importing Preact:",t)}))}function Ae(){const[t]=mt((new Date).getFullYear());return X`
    <footer class="bg-gray-800 text-white py-3 px-4 mt-4 shadow-inner">
      <div class="container mx-auto flex flex-col sm:flex-row justify-between items-center">
        <div class="text-center sm:text-left mb-2 sm:mb-0">
          <p class="text-sm">© ${t} LightNVR ·
            <a href="https://github.com/opensensor/lightnvr" class="text-blue-300 hover:text-blue-100 text-sm" target="_blank" rel="noopener noreferrer">GitHub</a>
          </p>
          <p class="text-xs text-gray-400 mt-1 hidden sm:block">Lightweight Network Video Recorder</p>
        </div>
      </div>
    </footer>
  `}function Ue(){const t=document.getElementById("footer-container");t&&o((async()=>{const{render:t}=await Promise.resolve().then((()=>Y));return{render:t}}),void 0,e.meta.url).then((({render:e})=>{e(X`<${Ae} version=${"0.11.10"} />`,t)})).catch((t=>{console.error("Error importing Preact for footer:",t)}))}class je{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){const e={listener:t};return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const Qe="undefined"==typeof window||"Deno"in window;function He(){}function We(t){return"number"==typeof t&&t>=0&&t!==1/0}function ze(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Be(t,e,r){return ir(t)?"function"==typeof e?{...r,queryKey:t,queryFn:e}:{...e,queryKey:t}:t}function Ve(t,e,r){return ir(t)?[{...e,queryKey:t},r]:[t||{},e]}function Ke(t,e){const{type:r="all",exact:o,fetchStatus:n,predicate:i,queryKey:a,stale:s}=t;if(ir(a))if(o){if(e.queryHash!==Je(a,e.options))return!1}else if(!Xe(e.queryKey,a))return!1;if("all"!==r){const t=e.isActive();if("active"===r&&!t)return!1;if("inactive"===r&&t)return!1}return!("boolean"==typeof s&&e.isStale()!==s||void 0!==n&&n!==e.state.fetchStatus||i&&!i(e))}function Ye(t,e){const{exact:r,fetching:o,predicate:n,mutationKey:i}=t;if(ir(i)){if(!e.options.mutationKey)return!1;if(r){if(Ge(e.options.mutationKey)!==Ge(i))return!1}else if(!Xe(e.options.mutationKey,i))return!1}return!("boolean"==typeof o&&"loading"===e.state.status!==o||n&&!n(e))}function Je(t,e){return((null==e?void 0:e.queryKeyHashFn)||Ge)(t)}function Ge(t){return JSON.stringify(t,((t,e)=>or(e)?Object.keys(e).sort().reduce(((t,r)=>(t[r]=e[r],t)),{}):e))}function Xe(t,e){return Ze(t,e)}function Ze(t,e){return t===e||typeof t==typeof e&&!(!t||!e||"object"!=typeof t||"object"!=typeof e)&&!Object.keys(e).some((r=>!Ze(t[r],e[r])))}function tr(t,e){if(t===e)return t;const r=rr(t)&&rr(e);if(r||or(t)&&or(e)){const o=r?t.length:Object.keys(t).length,n=r?e:Object.keys(e),i=n.length,a=r?[]:{};let s=0;for(let c=0;c<i;c++){const o=r?c:n[c];a[o]=tr(t[o],e[o]),a[o]===t[o]&&s++}return o===i&&s===o?t:a}return e}function er(t,e){if(t&&!e||e&&!t)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function rr(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function or(t){if(!nr(t))return!1;const e=t.constructor;if(void 0===e)return!0;const r=e.prototype;return!!nr(r)&&!!r.hasOwnProperty("isPrototypeOf")}function nr(t){return"[object Object]"===Object.prototype.toString.call(t)}function ir(t){return Array.isArray(t)}function ar(t){return new Promise((e=>{setTimeout(e,t)}))}function sr(t){ar(0).then(t)}function cr(t,e,r){return null!=r.isDataEqual&&r.isDataEqual(t,e)?t:"function"==typeof r.structuralSharing?r.structuralSharing(t,e):!1!==r.structuralSharing?tr(t,e):e}const lr=new class extends je{constructor(){super(),this.setup=t=>{if(!Qe&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),window.addEventListener("focus",e,!1),()=>{window.removeEventListener("visibilitychange",e),window.removeEventListener("focus",e)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)}setEventListener(t){var e;this.setup=t,null==(e=this.cleanup)||e.call(this),this.cleanup=t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()}))}setFocused(t){this.focused!==t&&(this.focused=t,this.onFocus())}onFocus(){this.listeners.forEach((({listener:t})=>{t()}))}isFocused(){return"boolean"==typeof this.focused?this.focused:"undefined"==typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}},dr=["online","offline"],ur=new class extends je{constructor(){super(),this.setup=t=>{if(!Qe&&window.addEventListener){const e=()=>t();return dr.forEach((t=>{window.addEventListener(t,e,!1)})),()=>{dr.forEach((t=>{window.removeEventListener(t,e)}))}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){var t;this.hasListeners()||(null==(t=this.cleanup)||t.call(this),this.cleanup=void 0)}setEventListener(t){var e;this.setup=t,null==(e=this.cleanup)||e.call(this),this.cleanup=t((t=>{"boolean"==typeof t?this.setOnline(t):this.onOnline()}))}setOnline(t){this.online!==t&&(this.online=t,this.onOnline())}onOnline(){this.listeners.forEach((({listener:t})=>{t()}))}isOnline(){return"boolean"==typeof this.online?this.online:"undefined"==typeof navigator||void 0===navigator.onLine||navigator.onLine}};function hr(t){return Math.min(1e3*2**t,3e4)}function pr(t){return"online"!==(null!=t?t:"online")||ur.isOnline()}class gr{constructor(t){this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}}function mr(t){return t instanceof gr}function br(t){let e,r,o,n=!1,i=0,a=!1;const s=new Promise(((t,e)=>{r=t,o=e})),c=()=>!lr.isFocused()||"always"!==t.networkMode&&!ur.isOnline(),l=o=>{a||(a=!0,null==t.onSuccess||t.onSuccess(o),null==e||e(),r(o))},d=r=>{a||(a=!0,null==t.onError||t.onError(r),null==e||e(),o(r))},u=()=>new Promise((r=>{e=t=>{const e=a||!c();return e&&r(t),e},null==t.onPause||t.onPause()})).then((()=>{e=void 0,a||null==t.onContinue||t.onContinue()})),h=()=>{if(a)return;let e;try{e=t.fn()}catch(r){e=Promise.reject(r)}Promise.resolve(e).then(l).catch((e=>{var r,o;if(a)return;const s=null!=(r=t.retry)?r:3,l=null!=(o=t.retryDelay)?o:hr,p="function"==typeof l?l(i,e):l,g=!0===s||"number"==typeof s&&i<s||"function"==typeof s&&s(i,e);!n&&g?(i++,null==t.onFail||t.onFail(i,e),ar(p).then((()=>{if(c())return u()})).then((()=>{n?d(e):h()}))):d(e)}))};return pr(t.networkMode)?h():u().then(h),{promise:s,cancel:e=>{a||(d(new gr(e)),null==t.abort||t.abort())},continue:()=>(null==e?void 0:e())?s:Promise.resolve(),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1}}}const fr=console,wr=function(){let t=[],e=0,r=t=>{t()},o=t=>{t()};const n=o=>{e?t.push(o):sr((()=>{r(o)}))},i=()=>{const e=t;t=[],e.length&&sr((()=>{o((()=>{e.forEach((t=>{r(t)}))}))}))};return{batch:t=>{let r;e++;try{r=t()}finally{e--,e||i()}return r},batchCalls:t=>(...e)=>{n((()=>{t(...e)}))},schedule:n,setNotifyFunction:t=>{r=t},setBatchNotifyFunction:t=>{o=t}}}();class yr{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),We(this.cacheTime)&&(this.gcTimeout=setTimeout((()=>{this.optionalRemove()}),this.cacheTime))}updateCacheTime(t){this.cacheTime=Math.max(this.cacheTime||0,null!=t?t:Qe?1/0:3e5)}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class vr extends yr{constructor(t){super(),this.abortSignalConsumed=!1,this.defaultOptions=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.cache=t.cache,this.logger=t.logger||fr,this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.initialState=t.state||function(t){const e="function"==typeof t.initialData?t.initialData():t.initialData,r=void 0!==e,o=r?"function"==typeof t.initialDataUpdatedAt?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?null!=o?o:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"loading",fetchStatus:"idle"}}(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}setData(t,e){const r=cr(this.state.data,t,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:null==e?void 0:e.updatedAt,manual:null==e?void 0:e.manual}),r}setState(t,e){this.dispatch({type:"setState",state:t,setStateOptions:e})}cancel(t){var e;const r=this.promise;return null==(e=this.retryer)||e.cancel(t),r?r.then(He).catch(He):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some((t=>!1!==t.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((t=>t.getCurrentResult().isStale))}isStaleByTime(t=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!ze(this.state.dataUpdatedAt,t)}onFocus(){var t;const e=this.observers.find((t=>t.shouldFetchOnWindowFocus()));e&&e.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}onOnline(){var t;const e=this.observers.find((t=>t.shouldFetchOnReconnect()));e&&e.refetch({cancelRefetch:!1}),null==(t=this.retryer)||t.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter((e=>e!==t)),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(t,e){var r,o;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=e&&e.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var n;return null==(n=this.retryer)||n.continueRetry(),this.promise}if(t&&this.setOptions(t),!this.options.queryFn){const t=this.observers.find((t=>t.options.queryFn));t&&this.setOptions(t.options)}Array.isArray(this.options.queryKey);const i=function(){if("function"==typeof AbortController)return new AbortController}(),a={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},s=t=>{Object.defineProperty(t,"signal",{enumerable:!0,get:()=>{if(i)return this.abortSignalConsumed=!0,i.signal}})};s(a);const c={fetchOptions:e,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(a)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'")};var l;s(c),null==(r=this.options.behavior)||r.onFetch(c),this.revertState=this.state,("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(o=c.fetchOptions)?void 0:o.meta))&&this.dispatch({type:"fetch",meta:null==(l=c.fetchOptions)?void 0:l.meta});const d=t=>{var e,r,o,n;mr(t)&&t.silent||this.dispatch({type:"error",error:t}),mr(t)||(null==(e=(r=this.cache.config).onError)||e.call(r,t,this),null==(o=(n=this.cache.config).onSettled)||o.call(n,this.state.data,t,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=br({fn:c.fetchFn,abort:null==i?void 0:i.abort.bind(i),onSuccess:t=>{var e,r,o,n;void 0!==t?(this.setData(t),null==(e=(r=this.cache.config).onSuccess)||e.call(r,t,this),null==(o=(n=this.cache.config).onSettled)||o.call(n,t,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):d(new Error(this.queryHash+" data is undefined"))},onError:d,onFail:(t,e)=>{this.dispatch({type:"failed",failureCount:t,error:e})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(t){this.state=(e=>{var r,o;switch(t.type){case"failed":return{...e,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...e,fetchStatus:"paused"};case"continue":return{...e,fetchStatus:"fetching"};case"fetch":return{...e,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=t.meta)?r:null,fetchStatus:pr(this.options.networkMode)?"fetching":"paused",...!e.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...e,data:t.data,dataUpdateCount:e.dataUpdateCount+1,dataUpdatedAt:null!=(o=t.dataUpdatedAt)?o:Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=t.error;return mr(n)&&n.revert&&this.revertState?{...this.revertState}:{...e,error:n,errorUpdateCount:e.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:e.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...e,isInvalidated:!0};case"setState":return{...e,...t.state}}})(this.state),wr.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate(t)})),this.cache.notify({query:this,type:"updated",action:t})}))}}class xr extends je{constructor(t){super(),this.config=t||{},this.queries=[],this.queriesMap={}}build(t,e,r){var o;const n=e.queryKey,i=null!=(o=e.queryHash)?o:Je(n,e);let a=this.get(i);return a||(a=new vr({cache:this,logger:t.getLogger(),queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.queriesMap[t.queryHash]||(this.queriesMap[t.queryHash]=t,this.queries.push(t),this.notify({type:"added",query:t}))}remove(t){const e=this.queriesMap[t.queryHash];e&&(t.destroy(),this.queries=this.queries.filter((e=>e!==t)),e===t&&delete this.queriesMap[t.queryHash],this.notify({type:"removed",query:t}))}clear(){wr.batch((()=>{this.queries.forEach((t=>{this.remove(t)}))}))}get(t){return this.queriesMap[t]}getAll(){return this.queries}find(t,e){const[r]=Ve(t,e);return void 0===r.exact&&(r.exact=!0),this.queries.find((t=>Ke(r,t)))}findAll(t,e){const[r]=Ve(t,e);return Object.keys(r).length>0?this.queries.filter((t=>Ke(r,t))):this.queries}notify(t){wr.batch((()=>{this.listeners.forEach((({listener:e})=>{e(t)}))}))}onFocus(){wr.batch((()=>{this.queries.forEach((t=>{t.onFocus()}))}))}onOnline(){wr.batch((()=>{this.queries.forEach((t=>{t.onOnline()}))}))}}class _r extends yr{constructor(t){super(),this.defaultOptions=t.defaultOptions,this.mutationId=t.mutationId,this.mutationCache=t.mutationCache,this.logger=t.logger||fr,this.observers=[],this.state=t.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options={...this.defaultOptions,...t},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(t){this.dispatch({type:"setState",state:t})}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.observers=this.observers.filter((e=>e!==t)),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}continue(){var t,e;return null!=(t=null==(e=this.retryer)?void 0:e.continue())?t:this.execute()}async execute(){const t=()=>{var t;return this.retryer=br({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(t,e)=>{this.dispatch({type:"failed",failureCount:t,error:e})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},e="loading"===this.state.status;try{var r,o,n,i,a,s,c,l;if(!e){var d,u,h,p;this.dispatch({type:"loading",variables:this.options.variables}),await(null==(d=(u=this.mutationCache.config).onMutate)?void 0:d.call(u,this.state.variables,this));const t=await(null==(h=(p=this.options).onMutate)?void 0:h.call(p,this.state.variables));t!==this.state.context&&this.dispatch({type:"loading",context:t,variables:this.state.variables})}const g=await t();return await(null==(r=(o=this.mutationCache.config).onSuccess)?void 0:r.call(o,g,this.state.variables,this.state.context,this)),await(null==(n=(i=this.options).onSuccess)?void 0:n.call(i,g,this.state.variables,this.state.context)),await(null==(a=(s=this.mutationCache.config).onSettled)?void 0:a.call(s,g,null,this.state.variables,this.state.context,this)),await(null==(c=(l=this.options).onSettled)?void 0:c.call(l,g,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:g}),g}catch(_){try{var g,m,b,f,w,y,v,x;throw await(null==(g=(m=this.mutationCache.config).onError)?void 0:g.call(m,_,this.state.variables,this.state.context,this)),await(null==(b=(f=this.options).onError)?void 0:b.call(f,_,this.state.variables,this.state.context)),await(null==(w=(y=this.mutationCache.config).onSettled)?void 0:w.call(y,void 0,_,this.state.variables,this.state.context,this)),await(null==(v=(x=this.options).onSettled)?void 0:v.call(x,void 0,_,this.state.variables,this.state.context)),_}finally{this.dispatch({type:"error",error:_})}}}dispatch(t){this.state=(e=>{switch(t.type){case"failed":return{...e,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...e,isPaused:!0};case"continue":return{...e,isPaused:!1};case"loading":return{...e,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!pr(this.options.networkMode),status:"loading",variables:t.variables};case"success":return{...e,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...e,data:void 0,error:t.error,failureCount:e.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"};case"setState":return{...e,...t.state}}})(this.state),wr.batch((()=>{this.observers.forEach((e=>{e.onMutationUpdate(t)})),this.mutationCache.notify({mutation:this,type:"updated",action:t})}))}}class kr extends je{constructor(t){super(),this.config=t||{},this.mutations=[],this.mutationId=0}build(t,e,r){const o=new _r({mutationCache:this,logger:t.getLogger(),mutationId:++this.mutationId,options:t.defaultMutationOptions(e),state:r,defaultOptions:e.mutationKey?t.getMutationDefaults(e.mutationKey):void 0});return this.add(o),o}add(t){this.mutations.push(t),this.notify({type:"added",mutation:t})}remove(t){this.mutations=this.mutations.filter((e=>e!==t)),this.notify({type:"removed",mutation:t})}clear(){wr.batch((()=>{this.mutations.forEach((t=>{this.remove(t)}))}))}getAll(){return this.mutations}find(t){return void 0===t.exact&&(t.exact=!0),this.mutations.find((e=>Ye(t,e)))}findAll(t){return this.mutations.filter((e=>Ye(t,e)))}notify(t){wr.batch((()=>{this.listeners.forEach((({listener:e})=>{e(t)}))}))}resumePausedMutations(){var t;return this.resuming=(null!=(t=this.resuming)?t:Promise.resolve()).then((()=>{const t=this.mutations.filter((t=>t.state.isPaused));return wr.batch((()=>t.reduce(((t,e)=>t.then((()=>e.continue().catch(He)))),Promise.resolve())))})).then((()=>{this.resuming=void 0})),this.resuming}}function Cr(){return{onFetch:t=>{t.fetchFn=()=>{var e,r,o,n,i,a;const s=null==(e=t.fetchOptions)||null==(r=e.meta)?void 0:r.refetchPage,c=null==(o=t.fetchOptions)||null==(n=o.meta)?void 0:n.fetchMore,l=null==c?void 0:c.pageParam,d="forward"===(null==c?void 0:c.direction),u="backward"===(null==c?void 0:c.direction),h=(null==(i=t.state.data)?void 0:i.pages)||[],p=(null==(a=t.state.data)?void 0:a.pageParams)||[];let g=p,m=!1;const b=t.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+t.options.queryHash+"'")),f=(t,e,r,o)=>(g=o?[e,...g]:[...g,e],o?[r,...t]:[...t,r]),w=(e,r,o,n)=>{if(m)return Promise.reject("Cancelled");if(void 0===o&&!r&&e.length)return Promise.resolve(e);const i={queryKey:t.queryKey,pageParam:o,meta:t.options.meta};var a;a=i,Object.defineProperty(a,"signal",{enumerable:!0,get:()=>{var e,r;return null!=(e=t.signal)&&e.aborted?m=!0:null==(r=t.signal)||r.addEventListener("abort",(()=>{m=!0})),t.signal}});const s=b(i);return Promise.resolve(s).then((t=>f(e,o,t,n)))};let y;if(h.length)if(d){const e=void 0!==l,r=e?l:Sr(t.options,h);y=w(h,e,r)}else if(u){const e=void 0!==l,r=e?l:(v=t.options,x=h,null==v.getPreviousPageParam?void 0:v.getPreviousPageParam(x[0],x));y=w(h,e,r,!0)}else{g=[];const e=void 0===t.options.getNextPageParam;y=s&&h[0]&&!s(h[0],0,h)?Promise.resolve(f([],p[0],h[0])):w([],e,p[0]);for(let r=1;r<h.length;r++)y=y.then((o=>{if(!s||!h[r]||s(h[r],r,h)){const n=e?p[r]:Sr(t.options,o);return w(o,e,n)}return Promise.resolve(f(o,p[r],h[r]))}))}else y=w([]);var v,x;const _=y.then((t=>({pages:t,pageParams:g})));return _}}}}function Sr(t,e){return null==t.getNextPageParam?void 0:t.getNextPageParam(e[e.length-1],e)}class Er{constructor(t={}){this.queryCache=t.queryCache||new xr,this.mutationCache=t.mutationCache||new kr,this.logger=t.logger||fr,this.defaultOptions=t.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=lr.subscribe((()=>{lr.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())})),this.unsubscribeOnline=ur.subscribe((()=>{ur.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())})))}unmount(){var t,e;this.mountCount--,0===this.mountCount&&(null==(t=this.unsubscribeFocus)||t.call(this),this.unsubscribeFocus=void 0,null==(e=this.unsubscribeOnline)||e.call(this),this.unsubscribeOnline=void 0)}isFetching(t,e){const[r]=Ve(t,e);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(t){return this.mutationCache.findAll({...t,fetching:!0}).length}getQueryData(t,e){var r;return null==(r=this.queryCache.find(t,e))?void 0:r.state.data}ensureQueryData(t,e,r){const o=Be(t,e,r),n=this.getQueryData(o.queryKey);return n?Promise.resolve(n):this.fetchQuery(o)}getQueriesData(t){return this.getQueryCache().findAll(t).map((({queryKey:t,state:e})=>[t,e.data]))}setQueryData(t,e,r){const o=this.queryCache.find(t),n=function(t,e){return"function"==typeof t?t(e):t}(e,null==o?void 0:o.state.data);if(void 0===n)return;const i=Be(t),a=this.defaultQueryOptions(i);return this.queryCache.build(this,a).setData(n,{...r,manual:!0})}setQueriesData(t,e,r){return wr.batch((()=>this.getQueryCache().findAll(t).map((({queryKey:t})=>[t,this.setQueryData(t,e,r)]))))}getQueryState(t,e){var r;return null==(r=this.queryCache.find(t,e))?void 0:r.state}removeQueries(t,e){const[r]=Ve(t,e),o=this.queryCache;wr.batch((()=>{o.findAll(r).forEach((t=>{o.remove(t)}))}))}resetQueries(t,e,r){const[o,n]=Ve(t,e,r),i=this.queryCache,a={type:"active",...o};return wr.batch((()=>(i.findAll(o).forEach((t=>{t.reset()})),this.refetchQueries(a,n))))}cancelQueries(t,e,r){const[o,n={}]=Ve(t,e,r);void 0===n.revert&&(n.revert=!0);const i=wr.batch((()=>this.queryCache.findAll(o).map((t=>t.cancel(n)))));return Promise.all(i).then(He).catch(He)}invalidateQueries(t,e,r){const[o,n]=Ve(t,e,r);return wr.batch((()=>{var t,e;if(this.queryCache.findAll(o).forEach((t=>{t.invalidate()})),"none"===o.refetchType)return Promise.resolve();const r={...o,type:null!=(t=null!=(e=o.refetchType)?e:o.type)?t:"active"};return this.refetchQueries(r,n)}))}refetchQueries(t,e,r){const[o,n]=Ve(t,e,r),i=wr.batch((()=>this.queryCache.findAll(o).filter((t=>!t.isDisabled())).map((t=>{var e;return t.fetch(void 0,{...n,cancelRefetch:null==(e=null==n?void 0:n.cancelRefetch)||e,meta:{refetchPage:o.refetchPage}})}))));let a=Promise.all(i).then(He);return null!=n&&n.throwOnError||(a=a.catch(He)),a}fetchQuery(t,e,r){const o=Be(t,e,r),n=this.defaultQueryOptions(o);void 0===n.retry&&(n.retry=!1);const i=this.queryCache.build(this,n);return i.isStaleByTime(n.staleTime)?i.fetch(n):Promise.resolve(i.state.data)}prefetchQuery(t,e,r){return this.fetchQuery(t,e,r).then(He).catch(He)}fetchInfiniteQuery(t,e,r){const o=Be(t,e,r);return o.behavior=Cr(),this.fetchQuery(o)}prefetchInfiniteQuery(t,e,r){return this.fetchInfiniteQuery(t,e,r).then(He).catch(He)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(t){this.defaultOptions=t}setQueryDefaults(t,e){const r=this.queryDefaults.find((e=>Ge(t)===Ge(e.queryKey)));r?r.defaultOptions=e:this.queryDefaults.push({queryKey:t,defaultOptions:e})}getQueryDefaults(t){if(!t)return;const e=this.queryDefaults.find((e=>Xe(t,e.queryKey)));return null==e?void 0:e.defaultOptions}setMutationDefaults(t,e){const r=this.mutationDefaults.find((e=>Ge(t)===Ge(e.mutationKey)));r?r.defaultOptions=e:this.mutationDefaults.push({mutationKey:t,defaultOptions:e})}getMutationDefaults(t){if(!t)return;const e=this.mutationDefaults.find((e=>Xe(t,e.mutationKey)));return null==e?void 0:e.defaultOptions}defaultQueryOptions(t){if(null!=t&&t._defaulted)return t;const e={...this.defaultOptions.queries,...this.getQueryDefaults(null==t?void 0:t.queryKey),...t,_defaulted:!0};return!e.queryHash&&e.queryKey&&(e.queryHash=Je(e.queryKey,e)),void 0===e.refetchOnReconnect&&(e.refetchOnReconnect="always"!==e.networkMode),void 0===e.useErrorBoundary&&(e.useErrorBoundary=!!e.suspense),e}defaultMutationOptions(t){return null!=t&&t._defaulted?t:{...this.defaultOptions.mutations,...this.getMutationDefaults(null==t?void 0:t.mutationKey),...t,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}class Rr extends je{constructor(t,e){super(),this.client=t,this.options=e,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(e)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),Tr(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Or(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Or(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(t,e){const r=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryOptions(t),er(r,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=r.queryKey),this.updateQuery();const n=this.hasListeners();n&&Pr(this.currentQuery,o,this.options,r)&&this.executeFetch(),this.updateResult(e),!n||this.currentQuery===o&&this.options.enabled===r.enabled&&this.options.staleTime===r.staleTime||this.updateStaleTimeout();const i=this.computeRefetchInterval();!n||this.currentQuery===o&&this.options.enabled===r.enabled&&i===this.currentRefetchInterval||this.updateRefetchInterval(i)}getOptimisticResult(t){const e=this.client.getQueryCache().build(this.client,t),r=this.createResult(e,t);return function(t,e,r){return!r.keepPreviousData&&(void 0!==r.placeholderData?e.isPlaceholderData:t.getCurrentResult()!==e)}(this,r,t)&&(this.currentResult=r,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),r}getCurrentResult(){return this.currentResult}trackResult(t){const e={};return Object.keys(t).forEach((r=>{Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(r),t[r])})})),e}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage:t,...e}={}){return this.fetch({...e,meta:{refetchPage:t}})}fetchOptimistic(t){const e=this.client.defaultQueryOptions(t),r=this.client.getQueryCache().build(this.client,e);return r.isFetchingOptimistic=!0,r.fetch().then((()=>this.createResult(r,e)))}fetch(t){var e;return this.executeFetch({...t,cancelRefetch:null==(e=t.cancelRefetch)||e}).then((()=>(this.updateResult(),this.currentResult)))}executeFetch(t){this.updateQuery();let e=this.currentQuery.fetch(this.options,t);return null!=t&&t.throwOnError||(e=e.catch(He)),e}updateStaleTimeout(){if(this.clearStaleTimeout(),Qe||this.currentResult.isStale||!We(this.options.staleTime))return;const t=ze(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((()=>{this.currentResult.isStale||this.updateResult()}),t)}computeRefetchInterval(){var t;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(t=this.options.refetchInterval)&&t}updateRefetchInterval(t){this.clearRefetchInterval(),this.currentRefetchInterval=t,!Qe&&!1!==this.options.enabled&&We(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((()=>{(this.options.refetchIntervalInBackground||lr.isFocused())&&this.executeFetch()}),this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(t,e){const r=this.currentQuery,o=this.options,n=this.currentResult,i=this.currentResultState,a=this.currentResultOptions,s=t!==r,c=s?t.state:this.currentQueryInitialState,l=s?this.currentResult:this.previousQueryResult,{state:d}=t;let u,{dataUpdatedAt:h,error:p,errorUpdatedAt:g,fetchStatus:m,status:b}=d,f=!1,w=!1;if(e._optimisticResults){const n=this.hasListeners(),i=!n&&Tr(t,e),a=n&&Pr(t,r,e,o);(i||a)&&(m=pr(t.options.networkMode)?"fetching":"paused",h||(b="loading")),"isRestoring"===e._optimisticResults&&(m="idle")}if(e.keepPreviousData&&!d.dataUpdatedAt&&null!=l&&l.isSuccess&&"error"!==b)u=l.data,h=l.dataUpdatedAt,b=l.status,f=!0;else if(e.select&&void 0!==d.data)if(n&&d.data===(null==i?void 0:i.data)&&e.select===this.selectFn)u=this.selectResult;else try{this.selectFn=e.select,u=e.select(d.data),u=cr(null==n?void 0:n.data,u,e),this.selectResult=u,this.selectError=null}catch(_){this.selectError=_}else u=d.data;if(void 0!==e.placeholderData&&void 0===u&&"loading"===b){let t;if(null!=n&&n.isPlaceholderData&&e.placeholderData===(null==a?void 0:a.placeholderData))t=n.data;else if(t="function"==typeof e.placeholderData?e.placeholderData():e.placeholderData,e.select&&void 0!==t)try{t=e.select(t),this.selectError=null}catch(_){this.selectError=_}void 0!==t&&(b="success",u=cr(null==n?void 0:n.data,t,e),w=!0)}this.selectError&&(p=this.selectError,u=this.selectResult,g=Date.now(),b="error");const y="fetching"===m,v="loading"===b,x="error"===b;return{status:b,fetchStatus:m,isLoading:v,isSuccess:"success"===b,isError:x,isInitialLoading:v&&y,data:u,dataUpdatedAt:h,error:p,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:x&&0===d.dataUpdatedAt,isPaused:"paused"===m,isPlaceholderData:w,isPreviousData:f,isRefetchError:x&&0!==d.dataUpdatedAt,isStale:Dr(t,e),refetch:this.refetch,remove:this.remove}}updateResult(t){const e=this.currentResult,r=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,er(r,e))return;this.currentResult=r;const o={cache:!0};!1!==(null==t?void 0:t.listeners)&&(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options;if("all"===t||!t&&!this.trackedProps.size)return!0;const r=new Set(null!=t?t:this.trackedProps);return this.options.useErrorBoundary&&r.add("error"),Object.keys(this.currentResult).some((t=>{const o=t;return this.currentResult[o]!==e[o]&&r.has(o)}))})()&&(o.listeners=!0),this.notify({...o,...t})}updateQuery(){const t=this.client.getQueryCache().build(this.client,this.options);if(t===this.currentQuery)return;const e=this.currentQuery;this.currentQuery=t,this.currentQueryInitialState=t.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==e||e.removeObserver(this),t.addObserver(this))}onQueryUpdate(t){const e={};"success"===t.type?e.onSuccess=!t.manual:"error"!==t.type||mr(t.error)||(e.onError=!0),this.updateResult(e),this.hasListeners()&&this.updateTimers()}notify(t){wr.batch((()=>{var e,r,o,n;if(t.onSuccess)null==(e=(r=this.options).onSuccess)||e.call(r,this.currentResult.data),null==(o=(n=this.options).onSettled)||o.call(n,this.currentResult.data,null);else if(t.onError){var i,a,s,c;null==(i=(a=this.options).onError)||i.call(a,this.currentResult.error),null==(s=(c=this.options).onSettled)||s.call(c,void 0,this.currentResult.error)}t.listeners&&this.listeners.forEach((({listener:t})=>{t(this.currentResult)})),t.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})}))}}function Tr(t,e){return function(t,e){return!(!1===e.enabled||t.state.dataUpdatedAt||"error"===t.state.status&&!1===e.retryOnMount)}(t,e)||t.state.dataUpdatedAt>0&&Or(t,e,e.refetchOnMount)}function Or(t,e,r){if(!1!==e.enabled){const o="function"==typeof r?r(t):r;return"always"===o||!1!==o&&Dr(t,e)}return!1}function Pr(t,e,r,o){return!1!==r.enabled&&(t!==e||!1===o.enabled)&&(!r.suspense||"error"!==t.state.status)&&Dr(t,r)}function Dr(t,e){return t.isStaleByTime(e.staleTime)}let Ir=class extends je{constructor(t,e){super(),this.client=t,this.setOptions(e),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var e;const r=this.options;this.options=this.client.defaultMutationOptions(t),er(r,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(e=this.currentMutation)||e.setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||null==(t=this.currentMutation)||t.removeObserver(this)}onMutationUpdate(t){this.updateResult();const e={listeners:!0};"success"===t.type?e.onSuccess=!0:"error"===t.type&&(e.onError=!0),this.notify(e)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(t,e){return this.mutateOptions=e,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:void 0!==t?t:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const t=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},e={...t,isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset};this.currentResult=e}notify(t){wr.batch((()=>{var e,r,o,n;if(this.mutateOptions&&this.hasListeners())if(t.onSuccess)null==(e=(r=this.mutateOptions).onSuccess)||e.call(r,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(o=(n=this.mutateOptions).onSettled)||o.call(n,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(t.onError){var i,a,s,c;null==(i=(a=this.mutateOptions).onError)||i.call(a,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(s=(c=this.mutateOptions).onSettled)||s.call(c,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}t.listeners&&this.listeners.forEach((({listener:t})=>{t(this.currentResult)}))}))}};function $r(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if("function"==typeof e){var r=function t(){return this instanceof t?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach((function(e){var o=Object.getOwnPropertyDescriptor(t,e);Object.defineProperty(r,e,o.get?o:{enumerable:!0,get:function(){return t[e]}})})),r}var Mr={exports:{}},Nr={};const qr=$r(qe);
/**
       * @license React
       * use-sync-external-store-shim.production.js
       *
       * Copyright (c) Meta Platforms, Inc. and affiliates.
       *
       * This source code is licensed under the MIT license found in the
       * LICENSE file in the root directory of this source tree.
       */var Fr,Lr,Ar=(Lr||(Lr=1,Mr.exports=function(){if(Fr)return Nr;Fr=1;var t=qr,e="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},r=t.useState,o=t.useEffect,n=t.useLayoutEffect,i=t.useDebugValue;function a(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!e(t,o)}catch(n){return!0}}var s="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(t,e){return e()}:function(t,e){var s=e(),c=r({inst:{value:s,getSnapshot:e}}),l=c[0].inst,d=c[1];return n((function(){l.value=s,l.getSnapshot=e,a(l)&&d({inst:l})}),[t,s,e]),o((function(){return a(l)&&d({inst:l}),t((function(){a(l)&&d({inst:l})}))}),[t]),i(s),s};return Nr.useSyncExternalStore=void 0!==t.useSyncExternalStore?t.useSyncExternalStore:s,Nr}()),Mr.exports);const Ur=Ar.useSyncExternalStore,jr=K(void 0),Qr=K(!1);function Hr(t,e){return t||(e&&"undefined"!=typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=jr),window.ReactQueryClientContext):jr)}const Wr=({context:t}={})=>{const e=kt(Hr(t,kt(Qr)));if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},zr=t("Q",(({client:t,children:e,context:r,contextSharing:o=!1})=>{ft((()=>(t.mount(),()=>{t.unmount()})),[t]);const n=Hr(r,o);return _(Qr.Provider,{value:!r&&o},_(n.Provider,{value:t},e))})),Br=K(!1),Vr=()=>kt(Br);Br.Provider;const Kr=K(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}()),Yr=()=>kt(Kr);function Jr(t,e){return"function"==typeof t?t(...e):!!t}const Gr=(t,e)=>{(t.suspense||t.useErrorBoundary)&&(e.isReset()||(t.retryOnMount=!1))},Xr=t=>{ft((()=>{t.clearReset()}),[t])},Zr=({result:t,errorResetBoundary:e,useErrorBoundary:r,query:o})=>t.isError&&!e.isReset()&&!t.isFetching&&Jr(r,[t.error,o]),to=t=>{t.suspense&&"number"!=typeof t.staleTime&&(t.staleTime=1e3)},eo=(t,e,r)=>t?.suspense&&((t,e)=>t.isLoading&&t.isFetching&&!e)(e,r),ro=(t,e,r)=>e.fetchOptimistic(t).then((({data:e})=>{t.onSuccess?.(e),t.onSettled?.(e,null)})).catch((e=>{r.clearReset(),t.onError?.(e),t.onSettled?.(void 0,e)}));function oo(t,e,r){return function(t,e){const r=Wr({context:t.context}),o=Vr(),n=Yr(),i=r.defaultQueryOptions(t);i._optimisticResults=o?"isRestoring":"optimistic",i.onError&&(i.onError=wr.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=wr.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=wr.batchCalls(i.onSettled)),to(i),Gr(i,n),Xr(n);const[a]=mt((()=>new e(r,i))),s=a.getOptimisticResult(i);if(Ur(_t((t=>{const e=o?()=>{}:a.subscribe(wr.batchCalls(t));return a.updateResult(),e}),[a,o]),(()=>a.getCurrentResult()),(()=>a.getCurrentResult())),ft((()=>{a.setOptions(i,{listeners:!1})}),[i,a]),eo(i,s,o))throw ro(i,a,n);if(Zr({result:s,errorResetBoundary:n,useErrorBoundary:i.useErrorBoundary,query:a.getCurrentQuery()}))throw s.error;return i.notifyOnChangeProps?s:a.trackResult(s)}(Be(t,e,r),Rr)}function no(t,e,r){const o=function(t,e){return ir(t)?{...e,mutationKey:t}:"function"==typeof t?{...e,mutationFn:t}:{...t}}(t,e),n=Wr({context:o.context}),[i]=mt((()=>new Ir(n,o)));ft((()=>{i.setOptions(o)}),[i,o]);const a=Ur(_t((t=>i.subscribe(wr.batchCalls(t))),[i]),(()=>i.getCurrentResult()),(()=>i.getCurrentResult())),s=_t(((t,e)=>{i.mutate(t,e).catch(io)}),[i]);if(a.error&&Jr(i.options.useErrorBoundary,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}function io(){}async function ao(t,e={}){const{timeout:r=3e4,retries:o=1,retryDelay:n=1e3,signal:i,...a}=e;console.log(`enhancedFetch: ${a.method||"GET"} ${t}`),console.debug("enhancedFetch options:",{timeout:r,retries:o,retryDelay:n,...a});const s=new AbortController;let c;r&&(c=setTimeout((()=>{console.warn(`enhancedFetch: Timeout reached for ${t}, aborting request`),s.abort()}),r));const l=i?function(...t){const e=new AbortController,r=()=>{e.abort(),t.forEach((t=>{t.removeEventListener("abort",r)}))};return t.forEach((t=>{t.aborted?r():t.addEventListener("abort",r)})),e.signal}(i,s.signal):s.signal,d={...a,signal:l};let u,h=0;for(;h<=o;)try{console.debug(`enhancedFetch: Attempt ${h+1}/${o+1} for ${t}`);const e=await fetch(t,d);if(c&&clearTimeout(c),console.log(`enhancedFetch response: ${e.status} ${e.statusText} for ${t}`),!e.ok)throw new Error(`HTTP error ${e.status}: ${e.statusText}`);return e}catch(p){if(u=p,c&&clearTimeout(c),console.error(`enhancedFetch error (attempt ${h+1}/${o+1}):`,p),"AbortError"===p.name)throw i&&i.aborted?(console.warn(`enhancedFetch: Request was cancelled by external signal for ${t}`),new Error("Request was cancelled")):(console.warn(`enhancedFetch: Request timed out for ${t}`),new Error("Request timed out"));if(h>=o){console.error(`enhancedFetch: All ${o+1} attempts failed for ${t}`);break}if(console.log(`enhancedFetch: Waiting ${n}ms before retry ${h+1} for ${t}`),await new Promise((t=>setTimeout(t,n))),r){s.abort();const t=new AbortController;c=setTimeout((()=>{t.abort()}),r)}h++}throw u}function so(){const t=new AbortController;return{signal:t.signal,abort:()=>t.abort(),isAborted:()=>t.signal.aborted}}async function co(t,e={}){try{const r=await ao(t,e);return console.log(`fetchJSON: Parsing JSON response from ${t}`),await r.json()}catch(r){throw console.error(`fetchJSON: Error fetching or parsing JSON from ${t}:`,r),r}}const lo=t("q",new Er({defaultOptions:{queries:{staleTime:3e4,cacheTime:3e5,retry:1,refetchOnWindowFocus:!1}}}));function uo(){return Wr()}function ho(t,e,r={},o={}){return"object"!=typeof t||Array.isArray(t)||null===t?oo({queryKey:Array.isArray(t)?t:[t],queryFn:async()=>{const t=so(),o={...r,signal:t.signal};try{return await co(e,o)}catch(n){throw console.error(`useQuery error for ${e}:`,n),n}},...o}):oo(t)}function po(t){return no({...t})}function go(t,e={},r={}){return po({mutationFn:async r=>{const o=so(),n={...e,method:"POST",headers:{"Content-Type":"application/json",...e.headers},body:JSON.stringify(r),signal:o.signal};try{return await co(t,n)}catch(i){throw console.error(`usePostMutation error for ${t}:`,i),i}},...r})}const mo=Object.freeze(Object.defineProperty({__proto__:null,QueryClient:Er,QueryClientProvider:zr,fetchJSON:co,queryClient:lo,useMutation:po,usePostMutation:go,useQuery:ho,useQueryClient:uo},Symbol.toStringTag,{value:"Module"}));function bo(){let t=document.getElementById("snapshot-modal-container");t||(t=document.createElement("div"),t.id="snapshot-modal-container",document.body.appendChild(t));const e=document.createElement("div");e.id="snapshot-preview-modal",e.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden",e.innerHTML='\n    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0" style="width: 90%;">\n      <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700">\n        <h3 id="snapshot-preview-title" class="text-lg font-semibold text-gray-900 dark:text-white">Snapshot</h3>\n        <button class="close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">✕</button>\n      </div>\n      <div class="p-4 overflow-auto flex-grow">\n        <img id="snapshot-preview-image" class="max-w-full max-h-[70vh] mx-auto" src="" alt="Snapshot">\n      </div>\n      <div class="p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2">\n        <button id="snapshot-download-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors">Download</button>\n        <button id="snapshot-close-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Close</button>\n      </div>\n    </div>\n  ',t.appendChild(e);let r=document.getElementById("video-modal-container");r||(r=document.createElement("div"),r.id="video-modal-container",document.body.appendChild(r));const o=document.createElement("div");o.id="video-preview-modal",o.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden",o.innerHTML='\n    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0 w-full md:w-[90%]">\n      <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700">\n        <h3 id="video-preview-title" class="text-lg font-semibold text-gray-900 dark:text-white">Video</h3>\n        <button class="close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">✕</button>\n      </div>\n      <div class="p-4 flex-grow">\n        <video id="video-preview-player" class="w-full h-auto max-w-full object-contain mx-auto" controls autoplay></video>\n      </div>\n      <div class="p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2">\n        <a id="video-download-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors" href="#" download>Download</a>\n        <button id="video-close-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Close</button>\n      </div>\n    </div>\n  ',r.appendChild(o),document.addEventListener("keydown",(t=>{"Escape"===t.key&&document.querySelectorAll(".fixed.inset-0.bg-black.bg-opacity-75").forEach((t=>{t.classList.contains("hidden")||t.classList.add("hidden")}))}))}function fo(){o((async()=>{const{initToastContainer:t}=await e.import("./toast-legacy-C25E1nCb.js");return{initToastContainer:t}}),void 0,e.meta.url).then((({initToastContainer:t})=>{t(!1)})).catch((t=>{if(console.error("Error loading toast module:",t),document.getElementById("status-message-styles"))return;const e=document.createElement("style");e.id="status-message-styles",e.textContent="\n      #status-message-container {\n        position: fixed;\n        top: 1rem;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n\n      .status-message {\n        background-color: #1f2937;\n        color: white;\n        padding: 0.5rem 1rem;\n        border-radius: 0.375rem;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n        margin-bottom: 0.5rem;\n        transition: all 0.3s ease;\n        opacity: 0;\n        transform: translateY(-0.5rem);\n      }\n\n      .status-message.show {\n        opacity: 1;\n        transform: translateY(0);\n      }\n\n      .status-message.success {\n        background-color: #10b981;\n      }\n\n      .status-message.error {\n        background-color: #ef4444;\n      }\n\n      .status-message.warning {\n        background-color: #f59e0b;\n      }\n\n      .status-message.info {\n        background-color: #3b82f6;\n      }\n    ",document.head.appendChild(e)}))}function wo(){if(document.getElementById("modal-styles"))return;const t=document.createElement("style");t.id="modal-styles",t.textContent="\n    .modal-content {\n      transition: all 0.3s ease-out;\n    }\n\n    .modal-content.scale-95 {\n      transform: scale(0.95);\n      opacity: 0;\n    }\n\n    .modal-content.scale-100 {\n      transform: scale(1);\n      opacity: 1;\n    }\n  ",document.head.appendChild(t)}function yo(t,r="info",n=4e3){console.log(`Showing status message: ${t} (${r})`),window.showToast?window.showToast(t,r,n):o((async()=>{const{showStatusMessage:t}=await e.import("./toast-legacy-C25E1nCb.js");return{showStatusMessage:t}}),void 0,e.meta.url).then((({showStatusMessage:e})=>{e(t,r,n)})).catch((e=>{console.error("Error loading toast module:",e);let o=document.getElementById("status-message-container");o||(o=document.createElement("div"),o.id="status-message-container",o.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center",document.body.appendChild(o));const i=document.createElement("div");let a="bg-blue-500";"success"===r?a="bg-green-500":"error"===r?a="bg-red-500":"warning"===r&&(a="bg-yellow-500"),i.className=`${a} text-white px-4 py-2 rounded-lg shadow-lg mb-2 transition-all duration-300 opacity-0 transform translate-y-2`,i.textContent=t,o.appendChild(i),setTimeout((()=>{i.classList.remove("opacity-0","translate-y-2")}),10),setTimeout((()=>{i.classList.add("opacity-0","translate-y-2"),setTimeout((()=>{i.parentNode===o&&o.removeChild(i),0===o.children.length&&o.parentNode===document.body&&document.body.removeChild(o)}),300)}),n)}))}if(t("n",mo),window.React=qe,void 0!==Z){if(window.wsClient=new Z,console.log("WebSocket client initialized at application level"),window.wsClient){console.log("Initial WebSocket connection state:",{connected:window.wsClient.isConnected(),clientId:window.wsClient.getClientId()});const t=window.wsClient.connect;window.wsClient.connect=function(){const e=t.apply(this,arguments);if(this.socket){const t=this.socket.onopen;this.socket.onopen=e=>{console.log("WebSocket connection opened at application level"),t&&t.call(this,e)};const e=this.socket.onerror;this.socket.onerror=t=>{console.error("WebSocket error at application level:",t),e&&e.call(this,t)};const r=this.socket.onclose;this.socket.onclose=t=>{console.log(`WebSocket connection closed at application level: ${t.code} ${t.reason}`),r&&r.call(this,t)};const o=this.socket.onmessage;this.socket.onmessage=t=>{t.data.includes('"type":"welcome"')||console.log("WebSocket message received at application level"),o&&o.call(this,t)}}return e};const e=window.wsClient.handleMessage;window.wsClient.handleMessage=function(t){const r=this.clientId;e.call(this,t);const o=this.clientId;r!==o&&o&&console.log(`WebSocket client ID changed at application level: ${o}`)}}void 0!==tt&&(window.batchDeleteClient=new tt(window.wsClient),console.log("Batch delete client initialized"))}function vo(t={}){let e={...t};const r=new Set;return{getState:()=>e,setState:t=>{e="function"==typeof t?t(e):{...e,...t},r.forEach((t=>t(e)))},subscribe:t=>(r.add(t),()=>{r.delete(t)})}}vo({message:"",visible:!1,timeout:null,type:"success"}),vo({imageUrl:"",title:""}),vo({videoUrl:"",title:"",downloadUrl:""});const xo=vo({client:window.wsClient||null,connected:!!window.wsClient&&window.wsClient.isConnected(),clientId:window.wsClient?window.wsClient.getClientId():null});window.wsClient&&setInterval((()=>{if(window.wsClient){const t=window.wsClient.isConnected(),e=window.wsClient.getClientId();xo.setState({connected:t,clientId:e}),!t&&!window.wsClient.connecting&&window.wsClient.reconnectAttempts<window.wsClient.maxReconnectAttempts&&(console.log("WebSocket not connected, attempting to reconnect from application level"),window.wsClient.connect())}}),5e3),document.addEventListener("DOMContentLoaded",(function(){!function(){const t=window.fetch;window.fetch=async function(e,r){const o=await t.apply(this,arguments);if(401===o.status&&!window.location.pathname.includes("login.html")){console.log("401 detected, redirecting to login");const t=window.location.pathname+window.location.search;window.location.href="/login.html?redirect="+encodeURIComponent(t)+"&from_redirect=true"}return o}}();const t=window.location.pathname.split("/").pop();let r="";switch(t){case"index.html":case"":r="nav-live";break;case"recordings.html":case"timeline.html":r="nav-recordings";break;case"streams.html":r="nav-streams";break;case"settings.html":r="nav-settings";break;case"users.html":r="nav-users";break;case"system.html":r="nav-system"}let n=document.getElementById("app-root");if(!n){n=document.createElement("div"),n.id="app-root";const t=document.getElementById("main-content");t?t.appendChild(n):document.body.appendChild(n),console.log("Created app-root element for Preact Query provider")}z(_(zr,{client:lo},_("div",{id:"app-content"})),n),Le(r),Ue(),"index.html"===t?fetch("/api/settings").then((t=>t.json())).then((t=>{t.webrtc_disabled?o((()=>e.import("./LiveViewQuery-legacy-dDsaaH-T.js")),void 0,e.meta.url).then((t=>{t.loadLiveView()})).catch((t=>{console.error("Error loading LiveViewQuery:",t)})):o((()=>e.import("./WebRTCView-legacy-lMx2FsD7.js")),void 0,e.meta.url).then((t=>{t.loadWebRTCView()})).catch((t=>{console.error("Error loading WebRTCView:",t)}))})).catch((t=>{console.error("Error checking WebRTC status:",t),o((()=>e.import("./WebRTCView-legacy-lMx2FsD7.js")),void 0,e.meta.url).then((t=>{t.loadWebRTCView()}))})):"hls.html"===t?o((()=>e.import("./LiveViewQuery-legacy-dDsaaH-T.js")),void 0,e.meta.url).then((t=>{t.loadLiveView()})):"recordings.html"===t?o((()=>e.import("./RecordingsView-legacy-D1uIsZYN.js")),void 0,e.meta.url).then((t=>{t.loadRecordingsView()})):"timeline.html"===t?o((()=>e.import("./TimelineView-legacy-8W7Ryb0W.js")),void 0,e.meta.url).then((t=>{t.loadTimelineView()})):"settings.html"===t?o((()=>e.import("./SettingsView-legacy-DFQvSTe8.js")),void 0,e.meta.url).then((t=>{t.loadSettingsView()})):"streams.html"===t?o((()=>e.import("./StreamsView-legacy-DPVpxQdC.js")),void 0,e.meta.url).then((t=>{t.loadStreamsView()})):"system.html"===t?o((()=>e.import("./SystemView-legacy-DB7DgmAr.js")),void 0,e.meta.url).then((t=>{t.loadSystemView()})):"login.html"===t?o((()=>e.import("./LoginView-legacy-BaANEq7F.js")),void 0,e.meta.url).then((t=>{t.loadLoginView()})):"users.html"===t?o((()=>e.import("./UsersView-legacy-NRikqrNW.js")),void 0,e.meta.url).then((t=>{t.loadUsersView()})):""===t&&o((()=>e.import("./WebRTCView-legacy-lMx2FsD7.js")),void 0,e.meta.url).then((t=>{t.loadWebRTCView()})),bo(),fo(),wo(),o((async()=>{const{initToastContainer:t}=await e.import("./toast-legacy-C25E1nCb.js");return{initToastContainer:t}}),void 0,e.meta.url).then((({initToastContainer:t})=>{t(!1),console.log("Toast container initialized from preact-app.js"),window.testToastFromApp=(t="info")=>{const e=`App test ${t} toast at ${(new Date).toLocaleTimeString()}`;return window.showToast&&window.showToast(e,t),"App toast triggered"}})).catch((t=>{console.error("Error initializing toast container:",t)}))}))}}}));
//# sourceMappingURL=preact-app-legacy-BBwnUaoN.js.map
