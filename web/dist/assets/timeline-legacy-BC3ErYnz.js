System.register(["./query-client-legacy-DpGFWkK1.js","./layout-legacy-TbEyfw4s.js","./Footer-legacy-DqOCiyV5.js","./LoadingIndicator-legacy-CgixVNwJ.js"],(function(e,t){"use strict";var n,i,r,o,s,l,a,m,c,d,g,u,p;return{setters:[e=>{n=e.d,i=e.y,r=e.c,o=e.k,s=e.A,l=e.b,a=e.E,m=e.e,c=e.Q},null,e=>{d=e.c,g=e.H,u=e.F},e=>{p=e.L}],execute:function(){var e=document.createElement("style");function t(){const[e,t]=n(!1),[s,l]=n(1);i((()=>{const e=y.subscribe((e=>{t(e.isPlaying),l(e.zoomLevel)}));return()=>e()}),[]);const a=()=>{y.setState({isPlaying:!1});const e=document.querySelector("#video-player video");e&&e.pause()},m=()=>{if(!y.timelineSegments||0===y.timelineSegments.length)return void d("No recordings to play","warning");console.log("TimelineControls: resumePlayback called"),console.log("TimelineControls: Current state:",{segments:y.timelineSegments.length,currentSegmentIndex:y.currentSegmentIndex,currentTime:y.currentTime,selectedDate:y.selectedDate});let e=null,t=-1,n=0;if(null!==y.currentTime){console.log("TimelineControls: Using current time to find segment:",y.currentTime);for(let i=0;i<y.timelineSegments.length;i++){const r=y.timelineSegments[i];if(y.currentTime>=r.start_timestamp&&y.currentTime<=r.end_timestamp){e=r,t=i,n=y.currentTime-r.start_timestamp,console.log(`TimelineControls: Found segment ${i} containing current time, relative time: ${n}s`);break}}if(!e){let i=0,r=1/0;for(let e=0;e<y.timelineSegments.length;e++){const t=y.timelineSegments[e],n=(t.start_timestamp+t.end_timestamp)/2,o=Math.abs(y.currentTime-n);o<r&&(r=o,i=e)}e=y.timelineSegments[i],t=i,n=y.currentTime<e.start_timestamp?0:y.currentTime>e.end_timestamp?e.end_timestamp-e.start_timestamp:y.currentTime-e.start_timestamp,console.log(`TimelineControls: Using closest segment ${i}, relative time: ${n}s`)}}else y.currentSegmentIndex>=0&&y.currentSegmentIndex<y.timelineSegments.length?(t=y.currentSegmentIndex,e=y.timelineSegments[t],n=0,console.log(`TimelineControls: Using current segment index ${t}`)):(t=0,e=y.timelineSegments[0],n=0,console.log("TimelineControls: Falling back to first segment"));console.log(`TimelineControls: Playing segment ${t} (ID: ${e.id}) at time ${n}s`),y.currentSegmentIndex=t,y.preserveCursorPosition?console.log(`TimelineControls: Cursor position is locked, keeping current time ${y.currentTime}`):null!==y.currentTime&&y.currentTime>=e.start_timestamp&&y.currentTime<=e.end_timestamp?console.log(`TimelineControls: Keeping current time ${y.currentTime} within segment`):(y.currentTime=e.start_timestamp+n,console.log(`TimelineControls: Setting current time to ${y.currentTime} (segment start + ${n}s)`)),y.isPlaying=!0,y.directVideoControl=!0,y.setState({}),setTimeout((()=>{console.log("TimelineControls: Resetting directVideoControl flag"),y.directVideoControl=!1,y.setState({})}),3e3);const i=document.querySelector("#video-player video");if(i){i.pause();const t=()=>{console.log(`TimelineControls: Video metadata loaded, setting time to ${n}s`);try{console.log("TimelineControls: Video metadata",{duration:i.duration,width:i.videoWidth,height:i.videoHeight,segment:e.id,segmentDuration:e.end_timestamp-e.start_timestamp});let t=n;if(y.preserveCursorPosition&&null!==y.currentTime)if(y.currentTime>=e.start_timestamp&&y.currentTime<=e.end_timestamp)t=y.currentTime-e.start_timestamp,console.log(`TimelineControls: Using locked cursor position for playback: ${t}s`);else{const n=Math.abs(y.currentTime-e.start_timestamp);n<=Math.abs(y.currentTime-e.end_timestamp)?(t=0,console.log("TimelineControls: Cursor outside segment, using start of segment")):(t=e.end_timestamp-e.start_timestamp,console.log("TimelineControls: Cursor outside segment, using end of segment"))}else null!==y.currentTime&&y.currentTime>=e.start_timestamp&&y.currentTime<=e.end_timestamp&&(t=y.currentTime-e.start_timestamp,console.log(`TimelineControls: Using cursor position for playback: ${t}s`));let r=Math.max(0,Math.min(t,i.duration||0));r>0&&r<1&&(r=1,console.log(`TimelineControls: Adjusting video time to ${r}s to prevent snapping to segment start`)),console.log(`TimelineControls: Setting video time to ${r}s`),i.currentTime=r,setTimeout((()=>{y.isPlaying&&(console.log("TimelineControls: Starting video playback"),i.play().then((()=>{console.log("TimelineControls: Video playback started successfully");const t=(e=1)=>{e>5||setTimeout((()=>{i.paused&&y.isPlaying&&(console.log(`TimelineControls: Video paused unexpectedly (attempt ${e}), trying to resume`),i.play().catch((t=>{console.error(`Error resuming video (attempt ${e}):`,t)})),t(e+1))}),500*e)};t();const r=e.end_timestamp-e.start_timestamp;if(console.log(`TimelineControls: Segment duration: ${r}s, video duration: ${i.duration}s`),i.duration<r-1){console.log("TimelineControls: Video duration is shorter than segment duration, will monitor playback");const e=setInterval((()=>{y.isPlaying&&i?i.currentTime>i.duration-.5&&n+i.currentTime<r&&(console.log("TimelineControls: Reached end of video but not end of segment, restarting video"),i.currentTime=0,i.play().catch((e=>{console.error("Error restarting video:",e)}))):clearInterval(e)}),500)}})).catch((e=>{console.error("Error playing video:",e),d("Error playing video: "+e.message,"error")})))}),100)}catch(r){console.error("TimelineControls: Error in handleMetadataLoaded:",r)}finally{i.removeEventListener("loadedmetadata",t)}};i.addEventListener("loadedmetadata",t),console.log(`TimelineControls: Loading video from segment ${e.id}`),i.src=`/api/recordings/play/${e.id}?t=${Date.now()}`,i.load()}else console.error("TimelineControls: No video element found"),d("Error: Video player not found","error")};return r("div",{className:"timeline-controls flex justify-between items-center mb-2",children:[r("div",{className:"flex items-center",children:[r("button",{id:"play-button",className:"w-10 h-10 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center focus:outline-none focus:ring-1 focus:ring-green-500 focus:ring-offset-1 transition-colors shadow-sm mr-2",onClick:()=>{console.log("TimelineControls: togglePlayback called"),console.log("TimelineControls: Current state before toggle:",{isPlaying:e,currentTime:y.currentTime,currentSegmentIndex:y.currentSegmentIndex,segmentsCount:y.timelineSegments?y.timelineSegments.length:0}),e?a():m()},title:e?"Pause":"Play from current position",children:r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r(o,e?{children:[r("rect",{x:"6",y:"6",width:"4",height:"12",rx:"1",fill:"white"}),r("rect",{x:"14",y:"6",width:"4",height:"12",rx:"1",fill:"white"})]}:{children:r("path",{d:"M8 5.14v14l11-7-11-7z",fill:"white"})})})}),r("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Play from current position"})]}),r("div",{className:"flex items-center gap-1",children:[r("span",{className:"text-xs text-gray-600 dark:text-gray-300 mr-1",children:"Zoom:"}),r("button",{id:"zoom-out-button",className:"w-6 h-6 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center justify-center focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors",onClick:()=>{if(s>1){const e=s/2;y.setState({zoomLevel:e}),d(`Zoomed out: ${24/e} hours view`,"info")}},title:"Zoom Out (Show more time)",disabled:s<=1,children:r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),r("button",{id:"zoom-in-button",className:"w-6 h-6 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center justify-center focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors",onClick:()=>{if(s<8){const e=2*s;y.setState({zoomLevel:e}),d(`Zoomed in: ${24/e} hours view`,"info")}},title:"Zoom In (Show less time)",disabled:s>=8,children:r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})}function h(){const[e,t]=n(0),[o,s]=n(24),[l,a]=n(1);return i((()=>{const e=y.subscribe((e=>{console.log("TimelineRuler: State update received",{zoomLevel:e.zoomLevel,segmentsCount:e.timelineSegments?e.timelineSegments.length:0,currentTime:e.currentTime});const n=24/e.zoomLevel;let i=12;if(null!==e.currentTime){const t=new Date(1e3*e.currentTime);i=t.getHours()+t.getMinutes()/60+t.getSeconds()/3600}else if(e.timelineSegments&&e.timelineSegments.length>0){let t=24,n=0;e.timelineSegments.forEach((e=>{const i=new Date(1e3*e.start_timestamp),r=new Date(1e3*e.end_timestamp),o=i.getHours()+i.getMinutes()/60+i.getSeconds()/3600,s=r.getHours()+r.getMinutes()/60+r.getSeconds()/3600;t=Math.min(t,o),n=Math.max(n,s)})),i=(t+n)/2,console.log("TimelineRuler: Calculated center from segments",{earliestHour:t,latestHour:n,centerHour:i})}let r=Math.max(0,i-n/2),o=Math.min(24,r+n);24===o&&n<24?(r=Math.max(0,24-n),o=24):0===r&&n<24&&(o=Math.min(24,n)),t(r),s(o),a(e.zoomLevel),console.log("TimelineRuler: Calculated time range",{newStartHour:r,newEndHour:o,hoursPerView:n,centerHour:i}),y.timelineStartHour===r&&y.timelineEndHour===o||(console.log("TimelineRuler: Updating global state with new time range"),y.setState({timelineStartHour:r,timelineEndHour:o}))}));return()=>e()}),[]),r("div",{className:"timeline-ruler relative w-full h-8 bg-gray-300 dark:bg-gray-800 border-b border-gray-400 dark:border-gray-600",children:[(()=>{const t=[];for(let n=Math.floor(e);n<=Math.ceil(o);n++)if(n>=0&&n<=24){const i=(n-e)/(o-e)*100;if(t.push(r("div",{className:"absolute top-0 w-px h-5 bg-gray-500 dark:bg-gray-400",style:{left:`${i}%`}},`tick-${n}`)),t.push(r("div",{className:"absolute top-0 text-xs text-gray-600 dark:text-gray-300 transform -translate-x-1/2",style:{left:`${i}%`},children:[n,":00"]},`label-${n}`)),n<24&&l>=2){const i=(n+.5-e)/(o-e)*100;if(t.push(r("div",{className:"absolute top-2 w-px h-3 bg-gray-400 dark:bg-gray-500",style:{left:`${i}%`}},`tick-${n}-30`)),l>=4){const i=(n+.25-e)/(o-e)*100,s=(n+.75-e)/(o-e)*100;t.push(r("div",{className:"absolute top-3 w-px h-2 bg-gray-400 dark:bg-gray-500",style:{left:`${i}%`}},`tick-${n}-15`)),t.push(r("div",{className:"absolute top-3 w-px h-2 bg-gray-400 dark:bg-gray-500",style:{left:`${s}%`}},`tick-${n}-45`))}}}return t})(),r("div",{className:"absolute bottom-0 left-0 text-xs text-gray-500 px-1",children:["Zoom: ",l,"x (",Math.round(24/l)," hours)"]})]})}function f({segments:e}){const[t,o]=n(e||[]),[l,a]=n(0),[m,c]=n(24),[d,g]=n(-1);i((()=>{console.log(`TimelineSegments: Received segments from props: ${e?e.length:0}`),e&&e.length>0&&o(e)}),[e]);const u=s(null),p=s(!1),h=s(0),f=s([]);i((()=>{const e=y.subscribe((e=>{console.log(`TimelineSegments: State update received, segments: ${e.timelineSegments?e.timelineSegments.length:0}`),e.timelineSegments&&(!f.current||e.timelineSegments.length!==f.current.length||JSON.stringify(e.timelineSegments)!==JSON.stringify(f.current)||e.forceReload)&&(console.log(`TimelineSegments: Updating segments (${e.timelineSegments.length})`),o(e.timelineSegments),f.current=[...e.timelineSegments],h.current=Date.now());const t=void 0!==e.timelineStartHour?e.timelineStartHour:0,n=void 0!==e.timelineEndHour?e.timelineEndHour:24;console.log(`TimelineSegments: Time range update - startHour: ${t}, endHour: ${n}`),a(t),c(n),g(e.currentSegmentIndex||-1)}));return y.timelineSegments&&y.timelineSegments.length>0&&(console.log(`TimelineSegments: Initial load of segments (${y.timelineSegments.length})`),o(y.timelineSegments),f.current=[...y.timelineSegments],g(y.currentSegmentIndex||0),void 0!==y.timelineStartHour&&a(y.timelineStartHour),void 0!==y.timelineEndHour&&c(y.timelineEndHour),h.current=Date.now()),()=>e()}),[]),i((()=>{const e=u.current;if(!e)return;const t=t=>{(t.target===e||t.target.classList.contains("timeline-clickable-area"))&&(p.current=!0,T(t),document.addEventListener("mousemove",n),document.addEventListener("mouseup",i))},n=e=>{p.current&&T(e)},i=()=>{p.current=!1,document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)};return e.addEventListener("mousedown",t),()=>{e.removeEventListener("mousedown",t),document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i)}}),[l,m,t]);const T=e=>{const n=u.current;if(!n)return;const i=n.getBoundingClientRect(),r=e.clientX-i.left,o=i.width,s=l+r/o*(m-l),a=new Date(y.selectedDate);a.setHours(Math.floor(s)),a.setMinutes(Math.floor(s%1*60)),a.setSeconds(Math.floor(s%1*60%1*60));const c=a.getTime()/1e3;y.setState({currentTime:c,prevCurrentTime:y.currentTime,isPlaying:!1});let d=!1;for(let l=0;l<t.length;l++){const n=t[l],i=n.local_start_timestamp||n.start_timestamp,r=n.local_end_timestamp||n.end_timestamp;if(c>=i&&c<=r){console.log(`TimelineSegments: Found segment ${l} containing timestamp`),y.setState({currentSegmentIndex:l}),e.target.classList.contains("timeline-segment")&&b(l,c-i),d=!0;break}}d||y.setState({currentSegmentIndex:-1})},b=(e,n=null)=>{if(console.log(`TimelineSegments: playSegment(${e}, ${n})`),e<0||e>=t.length)return void console.warn(`TimelineSegments: Invalid segment index: ${e}`);const i=t[e],r=i.local_start_timestamp||i.start_timestamp,o=null!==n?r+n:r;y.setState({isPlaying:!1,currentSegmentIndex:-1}),document.body.offsetHeight,setTimeout((()=>{y.setState({currentSegmentIndex:e,currentTime:o,isPlaying:!0,forceReload:!0}),setTimeout((()=>{const e=document.querySelector("#video-player video");e&&(e.pause(),e.removeAttribute("src"),e.load(),e.src=`/api/recordings/play/${i.id}?t=${Date.now()}`,e.onloadedmetadata=()=>{const t=null!==n?n:0;e.currentTime=t,e.play().catch((e=>console.error("Error playing video:",e)))})}),50)}),50)};return r("div",{className:"timeline-segments relative w-full h-16 pt-2",ref:u,children:(()=>{if(console.log("TimelineSegments: renderSegments called"),console.log("TimelineSegments: segments:",t),console.log("TimelineSegments: startHour:",l,"endHour:",m),!t||0===t.length)return console.log("TimelineSegments: No segments to render"),html`<div class="text-center text-red-500 font-bold">No segments to display</div>`;console.log("TimelineSegments: Rendering segments:",t.length);const e=[],n=new Map;console.log("TimelineSegments: Starting to process segments");let i=0,o=0;t.forEach(((e,t)=>{const r=e.start_timestamp,s=e.end_timestamp,a=new Date(1e3*r),c=new Date(1e3*s),d=a.getHours()+a.getMinutes()/60+a.getSeconds()/3600,g=c.getHours()+c.getMinutes()/60+c.getSeconds()/3600;if(g<l||d>m)return o++,void(t<5&&console.log(`TimelineSegments: Skipping segment ${t}, startHour=${d}, endHour=${g}, visible range=${l}-${m}`));i++;const u=Math.floor(d),p=Math.min(Math.ceil(g),24);for(let i=u;i<p;i++)i>=l&&i<=m&&(n.has(i)||n.set(i,[]),n.get(i).push(t))}));const s=[];let a=null;[...t].sort(((e,t)=>e.start_timestamp-t.start_timestamp)).forEach(((e,t)=>{a?e.start_timestamp-a.end_timestamp<=1?(a.end_timestamp=e.end_timestamp,a.originalIndices.push(t),e.has_detection&&(a.has_detection=!0)):(s.push(a),a={...e,originalIndices:[t]}):a={...e,originalIndices:[t]}})),a&&s.push(a),s.forEach(((t,n)=>{const i=t.start_timestamp,o=t.end_timestamp,s=y.timestampToTimelineHour(i),a=y.timestampToTimelineHour(o);if(console.log("TimelineSegments: Segment timestamps",{segmentId:t.id,startTimestamp:i,endTimestamp:o,startTimeLocal:new Date(1e3*i).toLocaleString(),endTimeLocal:new Date(1e3*o).toLocaleString(),startHourFloat:s,endHourFloat:a}),a<l||s>m)return;const c=Math.max(s,l),d=Math.min(a,m),g=(c-l)/(m-l)*100,u=(d-c)/(m-l)*100,p=`${Math.round(o-i)}s`,h=new Date(1e3*i).toLocaleTimeString(),f=new Date(1e3*o).toLocaleTimeString();e.push(r("div",{className:"timeline-segment absolute rounded-sm transition-all duration-200 "+(t.has_detection?"bg-red-500":"bg-blue-500"),style:{left:`${g}%`,width:`${u}%`,height:"80%",top:"50%",transform:"translateY(-50%)"},title:`${h} - ${f} (${p})`},`segment-${n}`))}));for(let t=Math.floor(l);t<Math.ceil(m);t++)if(!n.has(t)){const n=(t-l)/(m-l)*100,i=100/(m-l);e.push(r("div",{className:"timeline-clickable-area absolute h-full cursor-pointer",style:{left:`${n}%`,width:`${i}%`},"data-hour":t},`clickable-${t}`))}return console.log(`TimelineSegments: Rendering complete. Total: ${t.length}, Visible: ${i}, Skipped: ${o}, Final rendered: ${e.length}`),e})()})}function T(){const[e,t]=n(0),[o,l]=n(!1),[a,m]=n(0),[c,d]=n(24),[g,u]=n(null),[p,h]=n(!1),f=s(null);s(null);const T=s(0),b=s(((e,t)=>{let n;return function(...i){n&&clearTimeout(n),n=setTimeout((()=>{e.apply(this,i)}),t)}})(((e,t,n)=>{S(e,t,n)}),100)).current;i((()=>{const e=y.subscribe((e=>{console.log("TimelineCursor: State update received",{currentTime:e.currentTime,startHour:e.timelineStartHour,endHour:e.timelineEndHour,segmentsCount:e.timelineSegments?e.timelineSegments.length:0,isDragging:p,userControllingCursor:e.userControllingCursor}),m(e.timelineStartHour||0),d(e.timelineEndHour||24),p||e.userControllingCursor||(u(e.currentTime),x(e.currentTime),b(e.currentTime,e.timelineStartHour||0,e.timelineEndHour||24))}));return()=>e()}),[p,b]),i((()=>{const e=f.current;if(!e)return;const n=e=>{e.preventDefault(),e.stopPropagation(),console.log("TimelineCursor: Mouse down event"),T.current=e.clientX,h(!0),y.userControllingCursor=!0,y.preserveCursorPosition=!0,y.cursorPositionLocked=!0,y.setState({}),document.addEventListener("mousemove",i),document.addEventListener("mouseup",r)},i=n=>{if(!p)return;const i=e.parentElement;if(!i)return;const r=i.getBoundingClientRect(),o=Math.max(0,Math.min(n.clientX-r.left,r.width))/r.width*100;t(o);const s=a+o/100*(c-a),l=y.timelineHourToTimestamp(s,y.selectedDate);u(l),x(l)},r=t=>{if(!p)return;const n=e.parentElement;if(!n)return;const o=n.getBoundingClientRect(),s=Math.max(0,Math.min(t.clientX-o.left,o.width)),l=o.width,m=s/l*100;console.log("TimelineCursor: Mouse up at position",{positionPercent:m,clickX:s,containerWidth:l});const d=c-a,g=a+m/100*d;console.log("TimelineCursor: Calculated hour",{hour:g,startHour:a,endHour:c,hourRange:d});const u=y.timelineHourToTimestamp(g,y.selectedDate);if(console.log("TimelineCursor: Converted hour to timestamp",{hour:g,localDate:new Date(1e3*u).toLocaleString(),timestamp:u}),console.log("TimelineCursor: Converted to timestamp",{timestamp:u,dateTime:new Date(1e3*u).toLocaleString(),selectedDate:y.selectedDate}),console.log("TimelineCursor: Mouse up event"),h(!1),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r),setTimeout((()=>{console.log("TimelineCursor: Releasing cursor control but preserving position"),y.userControllingCursor=!1,y.setState({})}),100),y.currentTime=u,y.timelineSegments&&y.timelineSegments.length>0){const e=y.timelineSegments.find((e=>u>=e.start_timestamp&&u<=e.end_timestamp));if(e&&u-e.start_timestamp<1){const t=e.start_timestamp+1;console.log(`TimelineCursor: Adjusting cursor position from ${u} to ${t} to prevent snapping to segment start`),y.currentTime=t}}y.prevCurrentTime=y.currentTime,y.isPlaying=!1,y.setState({});const f=y.timelineSegments||[];console.log("TimelineCursor: Searching for segment containing timestamp",{timestamp:u,segmentsCount:f.length});let T=!1,b=-1,S=1/0;for(let e=0;e<f.length;e++){const t=f[e],n=t.local_start_timestamp||t.start_timestamp,i=t.local_end_timestamp||t.end_timestamp;if(e<3&&console.log(`TimelineCursor: Segment ${e}`,{startTimestamp:n,endTimestamp:i,startTime:new Date(1e3*n).toLocaleTimeString(),endTime:new Date(1e3*i).toLocaleTimeString()}),u>=n&&u<=i){console.log(`TimelineCursor: Found exact match at segment ${e}`),y.currentSegmentIndex=e,y.setState({}),T=!0;break}const r=(n+i)/2,o=Math.abs(u-r);o<S&&(S=o,b=e)}T||(b>=0?(console.log(`TimelineCursor: No exact match, using closest segment ${b}`),y.currentSegmentIndex=b,y.setState({})):(console.log("TimelineCursor: No segments found at all"),y.currentSegmentIndex=-1,y.setState({})))};return e.addEventListener("mousedown",n),()=>{e.removeEventListener("mousedown",n),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",r)}}),[f.current,a,c,p]);const S=(e,n,i)=>{if(console.log("TimelineCursor: updateCursorPosition called",{time:e,startHr:n,endHr:i}),null===e)return console.log("TimelineCursor: No current time, hiding cursor"),void l(!1);const r=new Date(1e3*e),o=r.getHours()+r.getMinutes()/60+r.getSeconds()/3600;if(console.log("TimelineCursor: Calculated hour",{hour:o,timeString:r.toLocaleTimeString()}),o<n||o>i)return console.log("TimelineCursor: Time outside visible range, hiding cursor"),void l(!1);const s=(o-n)/(i-n)*100;console.log("TimelineCursor: Calculated position",{position:s,hour:o,startHr:n,endHr:i}),t(s),l(!0)},x=e=>{if(null===e)return;const t=document.getElementById("time-display");if(!t)return;const n=new Date(1e3*e),i=n.getHours().toString().padStart(2,"0"),r=n.getMinutes().toString().padStart(2,"0"),o=n.getSeconds().toString().padStart(2,"0");t.textContent=`${i}:${r}:${o}`};return i((()=>{console.log("TimelineCursor: Initializing cursor position"),console.log("TimelineCursor: Initial state",{currentTime:y.currentTime,startHour:y.timelineStartHour,endHour:y.timelineEndHour,segments:y.timelineSegments?y.timelineSegments.length:0});const e=()=>{if(console.log("TimelineCursor: Checking timelineState directly",{currentTime:y.currentTime,segmentsLength:y.timelineSegments?y.timelineSegments.length:0,currentSegmentIndex:y.currentSegmentIndex}),y.currentTime)return console.log("TimelineCursor: Setting initial cursor position with current time"),l(!0),S(y.currentTime,y.timelineStartHour||0,y.timelineEndHour||24),!0;if(y.timelineSegments&&y.timelineSegments.length>0){console.log("TimelineCursor: Using first segment start time for cursor");const e=y.timelineSegments[0].start_timestamp;return console.log("TimelineCursor: Directly setting timelineState properties"),y.currentTime=e,y.currentSegmentIndex=0,y.setState({}),l(!0),S(e,y.timelineStartHour||0,y.timelineEndHour||24),!0}return!1};e()||(console.log("TimelineCursor: Initial initialization failed, will retry after delay"),[100,300,500,1e3].forEach(((t,n)=>{setTimeout((()=>{o||(console.log(`TimelineCursor: Retry initialization attempt ${n+1}`),e())}),t)})))}),[]),r("div",{ref:f,className:"timeline-cursor absolute top-0 h-full z-50 transition-all duration-100 cursor-ew-resize",style:{left:`${e}%`,display:o?"block":"none",pointerEvents:"auto",width:"7px",marginLeft:"-3.5px"},children:[r("div",{className:"absolute top-0 bottom-0 left-0 w-full"}),r("div",{className:"absolute top-0 bottom-0 w-0.5 bg-orange-500 left-1/2 transform -translate-x-1/2 pointer-events-none"}),r("div",{className:"absolute top-0 left-1/2 w-4 h-4 bg-black rounded-full transform -translate-x-1/2 -translate-y-1/2 shadow-md pointer-events-none"}),r("div",{className:"absolute bottom-0 left-1/2 w-4 h-4 bg-black rounded-full transform -translate-x-1/2 translate-y-1/2 shadow-md pointer-events-none"})]})}function b(){const[e,t]=n(1);return i((()=>{const e=y.subscribe((e=>{t(e.playbackSpeed)}));return()=>e()}),[]),r("div",{className:"mt-2 mb-4 p-2 border border-green-500 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:r("div",{className:"flex flex-col items-center",children:[r("div",{className:"text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Playback Speed"}),r("div",{className:"flex flex-wrap justify-center gap-1",children:[.25,.5,1,1.5,2,4].map((t=>r("button",{className:`speed-btn px-2 py-1 text-sm rounded-full ${t===e?"bg-green-500 text-white":"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"}\n                font-medium transition-all focus:outline-none focus:ring-1 focus:ring-green-500 focus:ring-opacity-50`,"data-speed":t,onClick:()=>(e=>{const t=document.querySelector("#video-player video");t&&(t.playbackRate=e),y.setState({playbackSpeed:e}),d(`Playback speed: ${e}x`,"info")})(t),children:1===t?"1× (Normal)":`${t}×`},`speed-${t}`)))}),r("div",{className:"mt-1 text-xs font-medium text-green-600 dark:text-green-400",children:["Current: ",e,"× ",1===e?"(Normal)":""]})]})})}function S(){const[e,t]=n(-1),[l,a]=n(!1),[m,c]=n([]),[g,u]=n(1),p=s(null),h=s(null),f=s(null);i((()=>{const e=y.subscribe((e=>{t(e.currentSegmentIndex),a(e.isPlaying),c(e.timelineSegments||[]),u(e.playbackSpeed),T(e)}));return()=>e()}),[]);const T=e=>{const t=p.current;if(!t)return;if(!e.timelineSegments||0===e.timelineSegments.length||e.currentSegmentIndex<0||e.currentSegmentIndex>=e.timelineSegments.length)return;const n=e.timelineSegments[e.currentSegmentIndex];if(!n)return;const i=f.current!==n.id,r=i;let o=0;null!==e.currentTime&&(e.currentTime>=n.start_timestamp&&e.currentTime<=n.end_timestamp?(o=e.currentTime-n.start_timestamp,console.log(`Current time ${e.currentTime} is within segment ${n.id}, relative time: ${o}s`)):e.currentTime<n.start_timestamp?(o=0,console.log(`Current time ${e.currentTime} is before segment ${n.id}, starting at beginning`)):(o=n.end_timestamp-n.start_timestamp,console.log(`Current time ${e.currentTime} is after segment ${n.id}, starting at end`)));const s=null!==e.prevCurrentTime&&Math.abs(e.currentTime-e.prevCurrentTime)>1;i&&(console.log(`Segment changed from ${f.current} to ${n.id}`),f.current=n.id),r?(console.log(`Loading new segment ${n.id} (segmentChanged: ${i})`),S(n,o,e.isPlaying)):s?(console.log(`Seeking to ${o}s within current segment`),t.currentTime=o):e.isPlaying&&t.paused?t.play().catch((e=>{console.error("Error playing video:",e)})):e.isPlaying||t.paused||t.pause(),t.playbackRate!==e.playbackSpeed&&(t.playbackRate=e.playbackSpeed)},S=(e,t=0,n=!1)=>{const i=p.current;if(!i)return;console.log(`Loading segment ${e.id} at time ${t}s, autoplay: ${n}`),i.pause();const r=`/api/recordings/play/${e.id}?t=${Date.now()}`,o=()=>{console.log("Video metadata loaded");let r=t;y.preserveCursorPosition&&null!==y.currentTime?y.currentTime>=e.start_timestamp&&y.currentTime<=e.end_timestamp?(r=y.currentTime-e.start_timestamp,console.log(`TimelinePlayer: Using locked cursor position for playback: ${r}s`)):Math.abs(y.currentTime-e.start_timestamp)<=Math.abs(y.currentTime-e.end_timestamp)?(r=0,console.log("TimelinePlayer: Cursor outside segment, using start of segment")):(r=e.end_timestamp-e.start_timestamp,console.log("TimelinePlayer: Cursor outside segment, using end of segment")):null!==y.currentTime&&y.currentTime>=e.start_timestamp&&y.currentTime<=e.end_timestamp&&(r=y.currentTime-e.start_timestamp,console.log(`TimelinePlayer: Using cursor position for playback: ${r}s`));const s=e.end_timestamp-e.start_timestamp;let l=Math.min(Math.max(0,r),s);l>0&&l<1&&(l=1,console.log(`TimelinePlayer: Adjusting seek time to ${l}s to prevent snapping to segment start`)),console.log(`TimelinePlayer: Setting video time to ${l}s (requested: ${r}s, segment duration: ${s}s)`),i.currentTime=l,i.playbackRate=g,n&&i.play().catch((e=>{console.error("Error playing video:",e),d("Error playing video: "+e.message,"error")})),i.removeEventListener("loadedmetadata",o)};i.addEventListener("loadedmetadata",o),i.src=r,i.load()},x=e=>{if(null===e)return;const t=document.getElementById("time-display");if(!t)return;const n=y.timestampToTimelineHour(e),i=Math.floor(n).toString().padStart(2,"0"),r=Math.floor(n%1*60).toString().padStart(2,"0"),o=Math.floor(n%1*60%1*60).toString().padStart(2,"0");t.textContent=`${i}:${r}:${o}`,console.log("TimelinePlayer: Updated time display",{timestamp:e,hour:n,formatted:`${i}:${r}:${o}`,localTime:new Date(1e3*e).toLocaleString()})};return r(o,{children:[r("div",{className:"timeline-player-container mb-2",id:"video-player",children:r("div",{className:"relative w-full bg-black rounded-lg shadow-md",style:{aspectRatio:"16/9"},children:[r("video",{ref:p,className:"w-full h-full object-contain",controls:!0,autoPlay:!1,muted:!1,playsInline:!0,onEnded:()=>{if(console.log("Video ended"),e<m.length-1){const t=e+1;console.log(`Playing next segment ${t}`);const n=y.userControllingCursor;y.directVideoControl=!0,y.setState({currentSegmentIndex:t,currentTime:n?y.currentTime:m[t].start_timestamp,isPlaying:!0,forceReload:!0}),setTimeout((()=>{y.directVideoControl=!1,y.setState({})}),1e3)}else console.log("End of all segments"),y.setState({isPlaying:!1})},onTimeUpdate:()=>{const t=p.current;if(!t)return;if(e<0||!m||0===m.length||e>=m.length)return;const n=m[e];if(!n)return;const i=n.start_timestamp+t.currentTime;console.log("TimelinePlayer: Current time",{videoTime:t.currentTime,segmentStart:n.start_timestamp,calculatedTime:i,localTime:new Date(1e3*i).toLocaleString()}),x(i),y.userControllingCursor?console.log("TimelinePlayer: User is controlling cursor, not updating timeline state"):y.cursorPositionLocked?console.log("TimelinePlayer: Cursor position is locked, not updating timeline state"):y.directVideoControl?console.log("TimelinePlayer: Direct video control active, not updating timeline state"):(y.setState({currentTime:i,prevCurrentTime:h.current}),h.current=i)}}),r("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 text-white text-center p-4 "+(e>=0&&m.length>0?"hidden":""),children:r("div",{children:[r("p",{className:"mb-2",children:"No valid segment selected."}),r("p",{className:"text-sm",children:"Click on a segment in the timeline or use the play button to start playback."})]})})]})}),r(b,{})]})}e.textContent=".timeline-container{position:relative;width:100%;height:100px;background-color:#f0f0f0;border:1px solid #ccc;border-radius:4px;margin-bottom:20px;overflow:hidden}.timeline-ruler{position:relative;width:100%;height:30px;background-color:#e0e0e0;border-bottom:1px solid #ccc}.timeline-tick{position:absolute;top:15px;width:1px;height:10px;background-color:#999}.timeline-tick.major{top:10px;height:20px;background-color:#666}.timeline-label{position:absolute;top:0;transform:translate(-50%);font-size:10px;color:#666;padding:2px}.timeline-segments{position:relative;width:100%;height:70px;padding:10px 0}.timeline-segment{position:absolute;height:20px;background-color:#4a90e2;border-radius:2px;top:25px;opacity:.8;cursor:pointer;transition:all .2s ease}.timeline-segment:hover{opacity:1;height:24px;top:23px;box-shadow:0 2px 4px rgba(0,0,0,.2)}.timeline-segment.has-detection{background-color:#e74c3c}.timeline-cursor{position:absolute;top:0;width:2px;height:100%;background-color:#ff5722;z-index:10}.timeline-player-container{width:100%;aspect-ratio:16 / 9;background-color:#000;border-radius:4px;overflow:hidden;position:relative}.timeline-player-container video{width:100%;height:100%;-o-object-fit:contain;object-fit:contain}.timeline-controls{display:flex;align-items:center;gap:10px;margin-bottom:10px}.timeline-control-btn{width:40px;height:40px;border-radius:50%;background-color:#4a90e2;color:#fff;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.timeline-control-btn:hover{background-color:#3a80d2}.timeline-control-btn .icon{font-size:18px}.timeline-time-display{font-family:monospace;font-size:18px;padding:5px 10px;background-color:#f0f0f0;border-radius:4px;border:1px solid #ddd}.timeline-zoom-controls{display:flex;gap:5px}.timeline-zoom-btn{width:30px;height:30px;border-radius:4px;background-color:#f0f0f0;border:1px solid #ddd;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:background-color .2s ease}.timeline-zoom-btn:hover{background-color:#e0e0e0}#status-message-container{position:fixed;top:20px;right:20px;z-index:1000;display:flex;flex-direction:column;gap:10px;max-width:300px}.status-message{padding:10px 15px;border-radius:4px;color:#fff;box-shadow:0 2px 10px rgba(0,0,0,.2);opacity:0;transform:translate(20px);transition:all .3s ease}.status-message.show{opacity:1;transform:translate(0)}@media (prefers-color-scheme: dark){.timeline-container{background-color:#2a2a2a;border-color:#444}.timeline-ruler{background-color:#333;border-color:#444}.timeline-tick{background-color:#777}.timeline-tick.major{background-color:#999}.timeline-label{color:#ccc}.timeline-time-display,.timeline-zoom-btn{background-color:#333;border-color:#444;color:#eee}.timeline-zoom-btn:hover{background-color:#444}}@media (max-width: 768px){.timeline-container{height:80px}.timeline-ruler{height:25px}.timeline-segments{height:55px}.timeline-segment{height:15px;top:20px}.timeline-segment:hover{height:18px;top:18px}.timeline-time-display{font-size:16px}.timeline-control-btn{width:36px;height:36px}.timeline-zoom-btn{width:26px;height:26px}}\n/*$vite$:1*/",document.head.appendChild(e);const y={streams:[],timelineSegments:[],selectedStream:null,selectedDate:null,isPlaying:!1,currentSegmentIndex:-1,zoomLevel:1,timelineStartHour:0,timelineEndHour:24,currentTime:null,prevCurrentTime:null,playbackSpeed:1,showOnlySegments:!0,forceReload:!1,userControllingCursor:!1,preserveCursorPosition:!1,cursorPositionLocked:!1,timelineHourToTimestamp:function(e,t){const n=t?new Date(t):new Date;n.setHours(0,0,0,0);const i=n.getTime()+60*e*60*1e3;return Math.floor(i/1e3)},timestampToTimelineHour:function(e){const t=new Date(1e3*e);return t.getHours()+t.getMinutes()/60+t.getSeconds()/3600},listeners:new Set,lastUpdateTime:0,pendingUpdates:{},setState(e){const t=Date.now();console.log("timelineState: setState called with",e),console.log("timelineState: current state before update",{currentTime:this.currentTime,currentSegmentIndex:this.currentSegmentIndex,segmentsLength:this.timelineSegments.length}),void 0!==e.currentTime&&!e.currentSegmentIndex&&!e.isPlaying&&t-this.lastUpdateTime<250?console.log("timelineState: Skipping frequent time update"):(Object.assign(this,e),e.forceReload&&(this.forceReload=!1),this.lastUpdateTime=t,console.log("timelineState: state after update",{currentTime:this.currentTime,currentSegmentIndex:this.currentSegmentIndex,segmentsLength:this.timelineSegments.length}),this.notifyListeners())},subscribe(e){return this.listeners.add(e),()=>this.listeners.delete(e)},notifyListeners(){this.listeners.forEach((e=>e(this)))},flushPendingUpdates(){Object.keys(this.pendingUpdates).length>0&&(Object.assign(this,this.pendingUpdates),this.pendingUpdates={},this.lastUpdateTime=Date.now(),this.notifyListeners())}};function x(){const e=function(){const e=new URLSearchParams(window.location.search);return{stream:e.get("stream")||"",date:e.get("date")||(t=new Date,`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`)};var t}(),[a,m]=n(!1),[c,g]=n([]),[u,b]=n(e.stream),[x,v]=n(e.date),[w,k]=n([]),C=s(null),$=s(!1),_=s(null);i((()=>(_.current=setInterval((()=>{y.flushPendingUpdates()}),200),()=>{_.current&&clearInterval(_.current)})),[]);const{data:L,isLoading:N,error:P}=l("streams","/api/streams",{timeout:15e3,retries:2,retryDelay:1e3});i((()=>{if(L&&Array.isArray(L)&&L.length>0&&!$.current)if(console.log("TimelinePage: Streams loaded, initializing data"),$.current=!0,g(L),y.setState({streams:L}),L.some((e=>e.name===u))&&u)console.log(`TimelinePage: Using stream from URL: ${u}`);else if(L.length>0){const e=L[0].name;console.log(`TimelinePage: Using first stream: ${e}`),b(e)}}),[L]),i((()=>{P&&(console.error("TimelinePage: Error loading streams:",P),d("Error loading streams: "+P.message,"error"))}),[P]),i((()=>{u&&(function(e,t){if(!e)return;const n=new URL(window.location.href);n.searchParams.set("stream",e),n.searchParams.set("date",t),window.history.replaceState({},"",n)}(u,x),y.setState({selectedStream:u,selectedDate:x}))}),[u,x]);const H=(e=>{const t=new Date(e);t.setHours(0,0,0,0);const n=new Date(e);n.setHours(23,59,59,999);const i=t.toISOString(),r=n.toISOString();return console.log("TimelinePage: Generated time range:",{date:e,startDate:t.toString(),endDate:n.toString(),startTime:i,endTime:r}),{startTime:i,endTime:r}})(x),E=H.startTime,D=H.endTime,I=u?`/api/timeline/segments?stream=${encodeURIComponent(u)}&start=${encodeURIComponent(E)}&end=${encodeURIComponent(D)}`:null;console.log("TimelinePage: Timeline URL:",I);const{data:M,isLoading:R,error:U,refetch:z}=l(["timeline-segments",u,x],I,{timeout:3e4,retries:2,retryDelay:1e3},{enabled:!!u,onSuccess:e=>{console.log("TimelinePage: Timeline data received:",e);const t=e.segments||[];if(console.log(`TimelinePage: Received ${t.length} segments`),0===t.length)return console.log("TimelinePage: No segments found"),k([]),y.setState({timelineSegments:[],currentSegmentIndex:-1,currentTime:null,isPlaying:!1}),void d("No recordings found for the selected date","warning");const n=JSON.parse(JSON.stringify(t));n.slice(0,3).forEach(((e,t)=>{const n=new Date(1e3*e.start_timestamp),i=new Date(1e3*e.end_timestamp);console.log(`TimelinePage: Segment ${t} - Start: ${n.toLocaleTimeString()}, End: ${i.toLocaleTimeString()}`)})),console.log("TimelinePage: Setting segments"),k(n),document.body.offsetHeight;const i=n[0].start_timestamp;console.log("TimelinePage: Setting initial segment and time",{firstSegmentId:n[0].id,startTime:new Date(1e3*i).toLocaleTimeString()}),console.log("TimelinePage: Directly setting timelineState properties"),y.timelineSegments=n,y.currentSegmentIndex=0,y.currentTime=i,y.prevCurrentTime=i,y.isPlaying=!1,y.forceReload=!0,y.zoomLevel=1,y.selectedDate=x,y.setState({}),console.log("TimelinePage: Updated timelineState with segments"),setTimeout((()=>{console.log("TimelinePage: State after update (delayed check):",{segmentsLength:y.timelineSegments.length,currentSegmentIndex:y.currentSegmentIndex,currentTime:y.currentTime}),y.currentTime&&-1!==y.currentSegmentIndex||(console.log("TimelinePage: State not properly updated, forcing update"),y.setState({currentSegmentIndex:0,currentTime:i,prevCurrentTime:i}))}),100);const r=document.querySelector("#video-player video");r&&(r.src=`/api/recordings/play/${n[0].id}?t=${Date.now()}`,r.load()),d(`Loaded ${n.length} recording segments`,"success")},onError:e=>{console.error("TimelinePage: Error loading timeline data:",e),console.error("TimelinePage: Error details:",{message:e.message,status:e.status,statusText:e.statusText,response:e.response}),d("Error loading timeline data: "+e.message,"error"),k([])}});return r("div",{className:"timeline-page",children:[r("div",{className:"flex items-center mb-4",children:[r("h1",{className:"text-2xl font-bold",children:"Timeline Playback"}),r("div",{className:"ml-4 flex",children:[r("a",{href:"recordings.html",className:"px-3 py-1 bg-gray-300 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-400 dark:hover:bg-gray-600 rounded-l-md",children:"Table View"}),r("a",{href:"timeline.html",className:"px-3 py-1 bg-blue-500 text-white rounded-r-md",children:"Timeline View"})]})]}),r("div",{className:"flex flex-wrap gap-4 mb-2",children:[r("div",{className:"stream-selector flex-grow",children:[r("div",{className:"flex justify-between items-center mb-2",children:[r("label",{htmlFor:"stream-selector",children:"Stream"}),r("button",{className:"text-xs bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 px-2 py-1 rounded",onClick:()=>z(),children:"Reload Data"})]}),r("select",{id:"stream-selector",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:u||"",onChange:e=>{const t=e.target.value;console.log(`TimelinePage: Stream changed to ${t}`),b(t)},children:[r("option",{value:"",disabled:!0,children:["Select a stream (",c.length," available)"]}),c.map((e=>r("option",{value:e.name,children:e.name},e.name)))]})]}),r("div",{className:"date-selector flex-grow",children:[r("label",{htmlFor:"timeline-date",className:"block mb-2",children:"Date"}),r("input",{type:"date",id:"timeline-date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:x,onChange:e=>{const t=e.target.value;console.log(`TimelinePage: Date changed to ${t}`),v(t)}})]})]}),r("div",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400 italic",children:R?"Loading...":"Recordings auto-load when stream or date changes"}),r("div",{className:"flex justify-between items-center mb-2",children:r("div",{id:"time-display",className:"timeline-time-display bg-gray-200 dark:bg-gray-700 px-3 py-1 rounded font-mono text-base",children:"00:00:00"})}),r("div",{className:"mb-2 text-xs text-gray-500",children:["Debug - isLoading: ",R?"true":"false",", Streams: ",c.length,", Segments: ",w.length]}),R?r(p,{message:"Loading timeline data..."}):0===w.length?r("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[r("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No recordings found for the selected date and stream"})]}):r(o,{children:[r(S,{}),r(t,{}),r("div",{id:"timeline-container",className:"relative w-full h-24 bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg mb-6 overflow-hidden",ref:C,children:[r(h,{}),r(f,{segments:w}),r(T,{}),r("div",{className:"absolute bottom-1 right-2 text-xs text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 px-2 py-1 rounded",children:"Drag the orange dial to navigate"})]})]}),r("div",{className:"mt-6 p-4 bg-gray-200 dark:bg-gray-800 rounded",children:[r("h3",{className:"text-lg font-semibold mb-2",children:"How to use the timeline:"}),r("ul",{className:"list-disc pl-5",children:[r("li",{children:"Select a stream and date to load recordings"}),r("li",{children:"Click on the timeline to position the cursor at a specific time"}),r("li",{children:"Drag the orange cursor to navigate precisely"}),r("li",{children:"Click on a segment (blue bar) to play that recording"}),r("li",{children:"Use the play button to start playback from the current cursor position"}),r("li",{children:"Use the zoom buttons to adjust the timeline scale"})]})]})]})}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("main-content");e&&a(r(c,{client:m,children:[r(g,{}),r(x,{}),r(u,{})]}),e)}))}}}));
//# sourceMappingURL=timeline-legacy-BC3ErYnz.js.map
