var A=Object.freeze,K=Object.defineProperty;var W=(s,g)=>A(K(s,"raw",{value:A(g||s.slice())}));import{d as D,y as j,u as n,k as Z,s as q,A as V,b as J,E as ee,c as te,e as ne,Q as ie}from"./query-client-DIfHb7sS.js";/* empty css               */import{L as oe}from"./LoadingIndicator-DbxhRnFU.js";import{H as re,F as se}from"./Footer-BVvFAUIP.js";function ye(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function le(){const[s,g]=D(!1),[v,T]=D(1);j(()=>{const l=e.subscribe(y=>{g(y.isPlaying),T(y.zoomLevel)});return()=>l()},[]);const p=()=>{console.log("TimelineControls: togglePlayback called"),console.log("TimelineControls: Current state before toggle:",{isPlaying:s,currentTime:e.currentTime,currentSegmentIndex:e.currentSegmentIndex,segmentsCount:e.timelineSegments?e.timelineSegments.length:0}),s?f():M()},f=()=>{e.setState({isPlaying:!1});const l=document.querySelector("#video-player video");l&&l.pause()},M=()=>{if(!e.timelineSegments||e.timelineSegments.length===0){q("No recordings to play","warning");return}console.log("TimelineControls: resumePlayback called"),console.log("TimelineControls: Current state:",{segments:e.timelineSegments.length,currentSegmentIndex:e.currentSegmentIndex,currentTime:e.currentTime,selectedDate:e.selectedDate});let l=null,y=-1,C=0;if(e.currentTime!==null){console.log("TimelineControls: Using current time to find segment:",e.currentTime);for(let w=0;w<e.timelineSegments.length;w++){const $=e.timelineSegments[w];if(e.currentTime>=$.start_timestamp&&e.currentTime<=$.end_timestamp){l=$,y=w,C=e.currentTime-$.start_timestamp,console.log("TimelineControls: Found segment ".concat(w," containing current time, relative time: ").concat(C,"s"));break}}if(!l){let w=0,$=1/0;for(let t=0;t<e.timelineSegments.length;t++){const r=e.timelineSegments[t],i=(r.start_timestamp+r.end_timestamp)/2,o=Math.abs(e.currentTime-i);o<$&&($=o,w=t)}l=e.timelineSegments[w],y=w,e.currentTime<l.start_timestamp?C=0:e.currentTime>l.end_timestamp?C=l.end_timestamp-l.start_timestamp:C=e.currentTime-l.start_timestamp,console.log("TimelineControls: Using closest segment ".concat(w,", relative time: ").concat(C,"s"))}}else e.currentSegmentIndex>=0&&e.currentSegmentIndex<e.timelineSegments.length?(y=e.currentSegmentIndex,l=e.timelineSegments[y],C=0,console.log("TimelineControls: Using current segment index ".concat(y))):(y=0,l=e.timelineSegments[0],C=0,console.log("TimelineControls: Falling back to first segment"));console.log("TimelineControls: Playing segment ".concat(y," (ID: ").concat(l.id,") at time ").concat(C,"s")),e.currentSegmentIndex=y,e.preserveCursorPosition?console.log("TimelineControls: Cursor position is locked, keeping current time ".concat(e.currentTime)):e.currentTime!==null&&e.currentTime>=l.start_timestamp&&e.currentTime<=l.end_timestamp?console.log("TimelineControls: Keeping current time ".concat(e.currentTime," within segment")):(e.currentTime=l.start_timestamp+C,console.log("TimelineControls: Setting current time to ".concat(e.currentTime," (segment start + ").concat(C,"s)"))),e.isPlaying=!0,e.directVideoControl=!0,e.setState({}),setTimeout(()=>{console.log("TimelineControls: Resetting directVideoControl flag"),e.directVideoControl=!1,e.setState({})},3e3);const h=document.querySelector("#video-player video");if(h){h.pause();const w=()=>{console.log("TimelineControls: Video metadata loaded, setting time to ".concat(C,"s"));try{console.log("TimelineControls: Video metadata",{duration:h.duration,width:h.videoWidth,height:h.videoHeight,segment:l.id,segmentDuration:l.end_timestamp-l.start_timestamp});let $=C;if(e.preserveCursorPosition&&e.currentTime!==null)if(e.currentTime>=l.start_timestamp&&e.currentTime<=l.end_timestamp)$=e.currentTime-l.start_timestamp,console.log("TimelineControls: Using locked cursor position for playback: ".concat($,"s"));else{const r=Math.abs(e.currentTime-l.start_timestamp),i=Math.abs(e.currentTime-l.end_timestamp);r<=i?($=0,console.log("TimelineControls: Cursor outside segment, using start of segment")):($=l.end_timestamp-l.start_timestamp,console.log("TimelineControls: Cursor outside segment, using end of segment"))}else e.currentTime!==null&&e.currentTime>=l.start_timestamp&&e.currentTime<=l.end_timestamp&&($=e.currentTime-l.start_timestamp,console.log("TimelineControls: Using cursor position for playback: ".concat($,"s")));let t=Math.max(0,Math.min($,h.duration||0));t>0&&t<1&&(t=1,console.log("TimelineControls: Adjusting video time to ".concat(t,"s to prevent snapping to segment start"))),console.log("TimelineControls: Setting video time to ".concat(t,"s")),h.currentTime=t,setTimeout(()=>{e.isPlaying&&(console.log("TimelineControls: Starting video playback"),h.play().then(()=>{console.log("TimelineControls: Video playback started successfully");const r=(o=1)=>{o>5||setTimeout(()=>{h.paused&&e.isPlaying&&(console.log("TimelineControls: Video paused unexpectedly (attempt ".concat(o,"), trying to resume")),h.play().catch(m=>{console.error("Error resuming video (attempt ".concat(o,"):"),m)}),r(o+1))},500*o)};r();const i=l.end_timestamp-l.start_timestamp;if(console.log("TimelineControls: Segment duration: ".concat(i,"s, video duration: ").concat(h.duration,"s")),h.duration<i-1){console.log("TimelineControls: Video duration is shorter than segment duration, will monitor playback");const o=setInterval(()=>{if(!e.isPlaying||!h){clearInterval(o);return}h.currentTime>h.duration-.5&&C+h.currentTime<i&&(console.log("TimelineControls: Reached end of video but not end of segment, restarting video"),h.currentTime=0,h.play().catch(m=>{console.error("Error restarting video:",m)}))},500)}}).catch(r=>{console.error("Error playing video:",r),q("Error playing video: "+r.message,"error")}))},100)}catch($){console.error("TimelineControls: Error in handleMetadataLoaded:",$)}finally{h.removeEventListener("loadedmetadata",w)}};h.addEventListener("loadedmetadata",w),console.log("TimelineControls: Loading video from segment ".concat(l.id)),h.src="/api/recordings/play/".concat(l.id,"?t=").concat(Date.now()),h.load()}else console.error("TimelineControls: No video element found"),q("Error: Video player not found","error")},k=()=>{if(v<8){const l=v*2;e.setState({zoomLevel:l}),q("Zoomed in: ".concat(24/l," hours view"),"info")}};return n("div",{className:"timeline-controls flex justify-between items-center mb-2",children:[n("div",{className:"flex items-center",children:[n("button",{id:"play-button",className:"w-10 h-10 rounded-full bg-green-600 hover:bg-green-700 text-white flex items-center justify-center focus:outline-none focus:ring-1 focus:ring-green-500 focus:ring-offset-1 transition-colors shadow-sm mr-2",onClick:p,title:s?"Pause":"Play from current position",children:n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s?n(Z,{children:[n("rect",{x:"6",y:"6",width:"4",height:"12",rx:"1",fill:"white"}),n("rect",{x:"14",y:"6",width:"4",height:"12",rx:"1",fill:"white"})]}):n(Z,{children:n("path",{d:"M8 5.14v14l11-7-11-7z",fill:"white"})})})}),n("span",{className:"text-xs text-gray-600 dark:text-gray-300",children:"Play from current position"})]}),n("div",{className:"flex items-center gap-1",children:[n("span",{className:"text-xs text-gray-600 dark:text-gray-300 mr-1",children:"Zoom:"}),n("button",{id:"zoom-out-button",className:"w-6 h-6 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center justify-center focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors",onClick:()=>{if(v>1){const l=v/2;e.setState({zoomLevel:l}),q("Zoomed out: ".concat(24/l," hours view"),"info")}},title:"Zoom Out (Show more time)",disabled:v<=1,children:n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})}),n("button",{id:"zoom-in-button",className:"w-6 h-6 rounded bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 flex items-center justify-center focus:outline-none focus:ring-1 focus:ring-blue-500 transition-colors",onClick:k,title:"Zoom In (Show less time)",disabled:v>=8,children:n("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})]})}function ae(){const[s,g]=D(0),[v,T]=D(24),[p,f]=D(1);return j(()=>{const k=e.subscribe(u=>{console.log("TimelineRuler: State update received",{zoomLevel:u.zoomLevel,segmentsCount:u.timelineSegments?u.timelineSegments.length:0,currentTime:u.currentTime});const l=24/u.zoomLevel;let y=12;if(u.currentTime!==null){const h=new Date(u.currentTime*1e3);y=h.getHours()+h.getMinutes()/60+h.getSeconds()/3600}else if(u.timelineSegments&&u.timelineSegments.length>0){let h=24,w=0;u.timelineSegments.forEach($=>{const t=new Date($.start_timestamp*1e3),r=new Date($.end_timestamp*1e3),i=t.getHours()+t.getMinutes()/60+t.getSeconds()/3600,o=r.getHours()+r.getMinutes()/60+r.getSeconds()/3600;h=Math.min(h,i),w=Math.max(w,o)}),y=(h+w)/2,console.log("TimelineRuler: Calculated center from segments",{earliestHour:h,latestHour:w,centerHour:y})}let C=Math.max(0,y-l/2),L=Math.min(24,C+l);L===24&&l<24?(C=Math.max(0,24-l),L=24):C===0&&l<24&&(L=Math.min(24,l)),g(C),T(L),f(u.zoomLevel),console.log("TimelineRuler: Calculated time range",{newStartHour:C,newEndHour:L,hoursPerView:l,centerHour:y}),(e.timelineStartHour!==C||e.timelineEndHour!==L)&&(console.log("TimelineRuler: Updating global state with new time range"),e.setState({timelineStartHour:C,timelineEndHour:L}))});return()=>k()},[]),n("div",{className:"timeline-ruler relative w-full h-8 bg-gray-300 dark:bg-gray-800 border-b border-gray-400 dark:border-gray-600",children:[(()=>{const k=[];for(let u=Math.floor(s);u<=Math.ceil(v);u++)if(u>=0&&u<=24){const l=(u-s)/(v-s)*100;if(k.push(n("div",{className:"absolute top-0 w-px h-5 bg-gray-500 dark:bg-gray-400",style:{left:"".concat(l,"%")}},"tick-".concat(u))),k.push(n("div",{className:"absolute top-0 text-xs text-gray-600 dark:text-gray-300 transform -translate-x-1/2",style:{left:"".concat(l,"%")},children:[u,":00"]},"label-".concat(u))),u<24&&p>=2){const y=(u+.5-s)/(v-s)*100;if(k.push(n("div",{className:"absolute top-2 w-px h-3 bg-gray-400 dark:bg-gray-500",style:{left:"".concat(y,"%")}},"tick-".concat(u,"-30"))),p>=4){const C=(u+.25-s)/(v-s)*100,L=(u+.75-s)/(v-s)*100;k.push(n("div",{className:"absolute top-3 w-px h-2 bg-gray-400 dark:bg-gray-500",style:{left:"".concat(C,"%")}},"tick-".concat(u,"-15"))),k.push(n("div",{className:"absolute top-3 w-px h-2 bg-gray-400 dark:bg-gray-500",style:{left:"".concat(L,"%")}},"tick-".concat(u,"-45")))}}}return k})(),n("div",{className:"absolute bottom-0 left-0 text-xs text-gray-500 px-1",children:["Zoom: ",p,"x (",Math.round(24/p)," hours)"]})]})}var Y;function me({segments:s}){const[g,v]=D(s||[]),[T,p]=D(0),[f,M]=D(24),[k,u]=D(-1);j(()=>{console.log("TimelineSegments: Received segments from props: ".concat(s?s.length:0)),s&&s.length>0&&v(s)},[s]);const l=V(null),y=V(!1),C=V(0),L=V([]);j(()=>{const t=e.subscribe(r=>{console.log("TimelineSegments: State update received, segments: ".concat(r.timelineSegments?r.timelineSegments.length:0)),r.timelineSegments&&(!L.current||r.timelineSegments.length!==L.current.length||JSON.stringify(r.timelineSegments)!==JSON.stringify(L.current)||r.forceReload)&&(console.log("TimelineSegments: Updating segments (".concat(r.timelineSegments.length,")")),v(r.timelineSegments),L.current=[...r.timelineSegments],C.current=Date.now());const i=r.timelineStartHour!==void 0?r.timelineStartHour:0,o=r.timelineEndHour!==void 0?r.timelineEndHour:24;console.log("TimelineSegments: Time range update - startHour: ".concat(i,", endHour: ").concat(o)),p(i),M(o),u(r.currentSegmentIndex||-1)});return e.timelineSegments&&e.timelineSegments.length>0&&(console.log("TimelineSegments: Initial load of segments (".concat(e.timelineSegments.length,")")),v(e.timelineSegments),L.current=[...e.timelineSegments],u(e.currentSegmentIndex||0),e.timelineStartHour!==void 0&&p(e.timelineStartHour),e.timelineEndHour!==void 0&&M(e.timelineEndHour),C.current=Date.now()),()=>t()},[]),j(()=>{const t=l.current;if(!t)return;const r=m=>{(m.target===t||m.target.classList.contains("timeline-clickable-area"))&&(y.current=!0,h(m),document.addEventListener("mousemove",i),document.addEventListener("mouseup",o))},i=m=>{y.current&&h(m)},o=()=>{y.current=!1,document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)};return t.addEventListener("mousedown",r),()=>{t.removeEventListener("mousedown",r),document.removeEventListener("mousemove",i),document.removeEventListener("mouseup",o)}},[T,f,g]);const h=t=>{const r=l.current;if(!r)return;const i=r.getBoundingClientRect(),o=t.clientX-i.left,m=i.width,a=o/m,S=T+a*(f-T),c=new Date(e.selectedDate);c.setHours(Math.floor(S)),c.setMinutes(Math.floor(S%1*60)),c.setSeconds(Math.floor(S%1*60%1*60));const x=c.getTime()/1e3;e.setState({currentTime:x,prevCurrentTime:e.currentTime,isPlaying:!1});let P=!1;for(let H=0;H<g.length;H++){const I=g[H],U=I.local_start_timestamp||I.start_timestamp,b=I.local_end_timestamp||I.end_timestamp;if(x>=U&&x<=b){if(console.log("TimelineSegments: Found segment ".concat(H," containing timestamp")),e.setState({currentSegmentIndex:H}),t.target.classList.contains("timeline-segment")){const d=x-U;w(H,d)}P=!0;break}}P||e.setState({currentSegmentIndex:-1})},w=(t,r=null)=>{if(console.log("TimelineSegments: playSegment(".concat(t,", ").concat(r,")")),t<0||t>=g.length){console.warn("TimelineSegments: Invalid segment index: ".concat(t));return}const i=g[t],o=i.local_start_timestamp||i.start_timestamp,m=r!==null?o+r:o;e.setState({isPlaying:!1,currentSegmentIndex:-1}),document.body.offsetHeight,setTimeout(()=>{e.setState({currentSegmentIndex:t,currentTime:m,isPlaying:!0,forceReload:!0}),setTimeout(()=>{const a=document.querySelector("#video-player video");a&&(a.pause(),a.removeAttribute("src"),a.load(),a.src="/api/recordings/play/".concat(i.id,"?t=").concat(Date.now()),a.onloadedmetadata=()=>{const S=r!==null?r:0;a.currentTime=S,a.play().catch(c=>console.error("Error playing video:",c))})},50)},50)};return n("div",{className:"timeline-segments relative w-full h-16 pt-2",ref:l,children:(()=>{if(console.log("TimelineSegments: renderSegments called"),console.log("TimelineSegments: segments:",g),console.log("TimelineSegments: startHour:",T,"endHour:",f),!g||g.length===0)return console.log("TimelineSegments: No segments to render"),html(Y||(Y=W(['<div class="text-center text-red-500 font-bold">No segments to display</div>'])));console.log("TimelineSegments: Rendering segments:",g.length);const t=[],r=new Map;console.log("TimelineSegments: Starting to process segments");let i=0,o=0;g.forEach((c,x)=>{const P=c.start_timestamp,H=c.end_timestamp,I=new Date(P*1e3),U=new Date(H*1e3),b=I.getHours()+I.getMinutes()/60+I.getSeconds()/3600,d=U.getHours()+U.getMinutes()/60+U.getSeconds()/3600;if(d<T||b>f){o++,x<5&&console.log("TimelineSegments: Skipping segment ".concat(x,", startHour=").concat(b,", endHour=").concat(d,", visible range=").concat(T,"-").concat(f));return}i++;const _=Math.floor(b),R=Math.min(Math.ceil(d),24);for(let E=_;E<R;E++)E>=T&&E<=f&&(r.has(E)||r.set(E,[]),r.get(E).push(x))});const m=[];let a=null;[...g].sort((c,x)=>c.start_timestamp-x.start_timestamp).forEach((c,x)=>{if(!a)a={...c,originalIndices:[x]};else{const P=c.start_timestamp,H=a.end_timestamp;P-H<=1?(a.end_timestamp=c.end_timestamp,a.originalIndices.push(x),c.has_detection&&(a.has_detection=!0)):(m.push(a),a={...c,originalIndices:[x]})}}),a&&m.push(a),m.forEach((c,x)=>{const P=c.start_timestamp,H=c.end_timestamp,I=e.timestampToTimelineHour(P),U=e.timestampToTimelineHour(H);if(console.log("TimelineSegments: Segment timestamps",{segmentId:c.id,startTimestamp:P,endTimestamp:H,startTimeLocal:new Date(P*1e3).toLocaleString(),endTimeLocal:new Date(H*1e3).toLocaleString(),startHourFloat:I,endHourFloat:U}),U<T||I>f)return;const b=Math.max(I,T),d=Math.min(U,f),_=(b-T)/(f-T)*100,R=(d-b)/(f-T)*100,E=Math.round(H-P),F="".concat(E,"s"),N=new Date(P*1e3).toLocaleTimeString(),z=new Date(H*1e3).toLocaleTimeString();t.push(n("div",{className:"timeline-segment absolute rounded-sm transition-all duration-200 ".concat(c.has_detection?"bg-red-500":"bg-blue-500"),style:{left:"".concat(_,"%"),width:"".concat(R,"%"),height:"".concat(80,"%"),top:"50%",transform:"translateY(-50%)"},title:"".concat(N," - ").concat(z," (").concat(F,")")},"segment-".concat(x)))});for(let c=Math.floor(T);c<Math.ceil(f);c++)if(!r.has(c)){const x=(c-T)/(f-T)*100,P=100/(f-T);t.push(n("div",{className:"timeline-clickable-area absolute h-full cursor-pointer",style:{left:"".concat(x,"%"),width:"".concat(P,"%")},"data-hour":c},"clickable-".concat(c)))}return console.log("TimelineSegments: Rendering complete. Total: ".concat(g.length,", Visible: ").concat(i,", Skipped: ").concat(o,", Final rendered: ").concat(t.length)),t})()})}function ce(){const[s,g]=D(0),[v,T]=D(!1),[p,f]=D(0),[M,k]=D(24),[u,l]=D(null),[y,C]=D(!1),L=V(null);V(null);const h=V(0),$=V(((i,o)=>{let m;return function(...a){m&&clearTimeout(m),m=setTimeout(()=>{i.apply(this,a)},o)}})((i,o,m)=>{t(i,o,m)},100)).current;j(()=>{const i=e.subscribe(o=>{console.log("TimelineCursor: State update received",{currentTime:o.currentTime,startHour:o.timelineStartHour,endHour:o.timelineEndHour,segmentsCount:o.timelineSegments?o.timelineSegments.length:0,isDragging:y,userControllingCursor:o.userControllingCursor}),f(o.timelineStartHour||0),k(o.timelineEndHour||24),!y&&!o.userControllingCursor&&(l(o.currentTime),r(o.currentTime),$(o.currentTime,o.timelineStartHour||0,o.timelineEndHour||24))});return()=>i()},[y,$]),j(()=>{const i=L.current;if(!i)return;const o=S=>{S.preventDefault(),S.stopPropagation(),console.log("TimelineCursor: Mouse down event"),h.current=S.clientX,C(!0),e.userControllingCursor=!0,e.preserveCursorPosition=!0,e.cursorPositionLocked=!0,e.setState({}),document.addEventListener("mousemove",m),document.addEventListener("mouseup",a)},m=S=>{if(!y)return;const c=i.parentElement;if(!c)return;const x=c.getBoundingClientRect(),P=Math.max(0,Math.min(S.clientX-x.left,x.width)),H=x.width,I=P/H*100;g(I);const U=M-p,b=p+I/100*U,d=e.timelineHourToTimestamp(b,e.selectedDate);l(d),r(d)},a=S=>{if(!y)return;const c=i.parentElement;if(!c)return;const x=c.getBoundingClientRect(),P=Math.max(0,Math.min(S.clientX-x.left,x.width)),H=x.width,I=P/H*100;console.log("TimelineCursor: Mouse up at position",{positionPercent:I,clickX:P,containerWidth:H});const U=M-p,b=p+I/100*U;console.log("TimelineCursor: Calculated hour",{hour:b,startHour:p,endHour:M,hourRange:U});const d=e.timelineHourToTimestamp(b,e.selectedDate);if(console.log("TimelineCursor: Converted hour to timestamp",{hour:b,localDate:new Date(d*1e3).toLocaleString(),timestamp:d}),console.log("TimelineCursor: Converted to timestamp",{timestamp:d,dateTime:new Date(d*1e3).toLocaleString(),selectedDate:e.selectedDate}),console.log("TimelineCursor: Mouse up event"),C(!1),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",a),setTimeout(()=>{console.log("TimelineCursor: Releasing cursor control but preserving position"),e.userControllingCursor=!1,e.setState({})},100),e.currentTime=d,e.timelineSegments&&e.timelineSegments.length>0){const N=e.timelineSegments.find(z=>d>=z.start_timestamp&&d<=z.end_timestamp);if(N&&d-N.start_timestamp<1){const O=N.start_timestamp+1;console.log("TimelineCursor: Adjusting cursor position from ".concat(d," to ").concat(O," to prevent snapping to segment start")),e.currentTime=O}}e.prevCurrentTime=e.currentTime,e.isPlaying=!1,e.setState({});const _=e.timelineSegments||[];console.log("TimelineCursor: Searching for segment containing timestamp",{timestamp:d,segmentsCount:_.length});let R=!1,E=-1,F=1/0;for(let N=0;N<_.length;N++){const z=_[N],O=z.local_start_timestamp||z.start_timestamp,B=z.local_end_timestamp||z.end_timestamp;if(N<3&&console.log("TimelineCursor: Segment ".concat(N),{startTimestamp:O,endTimestamp:B,startTime:new Date(O*1e3).toLocaleTimeString(),endTime:new Date(B*1e3).toLocaleTimeString()}),d>=O&&d<=B){console.log("TimelineCursor: Found exact match at segment ".concat(N)),e.currentSegmentIndex=N,e.setState({}),R=!0;break}const G=(O+B)/2,X=Math.abs(d-G);X<F&&(F=X,E=N)}R||(E>=0?(console.log("TimelineCursor: No exact match, using closest segment ".concat(E)),e.currentSegmentIndex=E,e.setState({})):(console.log("TimelineCursor: No segments found at all"),e.currentSegmentIndex=-1,e.setState({})))};return i.addEventListener("mousedown",o),()=>{i.removeEventListener("mousedown",o),document.removeEventListener("mousemove",m),document.removeEventListener("mouseup",a)}},[L.current,p,M,y]);const t=(i,o,m)=>{if(console.log("TimelineCursor: updateCursorPosition called",{time:i,startHr:o,endHr:m}),i===null){console.log("TimelineCursor: No current time, hiding cursor"),T(!1);return}const a=new Date(i*1e3),S=a.getHours()+a.getMinutes()/60+a.getSeconds()/3600;if(console.log("TimelineCursor: Calculated hour",{hour:S,timeString:a.toLocaleTimeString()}),S<o||S>m){console.log("TimelineCursor: Time outside visible range, hiding cursor"),T(!1);return}const c=(S-o)/(m-o)*100;console.log("TimelineCursor: Calculated position",{position:c,hour:S,startHr:o,endHr:m}),g(c),T(!0)},r=i=>{if(i===null)return;const o=document.getElementById("time-display");if(!o)return;const m=new Date(i*1e3),a=m.getHours().toString().padStart(2,"0"),S=m.getMinutes().toString().padStart(2,"0"),c=m.getSeconds().toString().padStart(2,"0");o.textContent="".concat(a,":").concat(S,":").concat(c)};return j(()=>{console.log("TimelineCursor: Initializing cursor position"),console.log("TimelineCursor: Initial state",{currentTime:e.currentTime,startHour:e.timelineStartHour,endHour:e.timelineEndHour,segments:e.timelineSegments?e.timelineSegments.length:0});const i=()=>{if(console.log("TimelineCursor: Checking timelineState directly",{currentTime:e.currentTime,segmentsLength:e.timelineSegments?e.timelineSegments.length:0,currentSegmentIndex:e.currentSegmentIndex}),e.currentTime)return console.log("TimelineCursor: Setting initial cursor position with current time"),T(!0),t(e.currentTime,e.timelineStartHour||0,e.timelineEndHour||24),!0;if(e.timelineSegments&&e.timelineSegments.length>0){console.log("TimelineCursor: Using first segment start time for cursor");const a=e.timelineSegments[0].start_timestamp;return console.log("TimelineCursor: Directly setting timelineState properties"),e.currentTime=a,e.currentSegmentIndex=0,e.setState({}),T(!0),t(a,e.timelineStartHour||0,e.timelineEndHour||24),!0}return!1};i()||(console.log("TimelineCursor: Initial initialization failed, will retry after delay"),[100,300,500,1e3].forEach((a,S)=>{setTimeout(()=>{v||(console.log("TimelineCursor: Retry initialization attempt ".concat(S+1)),i())},a)}))},[]),n("div",{ref:L,className:"timeline-cursor absolute top-0 h-full z-50 transition-all duration-100 cursor-ew-resize",style:{left:"".concat(s,"%"),display:v?"block":"none",pointerEvents:"auto",width:"7px",marginLeft:"-3.5px"},children:[n("div",{className:"absolute top-0 bottom-0 left-0 w-full"}),n("div",{className:"absolute top-0 bottom-0 w-0.5 bg-orange-500 left-0 right-0 mx-auto pointer-events-none"}),n("div",{className:"absolute top-0 left-0 right-0 mx-auto w-4 h-4 bg-black rounded-full transform -translate-y-1/2 shadow-md pointer-events-none"}),n("div",{className:"absolute bottom-0 left-0 right-0 mx-auto w-4 h-4 bg-black rounded-full transform translate-y-1/2 shadow-md pointer-events-none"})]})}function de(){const[s,g]=D(1),v=[.25,.5,1,1.5,2,4];j(()=>{const p=e.subscribe(f=>{g(f.playbackSpeed)});return()=>p()},[]);const T=p=>{const f=document.querySelector("#video-player video");f&&(f.playbackRate=p),e.setState({playbackSpeed:p}),q("Playback speed: ".concat(p,"x"),"info")};return n("div",{className:"mt-2 mb-4 p-2 border border-green-500 rounded-lg bg-white dark:bg-gray-800 shadow-sm",children:n("div",{className:"flex flex-col items-center",children:[n("div",{className:"text-sm font-semibold mb-2 text-gray-700 dark:text-gray-300",children:"Playback Speed"}),n("div",{className:"flex flex-wrap justify-center gap-1",children:v.map(p=>n("button",{className:"speed-btn px-2 py-1 text-sm rounded-full ".concat(p===s?"bg-green-500 text-white":"bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600","\n                font-medium transition-all focus:outline-none focus:ring-1 focus:ring-green-500 focus:ring-opacity-50"),"data-speed":p,onClick:()=>T(p),children:p===1?"1× (Normal)":"".concat(p,"×")},"speed-".concat(p)))}),n("div",{className:"mt-1 text-xs font-medium text-green-600 dark:text-green-400",children:["Current: ",s,"× ",s===1?"(Normal)":""]})]})})}function ue(){const[s,g]=D(-1),[v,T]=D(!1),[p,f]=D([]),[M,k]=D(1),u=V(null),l=V(null),y=V(null);j(()=>{const t=e.subscribe(r=>{g(r.currentSegmentIndex),T(r.isPlaying),f(r.timelineSegments||[]),k(r.playbackSpeed),C(r)});return()=>t()},[]);const C=t=>{const r=u.current;if(!r||!t.timelineSegments||t.timelineSegments.length===0||t.currentSegmentIndex<0||t.currentSegmentIndex>=t.timelineSegments.length)return;const i=t.timelineSegments[t.currentSegmentIndex];if(!i)return;const o=y.current!==i.id,m=o;let a=0;t.currentTime!==null&&(t.currentTime>=i.start_timestamp&&t.currentTime<=i.end_timestamp?(a=t.currentTime-i.start_timestamp,console.log("Current time ".concat(t.currentTime," is within segment ").concat(i.id,", relative time: ").concat(a,"s"))):t.currentTime<i.start_timestamp?(a=0,console.log("Current time ".concat(t.currentTime," is before segment ").concat(i.id,", starting at beginning"))):(a=i.end_timestamp-i.start_timestamp,console.log("Current time ".concat(t.currentTime," is after segment ").concat(i.id,", starting at end"))));const S=t.prevCurrentTime!==null&&Math.abs(t.currentTime-t.prevCurrentTime)>1;o&&(console.log("Segment changed from ".concat(y.current," to ").concat(i.id)),y.current=i.id),m?(console.log("Loading new segment ".concat(i.id," (segmentChanged: ").concat(o,")")),L(i,a,t.isPlaying)):S?(console.log("Seeking to ".concat(a,"s within current segment")),r.currentTime=a):t.isPlaying&&r.paused?r.play().catch(c=>{console.error("Error playing video:",c)}):!t.isPlaying&&!r.paused&&r.pause(),r.playbackRate!==t.playbackSpeed&&(r.playbackRate=t.playbackSpeed)},L=(t,r=0,i=!1)=>{const o=u.current;if(!o)return;console.log("Loading segment ".concat(t.id," at time ").concat(r,"s, autoplay: ").concat(i)),o.pause();const m="/api/recordings/play/".concat(t.id,"?t=").concat(Date.now()),a=()=>{console.log("Video metadata loaded");let S=r;if(e.preserveCursorPosition&&e.currentTime!==null)if(e.currentTime>=t.start_timestamp&&e.currentTime<=t.end_timestamp)S=e.currentTime-t.start_timestamp,console.log("TimelinePlayer: Using locked cursor position for playback: ".concat(S,"s"));else{const P=Math.abs(e.currentTime-t.start_timestamp),H=Math.abs(e.currentTime-t.end_timestamp);P<=H?(S=0,console.log("TimelinePlayer: Cursor outside segment, using start of segment")):(S=t.end_timestamp-t.start_timestamp,console.log("TimelinePlayer: Cursor outside segment, using end of segment"))}else e.currentTime!==null&&e.currentTime>=t.start_timestamp&&e.currentTime<=t.end_timestamp&&(S=e.currentTime-t.start_timestamp,console.log("TimelinePlayer: Using cursor position for playback: ".concat(S,"s")));const c=t.end_timestamp-t.start_timestamp;let x=Math.min(Math.max(0,S),c);x>0&&x<1&&(x=1,console.log("TimelinePlayer: Adjusting seek time to ".concat(x,"s to prevent snapping to segment start"))),console.log("TimelinePlayer: Setting video time to ".concat(x,"s (requested: ").concat(S,"s, segment duration: ").concat(c,"s)")),o.currentTime=x,o.playbackRate=M,i&&o.play().catch(P=>{console.error("Error playing video:",P),q("Error playing video: "+P.message,"error")}),o.removeEventListener("loadedmetadata",a)};o.addEventListener("loadedmetadata",a),o.src=m,o.load()},h=()=>{if(console.log("Video ended"),s<p.length-1){const t=s+1;console.log("Playing next segment ".concat(t));const r=e.userControllingCursor;e.directVideoControl=!0;const i=p[t],o="/api/recordings/play/".concat(i.id,"?t=").concat(Date.now()),m=document.createElement("video");m.preload="auto",m.src=o,m.load(),console.log("Preloading next segment ".concat(t," (ID: ").concat(i.id,")")),e.setState({currentSegmentIndex:t,currentTime:r?e.currentTime:p[t].start_timestamp,isPlaying:!0,forceReload:!0});const a=u.current;if(a){a.pause(),a.src=o,a.load();const S=()=>{console.log("Next segment metadata loaded, starting playback immediately"),a.currentTime=0,a.play().catch(c=>console.error("Error playing next segment:",c)),a.removeEventListener("loadedmetadata",S)};a.addEventListener("loadedmetadata",S)}setTimeout(()=>{e.directVideoControl=!1,e.setState({})},1e3)}else console.log("End of all segments"),e.setState({isPlaying:!1})},w=()=>{const t=u.current;if(!t||s<0||!p||p.length===0||s>=p.length)return;const r=p[s];if(!r)return;const i=r.start_timestamp+t.currentTime;if(console.log("TimelinePlayer: Current time",{videoTime:t.currentTime,segmentStart:r.start_timestamp,calculatedTime:i,localTime:new Date(i*1e3).toLocaleString()}),$(i),e.userControllingCursor){console.log("TimelinePlayer: User is controlling cursor, not updating timeline state");return}if(e.cursorPositionLocked){console.log("TimelinePlayer: Cursor position is locked, not updating timeline state");return}if(e.directVideoControl){console.log("TimelinePlayer: Direct video control active, not updating timeline state");return}e.setState({currentTime:i,prevCurrentTime:l.current}),l.current=i},$=t=>{if(t===null)return;const r=document.getElementById("time-display");if(!r)return;const i=e.timestampToTimelineHour(t),o=Math.floor(i).toString().padStart(2,"0"),m=Math.floor(i%1*60).toString().padStart(2,"0"),a=Math.floor(i%1*60%1*60).toString().padStart(2,"0");r.textContent="".concat(o,":").concat(m,":").concat(a),console.log("TimelinePlayer: Updated time display",{timestamp:t,hour:i,formatted:"".concat(o,":").concat(m,":").concat(a),localTime:new Date(t*1e3).toLocaleString()})};return n(Z,{children:[n("div",{className:"timeline-player-container mb-2",id:"video-player",children:n("div",{className:"relative w-full bg-black rounded-lg shadow-md",style:{aspectRatio:"16/9"},children:[n("video",{ref:u,className:"w-full h-full object-contain",controls:!0,autoPlay:!1,muted:!1,playsInline:!0,onEnded:h,onTimeUpdate:w}),n("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-70 text-white text-center p-4 ".concat(s>=0&&p.length>0?"hidden":""),children:n("div",{children:[n("p",{className:"mb-2",children:"No valid segment selected."}),n("p",{className:"text-sm",children:"Click on a segment in the timeline or use the play button to start playback."})]})})]})}),n(de,{})]})}function ge(s,g){let v;if(console.log("timelineHourToTimestamp: Converting hour ".concat(s," for date ").concat(g)),g&&typeof g=="string"&&g.includes("-")){const[M,k,u]=g.split("-").map(l=>parseInt(l,10));v=new Date(M,k-1,u,0,0,0,0),console.log("timelineHourToTimestamp: Parsed date - Year: ".concat(M,", Month: ").concat(k,", Day: ").concat(u)),console.log("timelineHourToTimestamp: Created date object: ".concat(v.toString()))}else v=new Date,v.setHours(0,0,0,0),console.log("timelineHourToTimestamp: Using current date: ".concat(v.toString()));const T=v.getTime()+s*60*60*1e3,p=new Date(T);return console.log("timelineHourToTimestamp: Result date for hour ".concat(s,": ").concat(p.toString())),Math.floor(T/1e3)}function pe(s){const g=new Date(s*1e3);return g.getHours()+g.getMinutes()/60+g.getSeconds()/3600}const e={streams:[],timelineSegments:[],selectedStream:null,selectedDate:null,isPlaying:!1,currentSegmentIndex:-1,zoomLevel:1,timelineStartHour:0,timelineEndHour:24,currentTime:null,prevCurrentTime:null,playbackSpeed:1,showOnlySegments:!0,forceReload:!1,userControllingCursor:!1,preserveCursorPosition:!1,cursorPositionLocked:!1,timelineHourToTimestamp:ge,timestampToTimelineHour:pe,listeners:new Set,lastUpdateTime:0,pendingUpdates:{},setState(s){const g=Date.now();if(console.log("timelineState: setState called with",s),console.log("timelineState: current state before update",{currentTime:this.currentTime,currentSegmentIndex:this.currentSegmentIndex,segmentsLength:this.timelineSegments.length}),s.currentTime!==void 0&&!s.currentSegmentIndex&&!s.isPlaying&&g-this.lastUpdateTime<250){console.log("timelineState: Skipping frequent time update");return}Object.assign(this,s),s.forceReload&&(this.forceReload=!1),this.lastUpdateTime=g,console.log("timelineState: state after update",{currentTime:this.currentTime,currentSegmentIndex:this.currentSegmentIndex,segmentsLength:this.timelineSegments.length}),this.notifyListeners()},subscribe(s){return this.listeners.add(s),()=>this.listeners.delete(s)},notifyListeners(){this.listeners.forEach(s=>s(this))},flushPendingUpdates(){Object.keys(this.pendingUpdates).length>0&&(Object.assign(this,this.pendingUpdates),this.pendingUpdates={},this.lastUpdateTime=Date.now(),this.notifyListeners())}};function Q(s){const g=s.getFullYear(),v=String(s.getMonth()+1).padStart(2,"0"),T=String(s.getDate()).padStart(2,"0");return"".concat(g,"-").concat(v,"-").concat(T)}function he(){const s=new URLSearchParams(window.location.search);return{stream:s.get("stream")||"",date:s.get("date")||Q(new Date)}}function fe(s,g){if(!s)return;const v=new URL(window.location.href);v.searchParams.set("stream",s),v.searchParams.set("date",g),window.history.replaceState({},"",v)}function Te(){const s=he(),[g,v]=D(!1),[T,p]=D([]),[f,M]=D(s.stream),[k,u]=D(s.date),[l,y]=D([]),C=V(null),L=V(!1),h=V(null);j(()=>(h.current=setInterval(()=>{e.flushPendingUpdates()},200),()=>{h.current&&clearInterval(h.current)}),[]);const{data:w,isLoading:$,error:t}=J("streams","/api/streams",{timeout:15e3,retries:2,retryDelay:1e3});j(()=>{if(w&&Array.isArray(w)&&w.length>0&&!L.current){if(console.log("TimelinePage: Streams loaded, initializing data"),L.current=!0,p(w),e.setState({streams:w}),w.some(d=>d.name===f)&&f)console.log("TimelinePage: Using stream from URL: ".concat(f));else if(w.length>0){const d=w[0].name;console.log("TimelinePage: Using first stream: ".concat(d)),M(d)}}},[w]),j(()=>{t&&(console.error("TimelinePage: Error loading streams:",t),q("Error loading streams: "+t.message,"error"))},[t]);const r=b=>{const[d,_,R]=b.split("-").map(O=>parseInt(O,10)),E=new Date(d,_-1,R,0,0,0,0),F=new Date(d,_-1,R,23,59,59,999),N=E.toISOString(),z=F.toISOString();return console.log("TimelinePage: Generated time range:",{date:b,startDate:E.toString(),endDate:F.toString(),startTime:N,endTime:z,year:d,month:_,day:R}),{startTime:N,endTime:z}};j(()=>{f&&(fe(f,k),e.setState({selectedStream:f,selectedDate:k}))},[f,k]);const i=r(k),o=i.startTime,m=i.endTime,a=f?"/api/timeline/segments?stream=".concat(encodeURIComponent(f),"&start=").concat(encodeURIComponent(o),"&end=").concat(encodeURIComponent(m)):null;console.log("TimelinePage: Timeline URL:",a);const{data:S,isLoading:c,error:x,refetch:P}=J(["timeline-segments",f,k],a,{timeout:3e4,retries:2,retryDelay:1e3},{enabled:!!f,onSuccess:b=>{console.log("TimelinePage: Timeline data received:",b);const d=b.segments||[];if(console.log("TimelinePage: Received ".concat(d.length," segments")),d.length===0){console.log("TimelinePage: No segments found"),y([]),e.setState({timelineSegments:[],currentSegmentIndex:-1,currentTime:null,isPlaying:!1}),q("No recordings found for the selected date","warning");return}const _=JSON.parse(JSON.stringify(d));_.slice(0,3).forEach((F,N)=>{const z=new Date(F.start_timestamp*1e3),O=new Date(F.end_timestamp*1e3);console.log("TimelinePage: Segment ".concat(N," - Start: ").concat(z.toLocaleTimeString(),", End: ").concat(O.toLocaleTimeString()))}),console.log("TimelinePage: Setting segments"),y(_),document.body.offsetHeight;const R=_[0].start_timestamp;console.log("TimelinePage: Setting initial segment and time",{firstSegmentId:_[0].id,startTime:new Date(R*1e3).toLocaleTimeString()}),console.log("TimelinePage: Directly setting timelineState properties"),e.timelineSegments=_,e.currentSegmentIndex=0,e.currentTime=R,e.prevCurrentTime=R,e.isPlaying=!1,e.forceReload=!0,e.zoomLevel=1,e.selectedDate=k,e.setState({}),console.log("TimelinePage: Updated timelineState with segments"),setTimeout(()=>{console.log("TimelinePage: State after update (delayed check):",{segmentsLength:e.timelineSegments.length,currentSegmentIndex:e.currentSegmentIndex,currentTime:e.currentTime}),(!e.currentTime||e.currentSegmentIndex===-1)&&(console.log("TimelinePage: State not properly updated, forcing update"),e.setState({currentSegmentIndex:0,currentTime:R,prevCurrentTime:R}))},100);const E=document.querySelector("#video-player video");E&&(E.src="/api/recordings/play/".concat(_[0].id,"?t=").concat(Date.now()),E.load()),q("Loaded ".concat(_.length," recording segments"),"success")},onError:b=>{console.error("TimelinePage: Error loading timeline data:",b),console.error("TimelinePage: Error details:",{message:b.message,status:b.status,statusText:b.statusText,response:b.response}),q("Error loading timeline data: "+b.message,"error"),y([])}}),H=b=>{const d=b.target.value;console.log("TimelinePage: Stream changed to ".concat(d)),M(d)},I=b=>{const d=b.target.value;if(console.log("TimelinePage: Date changed to ".concat(d)),d&&/^\d{4}-\d{2}-\d{2}$/.test(d)){const[_,R,E]=d.split("-").map(F=>parseInt(F,10));console.log("TimelinePage: Parsed date - Year: ".concat(_,", Month: ").concat(R,", Day: ").concat(E)),u(d)}else{console.error("TimelinePage: Invalid date format: ".concat(d));const _=Q(new Date);console.log("TimelinePage: Falling back to today's date: ".concat(_)),u(_)}},U=()=>c?n(oe,{message:"Loading timeline data..."}):l.length===0?n("div",{className:"flex flex-col items-center justify-center py-12 text-center",children:[n("svg",{className:"w-16 h-16 text-gray-400 dark:text-gray-600 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),n("p",{className:"text-gray-600 dark:text-gray-400 text-lg",children:"No recordings found for the selected date and stream"})]}):n(Z,{children:[n(ue,{}),n(le,{}),n("div",{id:"timeline-container",className:"relative w-full h-24 bg-gray-200 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg mb-6 overflow-hidden",ref:C,children:[n(ae,{}),n(me,{segments:l}),n(ce,{}),n("div",{className:"absolute bottom-1 right-2 text-xs text-gray-500 dark:text-gray-400 bg-white dark:bg-gray-800 bg-opacity-75 dark:bg-opacity-75 px-2 py-1 rounded",children:"Drag the orange dial to navigate"})]})]});return n("div",{className:"timeline-page",children:[n("div",{className:"flex items-center mb-4",children:[n("h1",{className:"text-2xl font-bold",children:"Timeline Playback"}),n("div",{className:"ml-4 flex",children:[n("a",{href:"recordings.html",className:"px-3 py-1 bg-gray-300 text-gray-700 dark:bg-gray-700 dark:text-gray-300 hover:bg-gray-400 dark:hover:bg-gray-600 rounded-l-md",children:"Table View"}),n("a",{href:"timeline.html",className:"px-3 py-1 bg-blue-500 text-white rounded-r-md",children:"Timeline View"})]})]}),n("div",{className:"flex flex-wrap gap-4 mb-2",children:[n("div",{className:"stream-selector flex-grow",children:[n("div",{className:"flex justify-between items-center mb-2",children:[n("label",{htmlFor:"stream-selector",children:"Stream"}),n("button",{className:"text-xs bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 px-2 py-1 rounded",onClick:()=>P(),children:"Reload Data"})]}),n("select",{id:"stream-selector",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:f||"",onChange:H,children:[n("option",{value:"",disabled:!0,children:["Select a stream (",T.length," available)"]}),T.map(b=>n("option",{value:b.name,children:b.name},b.name))]})]}),n("div",{className:"date-selector flex-grow",children:[n("label",{htmlFor:"timeline-date",className:"block mb-2",children:"Date"}),n("input",{type:"date",id:"timeline-date",className:"w-full p-2 border rounded dark:bg-gray-700 dark:border-gray-600 dark:text-white",value:k,onChange:I})]})]}),n("div",{className:"mb-4 text-sm text-gray-500 dark:text-gray-400 italic",children:c?"Loading...":"Recordings auto-load when stream or date changes"}),n("div",{className:"flex justify-between items-center mb-2",children:n("div",{id:"time-display",className:"timeline-time-display bg-gray-200 dark:bg-gray-700 px-3 py-1 rounded font-mono text-base",children:"00:00:00"})}),n("div",{className:"mb-2 text-xs text-gray-500",children:["Debug - isLoading: ",c?"true":"false",", Streams: ",T.length,", Segments: ",l.length]}),U(),n("div",{className:"mt-6 p-4 bg-gray-200 dark:bg-gray-800 rounded",children:[n("h3",{className:"text-lg font-semibold mb-2",children:"How to use the timeline:"}),n("ul",{className:"list-disc pl-5",children:[n("li",{children:"Select a stream and date to load recordings"}),n("li",{children:"Click on the timeline to position the cursor at a specific time"}),n("li",{children:"Drag the orange cursor to navigate precisely"}),n("li",{children:"Click on a segment (blue bar) to play that recording"}),n("li",{children:"Use the play button to start playback from the current cursor position"}),n("li",{children:"Use the zoom buttons to adjust the timeline scale"})]})]})]})}document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("main-content");s&&ee(n(ie,{client:te,children:[n(re,{}),n(ne,{}),n(Te,{}),n(se,{})]}),s)});export{ye as __vite_legacy_guard};
//# sourceMappingURL=timeline-Dz3dhJE5.js.map
