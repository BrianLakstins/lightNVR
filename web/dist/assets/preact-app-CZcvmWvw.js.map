{"version":3,"mappings":"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","names":["D","d","X","x","J","Y","Z","ee","O","$","j","M","ne","ce","L","k","_","n","V","pe","o","l","t","u","E","I","N","C","te","B","H","s","z","le","re","p","i","f","r","v","c","y","g","m","a","h","fe","q","oe","he","ie","K","F","e","Q","w","W","S","G","A","U","b","ve","T","ue","de","ye","htm","html","WebSocketClient","storedClientId","protocol","wsUrl","connectTimeout","event","error","fallbackEvent","delay","type","topic","payload","message","queue","params","success","data","parsedPayload","key","handlers","handler","BatchDeleteRecordingsClient","wsClient","resolve","reject","clientId","resultHandler","errorHandler","requestParams","progressData","resultData","progressUpdate","errorData","fetchSystemVersion","response","Header","activeNav","version","username","setUsername","useState","mobileMenuOpen","setMobileMenuOpen","auth","extractedUsername","handleLogout","toggleMobileMenu","navItems","renderNavItem","item","isActive","baseClasses","desktopClasses","mobileClasses","activeClass","_a","__template","_c","_b","loadHeader","headerContainer","__vitePreload","render","_d","Footer","year","_e","loadFooter","footerContainer","_f","setupModals","snapshotModalContainer","snapshotModal","videoModalContainer","videoModal","modal","addStatusMessageStyles","initToastContainer","style","addModalStyles","DeleteConfirmationModal","props","isOpen","onClose","onConfirm","mode","count","title","handleKeyDown","handleBackgroundClick","_g","showVideoModal","videoUrl","downloadUrl","overlay","modalContainer","header","titleElement","closeButton","videoContainer","video","controlsContainer","heading","controlsGrid","speedControlsSection","speedHeading","speedButtonsContainer","speed","button","btn","currentSpeedIndicator","detectionSection","detectionHeading","detectionControlsContainer","detectionCheckboxContainer","detectionCheckbox","detectionCheckboxLabel","sensitivityContainer","sensitivityLabel","sensitivityValue","sensitivitySlider","timeWindow","detectionOverlayEnabled","drawDetections","detectionStatusIndicator","downloadSection","downloadButton","footer","canvasContainer","detectionCanvas","recordingData","detections","recordingIdMatch","recordingId","startTime","endTime","videoWidth","videoHeight","ctx","currentTime","currentTimestamp","visibleDetections","detection","width","height","labelText","labelWidth","handleEscape","showStatusMessage","duration","showToast","statusContainer","messageElement","typeClass","showSnapshotPreview","imageData","streamName","snapshotTitle","snapshotImage","snapshotDownloadBtn","snapshotCloseBtn","closeButtons","modalContent","closeModal","storedImageData","storedStreamName","canvas","img","newWidth","newHeight","optimizedJpegData","filename","iframe","iframeDoc","onMessage","iframeError","tryDirectLinkDownload","canvasError","dataUrl","link","linkError","originalConnect","result","originalOnOpen","originalOnError","originalOnClose","originalOnMessage","originalHandleMessage","clientIdBefore","clientIdAfter","createStore","initialState","state","listeners","newState","listener","websocketStore","connected","initApp","currentPage","module"],"ignoreList":[1,2],"sources":["../../js/preact.min.js","../../node_modules/preact/dist/preact.module.js","../../node_modules/htm/dist/htm.module.js","../../js/html-helper.js","../../js/websocket-client.js","../../js/preact.hooks.module.js","../../js/components/preact/utils.js","../../js/components/preact/Header.js","../../js/components/preact/Footer.js","../../js/components/preact/UI.js","../../js/preact-app.js"],"sourcesContent":["/* esm.sh - preact@10.26.4 */\nvar D,d,X,se,x,J,Y,Z,ee,O,$,j,_e,M={},ne=[],ce=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,L=Array.isArray;function k(_,e){for(var n in e)_[n]=e[n];return _}function V(_){_&&_.parentNode&&_.parentNode.removeChild(_)}function pe(_,e,n){var o,l,t,u={};for(t in e)t==\"key\"?o=e[t]:t==\"ref\"?l=e[t]:u[t]=e[t];if(arguments.length>2&&(u.children=arguments.length>3?D.call(arguments,2):n),typeof _==\"function\"&&_.defaultProps!=null)for(t in _.defaultProps)u[t]===void 0&&(u[t]=_.defaultProps[t]);return E(_,u,o,l,null)}function E(_,e,n,o,l){var t={type:_,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:l??++X,__i:-1,__u:0};return l==null&&d.vnode!=null&&d.vnode(t),t}function ge(){return{current:null}}function I(_){return _.children}function N(_,e){this.props=_,this.context=e}function C(_,e){if(e==null)return _.__?C(_.__,_.__i+1):null;for(var n;e<_.__k.length;e++)if((n=_.__k[e])!=null&&n.__e!=null)return n.__e;return typeof _.type==\"function\"?C(_):null}function te(_){var e,n;if((_=_.__)!=null&&_.__c!=null){for(_.__e=_.__c.base=null,e=0;e<_.__k.length;e++)if((n=_.__k[e])!=null&&n.__e!=null){_.__e=_.__c.base=n.__e;break}return te(_)}}function B(_){(!_.__d&&(_.__d=!0)&&x.push(_)&&!H.__r++||J!==d.debounceRendering)&&((J=d.debounceRendering)||Y)(H)}function H(){for(var _,e,n,o,l,t,u,s=1;x.length;)x.length>s&&x.sort(Z),_=x.shift(),s=x.length,_.__d&&(n=void 0,l=(o=(e=_).__v).__e,t=[],u=[],e.__P&&((n=k({},o)).__v=o.__v+1,d.vnode&&d.vnode(n),z(e.__P,n,o,e.__n,e.__P.namespaceURI,32&o.__u?[l]:null,t,l??C(o),!!(32&o.__u),u),n.__v=o.__v,n.__.__k[n.__i]=n,le(t,n,u),n.__e!=l&&te(n)));H.__r=0}function re(_,e,n,o,l,t,u,s,p,i,f){var r,v,c,y,g,m,a=o&&o.__k||ne,h=e.length;for(p=fe(n,e,a,p,h),r=0;r<h;r++)(c=n.__k[r])!=null&&(v=c.__i===-1?M:a[c.__i]||M,c.__i=r,m=z(_,c,v,l,t,u,s,p,i,f),y=c.__e,c.ref&&v.ref!=c.ref&&(v.ref&&q(v.ref,null,c),f.push(c.ref,c.__c||y,c)),g==null&&y!=null&&(g=y),4&c.__u||v.__k===c.__k?p=oe(c,p,_):typeof c.type==\"function\"&&m!==void 0?p=m:y&&(p=y.nextSibling),c.__u&=-7);return n.__e=g,p}function fe(_,e,n,o,l){var t,u,s,p,i,f=n.length,r=f,v=0;for(_.__k=new Array(l),t=0;t<l;t++)(u=e[t])!=null&&typeof u!=\"boolean\"&&typeof u!=\"function\"?(p=t+v,(u=_.__k[t]=typeof u==\"string\"||typeof u==\"number\"||typeof u==\"bigint\"||u.constructor==String?E(null,u,null,null,null):L(u)?E(I,{children:u},null,null,null):u.constructor===void 0&&u.__b>0?E(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u).__=_,u.__b=_.__b+1,s=null,(i=u.__i=he(u,n,p,r))!==-1&&(r--,(s=n[i])&&(s.__u|=2)),s==null||s.__v===null?(i==-1&&(l>f?v--:l<f&&v++),typeof u.type!=\"function\"&&(u.__u|=4)):i!=p&&(i==p-1?v--:i==p+1?v++:(i>p?v--:v++,u.__u|=4))):_.__k[t]=null;if(r)for(t=0;t<f;t++)(s=n[t])!=null&&(2&s.__u)==0&&(s.__e==o&&(o=C(s)),ie(s,s));return o}function oe(_,e,n){var o,l;if(typeof _.type==\"function\"){for(o=_.__k,l=0;o&&l<o.length;l++)o[l]&&(o[l].__=_,e=oe(o[l],e,n));return e}_.__e!=e&&(e&&_.type&&!n.contains(e)&&(e=C(_)),n.insertBefore(_.__e,e||null),e=_.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function ae(_,e){return e=e||[],_==null||typeof _==\"boolean\"||(L(_)?_.some(function(n){ae(n,e)}):e.push(_)),e}function he(_,e,n,o){var l,t,u=_.key,s=_.type,p=e[n];if(p===null&&_.key==null||p&&u==p.key&&s===p.type&&(2&p.__u)==0)return n;if(o>(p!=null&&(2&p.__u)==0?1:0))for(l=n-1,t=n+1;l>=0||t<e.length;){if(l>=0){if((p=e[l])&&(2&p.__u)==0&&u==p.key&&s===p.type)return l;l--}if(t<e.length){if((p=e[t])&&(2&p.__u)==0&&u==p.key&&s===p.type)return t;t++}}return-1}function K(_,e,n){e[0]==\"-\"?_.setProperty(e,n??\"\"):_[e]=n==null?\"\":typeof n!=\"number\"||ce.test(e)?n:n+\"px\"}function F(_,e,n,o,l){var t;e:if(e==\"style\")if(typeof n==\"string\")_.style.cssText=n;else{if(typeof o==\"string\"&&(_.style.cssText=o=\"\"),o)for(e in o)n&&e in n||K(_.style,e,\"\");if(n)for(e in n)o&&n[e]===o[e]||K(_.style,e,n[e])}else if(e[0]==\"o\"&&e[1]==\"n\")t=e!=(e=e.replace(ee,\"$1\")),e=e.toLowerCase()in _||e==\"onFocusOut\"||e==\"onFocusIn\"?e.toLowerCase().slice(2):e.slice(2),_.l||(_.l={}),_.l[e+t]=n,n?o?n.t=o.t:(n.t=O,_.addEventListener(e,t?j:$,t)):_.removeEventListener(e,t?j:$,t);else{if(l==\"http://www.w3.org/2000/svg\")e=e.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(e!=\"width\"&&e!=\"height\"&&e!=\"href\"&&e!=\"list\"&&e!=\"form\"&&e!=\"tabIndex\"&&e!=\"download\"&&e!=\"rowSpan\"&&e!=\"colSpan\"&&e!=\"role\"&&e!=\"popover\"&&e in _)try{_[e]=n??\"\";break e}catch{}typeof n==\"function\"||(n==null||n===!1&&e[4]!=\"-\"?_.removeAttribute(e):_.setAttribute(e,e==\"popover\"&&n==1?\"\":n))}}function Q(_){return function(e){if(this.l){var n=this.l[e.type+_];if(e.u==null)e.u=O++;else if(e.u<n.t)return;return n(d.event?d.event(e):e)}}}function z(_,e,n,o,l,t,u,s,p,i){var f,r,v,c,y,g,m,a,h,P,w,W,S,G,A,U,R,b=e.type;if(e.constructor!==void 0)return null;128&n.__u&&(p=!!(32&n.__u),t=[s=e.__e=n.__e]),(f=d.__b)&&f(e);e:if(typeof b==\"function\")try{if(a=e.props,h=\"prototype\"in b&&b.prototype.render,P=(f=b.contextType)&&o[f.__c],w=f?P?P.props.value:f.__:o,n.__c?m=(r=e.__c=n.__c).__=r.__E:(h?e.__c=r=new b(a,w):(e.__c=r=new N(a,w),r.constructor=b,r.render=ve),P&&P.sub(r),r.props=a,r.state||(r.state={}),r.context=w,r.__n=o,v=r.__d=!0,r.__h=[],r._sb=[]),h&&r.__s==null&&(r.__s=r.state),h&&b.getDerivedStateFromProps!=null&&(r.__s==r.state&&(r.__s=k({},r.__s)),k(r.__s,b.getDerivedStateFromProps(a,r.__s))),c=r.props,y=r.state,r.__v=e,v)h&&b.getDerivedStateFromProps==null&&r.componentWillMount!=null&&r.componentWillMount(),h&&r.componentDidMount!=null&&r.__h.push(r.componentDidMount);else{if(h&&b.getDerivedStateFromProps==null&&a!==c&&r.componentWillReceiveProps!=null&&r.componentWillReceiveProps(a,w),!r.__e&&(r.shouldComponentUpdate!=null&&r.shouldComponentUpdate(a,r.__s,w)===!1||e.__v==n.__v)){for(e.__v!=n.__v&&(r.props=a,r.state=r.__s,r.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.some(function(T){T&&(T.__=e)}),W=0;W<r._sb.length;W++)r.__h.push(r._sb[W]);r._sb=[],r.__h.length&&u.push(r);break e}r.componentWillUpdate!=null&&r.componentWillUpdate(a,r.__s,w),h&&r.componentDidUpdate!=null&&r.__h.push(function(){r.componentDidUpdate(c,y,g)})}if(r.context=w,r.props=a,r.__P=_,r.__e=!1,S=d.__r,G=0,h){for(r.state=r.__s,r.__d=!1,S&&S(e),f=r.render(r.props,r.state,r.context),A=0;A<r._sb.length;A++)r.__h.push(r._sb[A]);r._sb=[]}else do r.__d=!1,S&&S(e),f=r.render(r.props,r.state,r.context),r.state=r.__s;while(r.__d&&++G<25);r.state=r.__s,r.getChildContext!=null&&(o=k(k({},o),r.getChildContext())),h&&!v&&r.getSnapshotBeforeUpdate!=null&&(g=r.getSnapshotBeforeUpdate(c,y)),U=f,f!=null&&f.type===I&&f.key==null&&(U=ue(f.props.children)),s=re(_,L(U)?U:[U],e,n,o,l,t,u,s,p,i),r.base=e.__e,e.__u&=-161,r.__h.length&&u.push(r),m&&(r.__E=r.__=null)}catch(T){if(e.__v=null,p||t!=null)if(T.then){for(e.__u|=p?160:128;s&&s.nodeType==8&&s.nextSibling;)s=s.nextSibling;t[t.indexOf(s)]=null,e.__e=s}else for(R=t.length;R--;)V(t[R]);else e.__e=n.__e,e.__k=n.__k;d.__e(T,e,n)}else t==null&&e.__v==n.__v?(e.__k=n.__k,e.__e=n.__e):s=e.__e=de(n.__e,e,n,o,l,t,u,p,i);return(f=d.diffed)&&f(e),128&e.__u?void 0:s}function le(_,e,n){for(var o=0;o<n.length;o++)q(n[o],n[++o],n[++o]);d.__c&&d.__c(e,_),_.some(function(l){try{_=l.__h,l.__h=[],_.some(function(t){t.call(l)})}catch(t){d.__e(t,l.__v)}})}function ue(_){return typeof _!=\"object\"||_==null?_:L(_)?_.map(ue):k({},_)}function de(_,e,n,o,l,t,u,s,p){var i,f,r,v,c,y,g,m=n.props,a=e.props,h=e.type;if(h==\"svg\"?l=\"http://www.w3.org/2000/svg\":h==\"math\"?l=\"http://www.w3.org/1998/Math/MathML\":l||(l=\"http://www.w3.org/1999/xhtml\"),t!=null){for(i=0;i<t.length;i++)if((c=t[i])&&\"setAttribute\"in c==!!h&&(h?c.localName==h:c.nodeType==3)){_=c,t[i]=null;break}}if(_==null){if(h==null)return document.createTextNode(a);_=document.createElementNS(l,h,a.is&&a),s&&(d.__m&&d.__m(e,t),s=!1),t=null}if(h===null)m===a||s&&_.data===a||(_.data=a);else{if(t=t&&D.call(_.childNodes),m=n.props||M,!s&&t!=null)for(m={},i=0;i<_.attributes.length;i++)m[(c=_.attributes[i]).name]=c.value;for(i in m)if(c=m[i],i!=\"children\"){if(i==\"dangerouslySetInnerHTML\")r=c;else if(!(i in a)){if(i==\"value\"&&\"defaultValue\"in a||i==\"checked\"&&\"defaultChecked\"in a)continue;F(_,i,null,c,l)}}for(i in a)c=a[i],i==\"children\"?v=c:i==\"dangerouslySetInnerHTML\"?f=c:i==\"value\"?y=c:i==\"checked\"?g=c:s&&typeof c!=\"function\"||m[i]===c||F(_,i,c,m[i],l);if(f)s||r&&(f.__html===r.__html||f.__html===_.innerHTML)||(_.innerHTML=f.__html),e.__k=[];else if(r&&(_.innerHTML=\"\"),re(e.type===\"template\"?_.content:_,L(v)?v:[v],e,n,o,h==\"foreignObject\"?\"http://www.w3.org/1999/xhtml\":l,t,u,t?t[0]:n.__k&&C(n,0),s,p),t!=null)for(i=t.length;i--;)V(t[i]);s||(i=\"value\",h==\"progress\"&&y==null?_.removeAttribute(\"value\"):y!==void 0&&(y!==_[i]||h==\"progress\"&&!y||h==\"option\"&&y!==m[i])&&F(_,i,y,m[i],l),i=\"checked\",g!==void 0&&g!==_[i]&&F(_,i,g,m[i],l))}return _}function q(_,e,n){try{if(typeof _==\"function\"){var o=typeof _.__u==\"function\";o&&_.__u(),o&&e==null||(_.__u=_(e))}else _.current=e}catch(l){d.__e(l,n)}}function ie(_,e,n){var o,l;if(d.unmount&&d.unmount(_),(o=_.ref)&&(o.current&&o.current!==_.__e||q(o,null,e)),(o=_.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){d.__e(t,e)}o.base=o.__P=null}if(o=_.__k)for(l=0;l<o.length;l++)o[l]&&ie(o[l],e,n||typeof _.type!=\"function\");n||V(_.__e),_.__c=_.__=_.__e=void 0}function ve(_,e,n){return this.constructor(_,n)}function ye(_,e,n){var o,l,t,u;e==document&&(e=document.documentElement),d.__&&d.__(_,e),l=(o=typeof n==\"function\")?null:n&&n.__k||e.__k,t=[],u=[],z(e,_=(!o&&n||e).__k=pe(I,null,[_]),l||M,M,e.namespaceURI,!o&&n?[n]:l?null:e.firstChild?D.call(e.childNodes):null,t,!o&&n?n:l?l.__e:e.firstChild,o,u),le(t,_,u)}function me(_,e){ye(_,e,me)}function be(_,e,n){var o,l,t,u,s=k({},_.props);for(t in _.type&&_.type.defaultProps&&(u=_.type.defaultProps),e)t==\"key\"?o=e[t]:t==\"ref\"?l=e[t]:s[t]=e[t]===void 0&&u!==void 0?u[t]:e[t];return arguments.length>2&&(s.children=arguments.length>3?D.call(arguments,2):n),E(_.type,s,o||_.key,l||_.ref,null)}function ke(_){function e(n){var o,l;return this.getChildContext||(o=new Set,(l={})[e.__c]=this,this.getChildContext=function(){return l},this.componentWillUnmount=function(){o=null},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&o.forEach(function(u){u.__e=!0,B(u)})},this.sub=function(t){o.add(t);var u=t.componentWillUnmount;t.componentWillUnmount=function(){o&&o.delete(t),u&&u.call(t)}}),n.children}return e.__c=\"__cC\"+_e++,e.__=_,e.Provider=e.__l=(e.Consumer=function(n,o){return n.children(o)}).contextType=e,e}D=ne.slice,d={__e:function(_,e,n,o){for(var l,t,u;e=e.__;)if((l=e.__c)&&!l.__)try{if((t=l.constructor)&&t.getDerivedStateFromError!=null&&(l.setState(t.getDerivedStateFromError(_)),u=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(_,o||{}),u=l.__d),u)return l.__E=l}catch(s){_=s}throw _}},X=0,se=function(_){return _!=null&&_.constructor==null},N.prototype.setState=function(_,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=k({},this.state),typeof _==\"function\"&&(_=_(k({},n),this.props)),_&&k(n,_),_!=null&&this.__v&&(e&&this._sb.push(e),B(this))},N.prototype.forceUpdate=function(_){this.__v&&(this.__e=!0,_&&this.__h.push(_),B(this))},N.prototype.render=I,x=[],Y=typeof Promise==\"function\"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Z=function(_,e){return _.__v.__b-e.__v.__b},H.__r=0,ee=/(PointerCapture)$|Capture$/i,O=0,$=Q(!1),j=Q(!0),_e=0;export{N as Component,I as Fragment,be as cloneElement,ke as createContext,pe as createElement,ge as createRef,pe as h,me as hydrate,se as isValidElement,d as options,ye as render,ae as toChildArray};\n//# sourceMappingURL=preact.mjs.map","var n,l,t,u,i,r,o,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,d=Array.isArray;function w(n,l){for(var t in l)n[t]=l[t];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,t,u){var i,r,o,e={};for(o in t)\"key\"==o?i=t[o]:\"ref\"==o?r=t[o]:e[o]=t[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):u),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,u,i,r,o){var e={type:n,props:u,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++t:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var t;l<n.__k.length;l++)if(null!=(t=n.__k[l])&&null!=t.__e)return t.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(t=n.__k[l])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,t,u,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(u=void 0,o=(r=(t=n).__v).__e,f=[],c=[],t.__P&&((u=w({},r)).__v=r.__v+1,l.vnode&&l.vnode(u),O(t.__P,u,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),u.__v=r.__v,u.__.__k[u.__i]=u,z(f,u,c),u.__e!=o&&C(u)));$.__r=0}function I(n,l,t,u,i,r,o,e,f,c,s){var a,h,y,d,w,g,_=u&&u.__k||v,m=l.length;for(f=P(t,l,_,f,m),a=0;a<m;a++)null!=(y=t.__k[a])&&(h=-1===y.__i?p:_[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),d=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&q(h.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),4&y.__u||h.__k===y.__k?f=A(y,f,n):\"function\"==typeof y.type&&void 0!==g?f=g:d&&(f=d.nextSibling),y.__u&=-7);return t.__e=w,f}function P(n,l,t,u,i){var r,o,e,f,c,s=t.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):d(o)?m(k,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!==(c=o.__i=L(o,t,f,a))&&(a--,(e=t[c])&&(e.__u|=2)),null==e||null===e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=t[r])&&0==(2&e.__u)&&(e.__e==u&&(u=S(e)),B(e,e));return u}function A(n,l,t){var u,i;if(\"function\"==typeof n.type){for(u=n.__k,i=0;u&&i<u.length;i++)u[i]&&(u[i].__=n,l=A(u[i],l,t));return l}n.__e!=l&&(l&&n.type&&!t.contains(l)&&(l=S(n)),t.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(d(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,t,u){var i,r,o=n.key,e=n.type,f=l[t];if(null===f&&null==n.key||f&&o==f.key&&e===f.type&&0==(2&f.__u))return t;if(u>(null!=f&&0==(2&f.__u)?1:0))for(i=t-1,r=t+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e===f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e===f.type)return r;r++}}return-1}function T(n,l,t){\"-\"==l[0]?n.setProperty(l,null==t?\"\":t):n[l]=null==t?\"\":\"number\"!=typeof t||y.test(l)?t:t+\"px\"}function j(n,l,t,u,i){var r;n:if(\"style\"==l)if(\"string\"==typeof t)n.style.cssText=t;else{if(\"string\"==typeof u&&(n.style.cssText=u=\"\"),u)for(l in u)t&&l in t||T(n.style,l,\"\");if(t)for(l in t)u&&t[l]===u[l]||T(n.style,l,t[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"==l||\"onFocusIn\"==l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=t,t?u?t.t=u.t:(t.t=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==t?\"\":t;break n}catch(n){}\"function\"==typeof t||(null==t||!1===t&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==t?\"\":t))}}function F(n){return function(t){if(this.l){var u=this.l[t.type+n];if(null==t.u)t.u=c++;else if(t.u<u.t)return;return u(l.event?l.event(t):t)}}}function O(n,t,u,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=t.type;if(void 0!==t.constructor)return null;128&u.__u&&(c=!!(32&u.__u),o=[f=t.__e=u.__e]),(a=l.__b)&&a(t);n:if(\"function\"==typeof j)try{if(b=t.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,u.__c?m=(h=t.__c=u.__c).__=h.__E:(S?t.__c=h=new j(b,M):(t.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=w({},h.__s)),w(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=t,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||t.__v==u.__v)){for(t.__v!=u.__v&&(h.props=b,h.state=h.__s,h.__d=!1),t.__e=u.__e,t.__k=u.__k,t.__k.some(function(n){n&&(n.__=t)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(t),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(t),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=w(w({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,d(L)?L:[L],t,u,i,r,o,e,f,c,s),h.base=t.__e,t.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(t.__v=null,c||null!=o)if(n.then){for(t.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,t.__e=f}else for(T=o.length;T--;)g(o[T]);else t.__e=u.__e,t.__k=u.__k;l.__e(n,t,u)}else null==o&&t.__v==u.__v?(t.__k=u.__k,t.__e=u.__e):f=t.__e=V(u.__e,t,u,i,r,o,e,c,s);return(a=l.diffed)&&a(t),128&t.__u?void 0:f}function z(n,t,u){for(var i=0;i<u.length;i++)q(u[i],u[++i],u[++i]);l.__c&&l.__c(t,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(n){n.call(t)})}catch(n){l.__e(n,t.__v)}})}function N(n){return\"object\"!=typeof n||null==n?n:d(n)?n.map(N):w({},n)}function V(t,u,i,r,o,e,f,c,s){var a,h,v,y,w,_,m,b=i.props,k=u.props,x=u.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((w=e[a])&&\"setAttribute\"in w==!!x&&(x?w.localName==x:3==w.nodeType)){t=w,e[a]=null;break}if(null==t){if(null==x)return document.createTextNode(k);t=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(u,e),c=!1),e=null}if(null===x)b===k||c&&t.data===k||(t.data=k);else{if(e=e&&n.call(t.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<t.attributes.length;a++)b[(w=t.attributes[a]).name]=w.value;for(a in b)if(w=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=w;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(t,a,null,w,o)}for(a in k)w=k[a],\"children\"==a?y=w:\"dangerouslySetInnerHTML\"==a?h=w:\"value\"==a?_=w:\"checked\"==a?m=w:c&&\"function\"!=typeof w||b[a]===w||j(t,a,w,b[a],o);if(h)c||v&&(h.__html===v.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),u.__k=[];else if(v&&(t.innerHTML=\"\"),I(\"template\"===u.type?t.content:t,d(y)?y:[y],u,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?t.removeAttribute(\"value\"):void 0!==_&&(_!==t[a]||\"progress\"==x&&!_||\"option\"==x&&_!==b[a])&&j(t,a,_,b[a],o),a=\"checked\",void 0!==m&&m!==t[a]&&j(t,a,m,b[a],o))}return t}function q(n,t,u){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==t||(n.__u=n(t))}else n.current=t}catch(n){l.__e(n,u)}}function B(n,t,u){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||q(i,null,t)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,t)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],t,u||\"function\"!=typeof n.type);u||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,t){return this.constructor(n,t)}function E(t,u,i){var r,o,e,f;u==document&&(u=document.documentElement),l.__&&l.__(t,u),o=(r=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],f=[],O(u,t=(!r&&i||u).__k=_(k,null,[t]),o||p,p,u.namespaceURI,!r&&i?[i]:o?null:u.firstChild?n.call(u.childNodes):null,e,!r&&i?i:o?o.__e:u.firstChild,r,f),z(e,t,f)}function G(n,l){E(n,l,G)}function J(l,t,u){var i,r,o,e,f=w({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),t)\"key\"==o?i=t[o]:\"ref\"==o?r=t[o]:f[o]=void 0===t[o]&&void 0!==e?e[o]:t[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):u),m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var t,u;return this.getChildContext||(t=new Set,(u={})[l.__c]=this,this.getChildContext=function(){return u},this.componentWillUnmount=function(){t=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&t.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){t.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){t&&t.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,t,u){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,u||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},t=0,u=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=w({},this.state),\"function\"==typeof n&&(n=n(w({},t),this.props)),n&&w(t,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,J as cloneElement,K as createContext,_ as createElement,b as createRef,_ as h,G as hydrate,u as isValidElement,l as options,E as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","/**\n * LightNVR Web Interface HTML Helper\n * Provides the html template literal function for Preact components\n */\n\nimport { h } from 'preact';\nimport htm from 'htm';\n\n// Initialize htm with Preact's h\nexport const html = htm.bind(h);\n","/**\n * WebSocket Client for LightNVR\n * Provides a reusable WebSocket connection with automatic reconnection\n */\n\n/**\n * WebSocket Client class\n */\nexport class WebSocketClient {\n    /**\n     * Generate a UUID v4\n     * @returns {string} A random UUID\n     */\n    static generateUUID() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            const r = Math.random() * 16 | 0;\n            const v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n    \n    /**\n     * Create a new WebSocket client\n     */\n    constructor() {\n        this.socket = null;\n        // Generate a client ID locally instead of waiting for one from the server\n        this.clientId = WebSocketClient.generateUUID();\n        this.connected = false;\n        this.reconnectAttempts = 0;\n        this.maxReconnectAttempts = 5;\n        this.reconnectDelay = 1000; // Start with 1 second delay\n        this.handlers = {};\n        this.subscriptions = new Set();\n        this.pendingSubscriptions = new Set();\n        this.messageQueue = [];\n        this.connecting = false;\n        // Store subscription parameters\n        this.subscriptionParams = new Map();\n        \n        console.log(`Generated local WebSocket client ID: ${this.clientId}`);\n        \n        // Try to load client ID from localStorage if available\n        try {\n            const storedClientId = localStorage.getItem('websocket_client_id');\n            if (storedClientId) {\n                this.clientId = storedClientId;\n                console.log(`Loaded WebSocket client ID from localStorage: ${this.clientId}`);\n            } else {\n                // Store the generated client ID\n                localStorage.setItem('websocket_client_id', this.clientId);\n                console.log(`Stored WebSocket client ID in localStorage: ${this.clientId}`);\n            }\n        } catch (e) {\n            console.warn('Could not access localStorage for client ID:', e);\n        }\n        \n        // Bind methods to this instance\n        this.connect = this.connect.bind(this);\n        this.disconnect = this.disconnect.bind(this);\n        this.reconnect = this.reconnect.bind(this);\n        this.send = this.send.bind(this);\n        this.subscribe = this.subscribe.bind(this);\n        this.unsubscribe = this.unsubscribe.bind(this);\n        this.handleMessage = this.handleMessage.bind(this);\n        this.processMessageQueue = this.processMessageQueue.bind(this);\n        \n        // Connect automatically\n        this.connect();\n    }\n    \n    /**\n     * Connect to the WebSocket server\n     */\n    connect() {\n        if (this.socket && (this.socket.readyState === WebSocket.OPEN || this.socket.readyState === WebSocket.CONNECTING)) {\n            console.log('WebSocket already connected or connecting');\n            return;\n        }\n        \n        if (this.connecting) {\n            console.log('WebSocket connection already in progress');\n            return;\n        }\n        \n        this.connecting = true;\n        \n        // Determine WebSocket URL based on current page protocol\n        const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n        const wsUrl = `${protocol}//${window.location.host}/api/ws`;\n        \n        console.log(`Connecting to WebSocket server at ${wsUrl}`);\n        \n        // Check if WebSocket is supported\n        if (typeof WebSocket === 'undefined') {\n            console.error('WebSocket not supported by this browser or environment');\n            this.connecting = false;\n            this.fallbackToHttp();\n            return;\n        }\n        \n        try {\n            // Create WebSocket with a timeout to handle stalled connections\n            const connectTimeout = setTimeout(() => {\n                console.error('WebSocket connection timeout');\n                if (this.socket && this.socket.readyState !== WebSocket.OPEN) {\n                    this.socket.close();\n                    this.socket = null;\n                    this.connecting = false;\n                    this.fallbackToHttp();\n                }\n            }, 10000); // 10 second timeout\n            \n            this.socket = new WebSocket(wsUrl);\n            \n            this.socket.onopen = () => {\n                clearTimeout(connectTimeout);\n                console.log('WebSocket connection established');\n                this.connected = true;\n                this.connecting = false;\n                this.reconnectAttempts = 0;\n                this.reconnectDelay = 1000;\n                \n                // Set a smaller buffer size for better compatibility with older systems\n                if (this.socket.bufferedAmount !== undefined) {\n                    console.log(`Initial WebSocket buffered amount: ${this.socket.bufferedAmount}`);\n                }\n                \n                // Resubscribe to topics\n                this.pendingSubscriptions = new Set([...this.subscriptions]);\n                this.subscriptions.clear();\n                this.processPendingSubscriptions();\n                \n                // Process any queued messages\n                this.processMessageQueue();\n            };\n            \n            this.socket.onmessage = (event) => {\n                try {\n                    this.handleMessage(event.data);\n                } catch (error) {\n                    console.error('Error handling WebSocket message:', error);\n                }\n            };\n            \n            this.socket.onclose = (event) => {\n                clearTimeout(connectTimeout);\n                console.log(`WebSocket connection closed: ${event.code} ${event.reason}`);\n                this.connected = false;\n                this.connecting = false;\n                \n                // Check for specific close codes that indicate compatibility issues\n                if (event.code === 1006) {\n                    console.warn('WebSocket closed abnormally (code 1006), possible compatibility issue');\n                    \n                    // If we've tried multiple times and keep getting 1006, fall back to HTTP\n                    if (this.reconnectAttempts >= 3) {\n                        console.warn('Multiple abnormal closures, falling back to HTTP');\n                        this.fallbackToHttp();\n                        return;\n                    }\n                }\n                \n                // Attempt to reconnect if not a normal closure\n                if (event.code !== 1000) {\n                    this.reconnect();\n                }\n            };\n            \n            this.socket.onerror = (error) => {\n                console.error('WebSocket error:', error);\n                this.connecting = false;\n                \n                // On error, increment reconnect attempts\n                this.reconnectAttempts++;\n                \n                // If we've had multiple errors, fall back to HTTP\n                if (this.reconnectAttempts >= 3) {\n                    console.warn('Multiple WebSocket errors, falling back to HTTP');\n                    this.fallbackToHttp();\n                }\n            };\n        } catch (error) {\n            console.error('Error creating WebSocket:', error);\n            this.connecting = false;\n            this.reconnect();\n        }\n    }\n    \n    /**\n     * Fall back to HTTP for operations\n     * This sets a flag that other components can check to use HTTP instead of WebSocket\n     */\n    fallbackToHttp() {\n        console.warn('Falling back to HTTP for operations');\n        this.usingHttpFallback = true;\n        \n        // Dispatch an event that components can listen for\n        const fallbackEvent = new CustomEvent('websocket-fallback', {\n            detail: { usingHttp: true }\n        });\n        window.dispatchEvent(fallbackEvent);\n        \n        // Try to notify any waiting operations\n        if (this.pendingSubscriptions.size > 0) {\n            console.log(`Notifying ${this.pendingSubscriptions.size} pending subscriptions about HTTP fallback`);\n        }\n    }\n    \n    /**\n     * Disconnect from the WebSocket server\n     */\n    disconnect() {\n        if (this.socket) {\n            this.socket.close(1000, 'Client disconnected');\n            this.socket = null;\n        }\n        \n        this.connected = false;\n        this.connecting = false;\n        // Don't reset clientId on disconnect since we're generating it locally\n        // this.clientId = null;\n        this.subscriptions.clear();\n        this.pendingSubscriptions.clear();\n        this.subscriptionParams.clear();\n        this.messageQueue = [];\n    }\n    \n    /**\n     * Reconnect to the WebSocket server with exponential backoff\n     */\n    reconnect() {\n        if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n            console.log('Maximum reconnect attempts reached');\n            return;\n        }\n        \n        this.reconnectAttempts++;\n        const delay = Math.min(30000, this.reconnectDelay * Math.pow(1.5, this.reconnectAttempts - 1));\n        \n        console.log(`Reconnecting in ${delay}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\n        \n        setTimeout(() => {\n            this.connect();\n        }, delay);\n    }\n    \n    /**\n     * Send a message to the WebSocket server\n     * \n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Object} payload Message payload\n     * @returns {boolean} Whether the message was sent\n     */\n    send(type, topic, payload) {\n        if (!this.connected) {\n            console.log('WebSocket not connected, queueing message');\n            this.messageQueue.push({ type, topic, payload });\n            this.connect();\n            return false;\n        }\n        \n        const message = {\n            type,\n            topic,\n            payload\n        };\n        \n        try {\n            // Log the message being sent for debugging\n            console.log('Sending WebSocket message:', JSON.stringify(message));\n            \n            this.socket.send(JSON.stringify(message));\n            return true;\n        } catch (error) {\n            console.error('Error sending WebSocket message:', error);\n            this.messageQueue.push({ type, topic, payload });\n            return false;\n        }\n    }\n    \n    /**\n     * Process the message queue\n     */\n    processMessageQueue() {\n        if (!this.connected || this.messageQueue.length === 0) {\n            return;\n        }\n        \n        console.log(`Processing ${this.messageQueue.length} queued messages`);\n        \n        const queue = [...this.messageQueue];\n        this.messageQueue = [];\n        \n        for (const message of queue) {\n            this.send(message.type, message.topic, message.payload);\n        }\n    }\n    \n    /**\n     * Process pending subscriptions\n     */\n    processPendingSubscriptions() {\n        if (!this.connected || this.pendingSubscriptions.size === 0) {\n            return;\n        }\n        \n        console.log(`Processing ${this.pendingSubscriptions.size} pending subscriptions`);\n        \n        for (const topic of this.pendingSubscriptions) {\n            // Get parameters for this topic if available\n            const params = this.subscriptionParams.get(topic) || {};\n            this.subscribe(topic, params);\n        }\n        \n        this.pendingSubscriptions.clear();\n    }\n    \n    /**\n     * Subscribe to a topic\n     * \n     * @param {string} topic Topic to subscribe to\n     * @param {Object} params Additional parameters to include in the subscription\n     * @returns {boolean} Whether the subscription request was sent\n     */\n    subscribe(topic, params = {}) {\n        if (!this.connected) {\n            console.log(`WebSocket not connected, queueing subscription to ${topic}`);\n            this.pendingSubscriptions.add(topic);\n            this.connect();\n            return false;\n        }\n        \n        if (this.subscriptions.has(topic)) {\n            console.log(`Already subscribed to ${topic}, updating parameters`);\n            // Continue with the subscription to update parameters\n        }\n        \n        console.log(`Subscribing to ${topic} with params:`, params);\n        \n        // Store parameters for this topic\n        this.subscriptionParams.set(topic, params);\n        \n        // Include client_id in the payload to ensure server knows who's subscribing\n        const payload = {\n            client_id: this.clientId,\n            ...params\n        };\n        \n        const success = this.send('subscribe', topic, payload);\n        if (success) {\n            this.subscriptions.add(topic);\n        } else {\n            this.pendingSubscriptions.add(topic);\n        }\n        \n        return success;\n    }\n    \n    /**\n     * Unsubscribe from a topic\n     * \n     * @param {string} topic Topic to unsubscribe from\n     * @returns {boolean} Whether the unsubscription request was sent\n     */\n    unsubscribe(topic) {\n        if (!this.connected) {\n            console.log(`WebSocket not connected, cannot unsubscribe from ${topic}`);\n            this.pendingSubscriptions.delete(topic);\n            return false;\n        }\n        \n        if (!this.subscriptions.has(topic)) {\n            console.log(`Not subscribed to ${topic}`);\n            return true;\n        }\n        \n        console.log(`Unsubscribing from ${topic}`);\n        \n        const success = this.send('unsubscribe', topic, {});\n        if (success) {\n            this.subscriptions.delete(topic);\n            // Remove stored parameters for this topic\n            this.subscriptionParams.delete(topic);\n        }\n        \n        return success;\n    }\n    \n    /**\n     * Handle an incoming WebSocket message\n     * \n     * @param {string} data Message data\n     */\n    handleMessage(data) {\n        console.log('Raw WebSocket message received:', data);\n        \n        try {\n            const message = JSON.parse(data);\n            \n            if (!message.type || !message.topic) {\n                console.error('Invalid WebSocket message format:', message);\n                return;\n            }\n            \n            console.log(`Received WebSocket message: ${message.type} ${message.topic}`, message);\n            \n            // Debug log for progress and result messages\n            if (message.type === 'progress' || message.type === 'result') {\n                console.log(`Received ${message.type} message for topic ${message.topic}:`, message.payload);\n            }\n            \n            // Always try to parse payload if it's a string (could be JSON)\n            if (typeof message.payload === 'string') {\n                try {\n                    const parsedPayload = JSON.parse(message.payload);\n                    console.log(`Parsed payload for ${message.type}:${message.topic}:`, parsedPayload);\n                    // Replace the string payload with the parsed object\n                    message.payload = parsedPayload;\n                } catch (e) {\n                    // Not JSON, keep as string\n                    console.log(`Payload for ${message.type}:${message.topic} is not JSON, keeping as string`);\n                }\n            }\n            \n            // Handle welcome message\n            if (message.type === 'welcome' && message.topic === 'system') {\n                console.log('Received welcome message:', message);\n                \n                // The payload might be a string that needs to be parsed\n                let payload = message.payload;\n                console.log('Welcome payload type:', typeof payload);\n                \n                // If payload is a string, try to parse it as JSON\n                if (typeof payload === 'string') {\n                    try {\n                        payload = JSON.parse(payload);\n                        console.log('Parsed welcome payload:', payload);\n                    } catch (e) {\n                        console.error('Error parsing welcome payload as JSON:', e);\n                        console.log('Raw payload string:', payload);\n                    }\n                }\n                \n                if (!payload || !payload.client_id) {\n                    console.error('Welcome message missing client_id:', payload);\n                } else {\n                    // Extract client ID from payload\n                    this.clientId = payload.client_id;\n                    console.log(`WebSocket client ID received: ${this.clientId}`);\n                    \n                    // Process pending subscriptions\n                    this.processPendingSubscriptions();\n                    \n                    // Notify any waiting operations\n                    console.log('Notifying any waiting operations about client ID');\n                }\n                return;\n            }\n            \n            // Handle other messages\n            const key = `${message.type}:${message.topic}`;\n            const handlers = this.handlers[key] || [];\n            \n            for (const handler of handlers) {\n                try {\n                    handler(message.payload);\n                } catch (error) {\n                    console.error(`Error in WebSocket message handler for ${key}:`, error);\n                }\n            }\n        } catch (error) {\n            console.error('Error parsing WebSocket message:', error);\n        }\n    }\n    \n    /**\n     * Register a message handler\n     * \n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Function} handler Message handler\n     */\n    on(type, topic, handler) {\n        const key = `${type}:${topic}`;\n        \n        if (!this.handlers[key]) {\n            this.handlers[key] = [];\n        }\n        \n        this.handlers[key].push(handler);\n        \n        // Subscribe to topic if not already subscribed\n        if (type !== 'welcome' && type !== 'ack' && type !== 'error') {\n            this.subscribe(topic);\n        }\n    }\n    \n    /**\n     * Unregister a message handler\n     * \n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Function} handler Message handler\n     */\n    off(type, topic, handler) {\n        const key = `${type}:${topic}`;\n        \n        if (!this.handlers[key]) {\n            return;\n        }\n        \n        if (handler) {\n            this.handlers[key] = this.handlers[key].filter(h => h !== handler);\n        } else {\n            this.handlers[key] = [];\n        }\n        \n        // Unsubscribe from topic if no more handlers\n        if (this.handlers[key].length === 0 && type !== 'welcome' && type !== 'ack' && type !== 'error') {\n            this.unsubscribe(topic);\n        }\n    }\n    \n    /**\n     * Get the client ID\n     * \n     * @returns {string|null} Client ID or null if not connected\n     */\n    getClientId() {\n        return this.clientId;\n    }\n    \n    /**\n     * Check if connected to the WebSocket server\n     * \n     * @returns {boolean} Whether connected to the WebSocket server\n     */\n    isConnected() {\n        return this.connected;\n    }\n}\n\n/**\n * BatchDeleteRecordingsClient class\n * Handles batch delete recordings operations via WebSocket\n */\nexport class BatchDeleteRecordingsClient {\n    /**\n     * Create a new BatchDeleteRecordingsClient\n     * \n     * @param {WebSocketClient} wsClient WebSocket client\n     */\n    constructor(wsClient) {\n        this.wsClient = wsClient;\n        this.topic = 'recordings/batch-delete';\n        this.progressHandlers = [];\n        this.resultHandlers = [];\n        this.errorHandlers = [];\n        \n        // Subscribe to topic\n        this.wsClient.subscribe(this.topic);\n        \n        // Register handlers\n        this.wsClient.on('progress', this.topic, (payload) => {\n            this.handleProgress(payload);\n        });\n        \n        this.wsClient.on('result', this.topic, (payload) => {\n            this.handleResult(payload);\n        });\n        \n        this.wsClient.on('error', this.topic, (payload) => {\n            this.handleError(payload);\n        });\n    }\n    \n    /**\n     * Delete recordings with progress updates\n     * \n     * @param {Object} params Delete parameters (ids or filter)\n     * @returns {Promise<Object>} Promise that resolves when the operation is complete\n     */\n    deleteWithProgress(params) {\n        return new Promise((resolve, reject) => {\n            console.log('Starting batch delete operation with params:', params);\n            \n            // Check if WebSocket is connected\n            if (!this.wsClient.isConnected()) {\n                console.error('WebSocket not connected, attempting to connect');\n                this.wsClient.connect();\n                \n                // Wait for connection and retry\n                setTimeout(() => {\n                    if (this.wsClient.isConnected()) {\n                        console.log('WebSocket connected, retrying batch delete');\n                        this.deleteWithProgress(params)\n                            .then(resolve)\n                            .catch(reject);\n                    } else {\n                        console.error('WebSocket still not connected, falling back to HTTP');\n                        // Fallback to HTTP if available\n                        if (typeof batchDeleteRecordingsByHttpRequest === 'function') {\n                            batchDeleteRecordingsByHttpRequest(params)\n                                .then(resolve)\n                                .catch(reject);\n                        } else {\n                            reject(new Error('WebSocket not connected and HTTP fallback not available'));\n                        }\n                    }\n                }, 1000);\n                return;\n            }\n            \n            // Get client ID (should always be available now since we generate it locally)\n            const clientId = this.wsClient.getClientId();\n            console.log('Using WebSocket client ID:', clientId);\n            \n            // No need to check if client ID is available or wait for welcome message\n            // since we're generating the client ID locally\n            \n            console.log('Registering WebSocket handlers for batch delete');\n            \n            // Register one-time result handler\n            const resultHandler = (payload) => {\n                console.log('Batch delete result received:', payload);\n                this.wsClient.off('result', this.topic, resultHandler);\n                \n                // Log the full payload details for debugging\n                console.log('Batch delete result details:', JSON.stringify(payload, null, 2));\n                \n                resolve(payload);\n            };\n            \n            // Register one-time error handler\n            const errorHandler = (payload) => {\n                console.error('Batch delete error received:', payload);\n                this.wsClient.off('error', this.topic, errorHandler);\n                reject(new Error(payload.error || 'Unknown error'));\n            };\n            \n            // Register handlers for both result and progress\n            this.wsClient.on('result', this.topic, resultHandler);\n            this.wsClient.on('error', this.topic, errorHandler);\n            \n            // Make sure we're subscribed to the topic\n            // Use an empty object as payload to avoid issues\n            if (!this.wsClient.subscriptions.has(this.topic)) {\n                console.log(`Subscribing to ${this.topic} before sending request`);\n                this.wsClient.send('subscribe', this.topic, {});\n                this.wsClient.subscriptions.add(this.topic);\n                \n                // Add a small delay to ensure subscription is processed\n                setTimeout(() => {\n                    // Send the actual delete request with client ID\n                    this.sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler);\n                }, 500);\n            } else {\n                // Already subscribed, send request immediately\n                this.sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler);\n            }\n        });\n    }\n    \n    /**\n     * Send the actual delete request\n     * \n     * @param {Object} params Delete parameters\n     * @param {string} clientId Client ID\n     * @param {Function} resolve Promise resolve function\n     * @param {Function} reject Promise reject function\n     * @param {Function} resultHandler Result handler to unregister on failure\n     * @param {Function} errorHandler Error handler to unregister on failure\n     */\n    sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler) {\n        console.log('Sending batch delete request');\n        \n        // Validate params\n        if (!params.ids && !params.filter) {\n            console.error('Missing ids or filter in batch delete params');\n            this.wsClient.off('result', this.topic, resultHandler);\n            this.wsClient.off('error', this.topic, errorHandler);\n            reject(new Error('Missing ids or filter in batch delete params'));\n            return;\n        }\n        \n        // Log the IDs if present for debugging\n        if (params.ids) {\n            console.log(`Deleting ${params.ids.length} recordings with IDs:`, params.ids);\n        } else if (params.filter) {\n            console.log('Deleting recordings with filter:', params.filter);\n        }\n        \n        // Include the client ID in the request payload\n        const requestParams = {\n            ...params,\n            client_id: clientId // Add client ID to the request\n        };\n        \n        // Log the full request details for debugging\n        console.log('Full request params:', JSON.stringify(requestParams, null, 2));\n        \n        // Create the complete message\n        const message = {\n            type: 'request',\n            topic: this.topic,\n            payload: requestParams\n        };\n        \n        // Log the complete message\n        console.log('Complete WebSocket message:', JSON.stringify(message, null, 2));\n        \n        // If we have a total count from the filter, simulate an initial progress update\n        // This helps the UI show progress even if the server doesn't send updates\n        if (params.filter && params.totalCount && typeof window.updateBatchDeleteProgress === 'function') {\n            console.log('Simulating initial progress update with total count:', params.totalCount);\n            window.updateBatchDeleteProgress({\n                current: 0,\n                total: params.totalCount,\n                succeeded: 0,\n                failed: 0,\n                status: `Starting batch delete operation for ${params.totalCount} recordings...`,\n                complete: false\n            });\n        }\n        \n        // Send the request\n        try {\n            if (this.wsClient.socket && this.wsClient.socket.readyState === WebSocket.OPEN) {\n                // Send directly to ensure it works\n                this.wsClient.socket.send(JSON.stringify(message));\n                console.log('Batch delete request sent successfully via direct socket send');\n                return true;\n            } else {\n                // Fall back to the send method\n                const success = this.wsClient.send('request', this.topic, requestParams);\n                \n                if (!success) {\n                    console.error('Failed to send batch delete request');\n                    this.wsClient.off('result', this.topic, resultHandler);\n                    this.wsClient.off('error', this.topic, errorHandler);\n                    reject(new Error('Failed to send batch delete request'));\n                } else {\n                    console.log('Batch delete request sent successfully via send method');\n                }\n                \n                return success;\n            }\n        } catch (error) {\n            console.error('Error sending batch delete request:', error);\n            this.wsClient.off('result', this.topic, resultHandler);\n            this.wsClient.off('error', this.topic, errorHandler);\n            reject(error);\n            return false;\n        }\n    }\n    \n    /**\n     * Handle progress update\n     * \n     * @param {Object} payload Progress payload\n     */\n    handleProgress(payload) {\n        console.log('Batch delete progress update received:', payload);\n        \n        // Ensure payload is an object\n        let progressData = payload;\n        \n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                progressData = JSON.parse(payload);\n                console.log('Parsed progress payload:', progressData);\n            } catch (e) {\n                console.error('Error parsing progress payload:', e);\n                // Keep original payload if parsing fails\n                progressData = { error: 'Failed to parse progress data' };\n            }\n        }\n        \n        // Directly update the progress UI with the progress data\n        // This ensures the progress bar is updated even if the registered handlers don't work\n        if (typeof window.updateBatchDeleteProgress === 'function' && progressData) {\n            try {\n                console.log('Directly updating progress UI with:', progressData);\n                window.updateBatchDeleteProgress(progressData);\n            } catch (error) {\n                console.error('Error directly updating progress UI:', error);\n            }\n        }\n        \n        // Call all registered progress handlers with the progress data\n        for (const handler of this.progressHandlers) {\n            try {\n                handler(progressData);\n            } catch (error) {\n                console.error('Error in progress handler:', error);\n            }\n        }\n    }\n    \n    /**\n     * Handle result\n     * \n     * @param {Object} payload Result payload\n     */\n    handleResult(payload) {\n        console.log('Batch delete result received:', payload);\n        \n        // Ensure payload is an object\n        let resultData = payload;\n        \n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                resultData = JSON.parse(payload);\n                console.log('Parsed result payload:', resultData);\n            } catch (e) {\n                console.error('Error parsing result payload:', e);\n                // Keep original payload if parsing fails\n                resultData = { error: 'Failed to parse result data' };\n            }\n        }\n        \n        // Also update the progress UI with the final result data\n        // This ensures the progress bar shows 100% even if no progress updates were received\n        if (typeof window.updateBatchDeleteProgress === 'function' && resultData) {\n            try {\n                // Create a progress update from the result data\n                const progressUpdate = {\n                    current: resultData.total || 0,\n                    total: resultData.total || 0,\n                    succeeded: resultData.succeeded || 0,\n                    failed: resultData.failed || 0,\n                    status: 'Batch delete operation complete',\n                    complete: true\n                };\n                \n                console.log('Updating progress UI with final result:', progressUpdate);\n                window.updateBatchDeleteProgress(progressUpdate);\n            } catch (error) {\n                console.error('Error updating progress UI from result:', error);\n            }\n        }\n        \n        // Call all registered result handlers with the result data\n        for (const handler of this.resultHandlers) {\n            try {\n                handler(resultData);\n            } catch (error) {\n                console.error('Error in result handler:', error);\n            }\n        }\n    }\n    \n    /**\n     * Handle error\n     * \n     * @param {Object} payload Error payload\n     */\n    handleError(payload) {\n        console.log('Batch delete error received:', payload);\n        \n        // Ensure payload is an object\n        let errorData = payload;\n        \n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                errorData = JSON.parse(payload);\n                console.log('Parsed error payload:', errorData);\n            } catch (e) {\n                console.error('Error parsing error payload:', e);\n                // Keep original payload if parsing fails\n                errorData = { error: typeof payload === 'string' ? payload : 'Unknown error' };\n            }\n        }\n        \n        // Call all registered error handlers with the error data\n        for (const handler of this.errorHandlers) {\n            try {\n                handler(errorData);\n            } catch (error) {\n                console.error('Error in error handler:', error);\n            }\n        }\n    }\n    \n    /**\n     * Register progress handler\n     * \n     * @param {Function} handler Progress handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onProgress(handler) {\n        this.progressHandlers.push(handler);\n        \n        return () => {\n            this.progressHandlers = this.progressHandlers.filter(h => h !== handler);\n        };\n    }\n    \n    /**\n     * Register result handler\n     * \n     * @param {Function} handler Result handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onResult(handler) {\n        this.resultHandlers.push(handler);\n        \n        return () => {\n            this.resultHandlers = this.resultHandlers.filter(h => h !== handler);\n        };\n    }\n    \n    /**\n     * Register error handler\n     * \n     * @param {Function} handler Error handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onError(handler) {\n        this.errorHandlers.push(handler);\n        \n        return () => {\n            this.errorHandlers = this.errorHandlers.filter(h => h !== handler);\n        };\n    }\n}\n","import{options as n}from\"./preact.min.js\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","/**\n * LightNVR Web Interface Utility Functions\n * Shared utility functions for Preact components\n */\n\n/**\n * Fetch system version from API\n * @returns {Promise<string>} Promise that resolves to the system version\n */\nexport async function fetchSystemVersion() {\n  try {\n    const response = await fetch('/api/system');\n    if (!response.ok) {\n      throw new Error('Failed to load system information');\n    }\n    \n    const data = await response.json();\n    return data.version || '';\n  } catch (error) {\n    console.error('Error loading system version:', error);\n    return '';\n  }\n}\n","/**\n * LightNVR Web Interface Header Component\n * Preact component for the site header\n */\n\nimport { h } from '../../preact.min.js';\nimport { useState } from '../../preact.hooks.module.js';\nimport { html } from '../../html-helper.js';\nimport { fetchSystemVersion } from './utils.js';\n\n/**\n * Header component\n * @param {Object} props - Component props\n * @param {string} props.activeNav - ID of the active navigation item\n * @param {string} props.version - System version\n * @returns {JSX.Element} Header component\n */\nexport function Header({ activeNav = '', version = '' }) {\n  const [username, setUsername] = useState('');\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  // Get the currently logged in username from localStorage\n  useState(() => {\n    const auth = localStorage.getItem('auth');\n    if (auth) {\n      try {\n        // Decode the base64 auth string (username:password)\n        const decoded = atob(auth);\n        // Extract the username (everything before the colon)\n        const extractedUsername = decoded.split(':')[0];\n        setUsername(extractedUsername);\n      } catch (error) {\n        console.error('Error decoding auth token:', error);\n        setUsername('User');\n      }\n    } else {\n      setUsername('User');\n    }\n  }, []);\n\n  // Handle logout\n  const handleLogout = (e) => {\n    e.preventDefault();\n\n    // Clear localStorage\n    localStorage.removeItem('auth');\n\n    // Call the logout endpoint to clear browser's basic auth cache\n    fetch('/api/auth/logout', {\n      method: 'POST'\n    }).then(() => {\n      // Redirect to login page\n      window.location.href = 'login.html?logout=true';\n    }).catch(() => {\n      // Redirect even if the request fails\n      window.location.href = 'login.html?logout=true';\n    });\n  };\n\n  // Toggle mobile menu\n  const toggleMobileMenu = () => {\n    setMobileMenuOpen(!mobileMenuOpen);\n  };\n\n  // Navigation items\n  const navItems = [\n    { id: 'nav-live', href: 'index.html', label: 'Live View' },\n    { id: 'nav-recordings', href: 'recordings.html', label: 'Recordings' },\n    { id: 'nav-streams', href: 'streams.html', label: 'Streams' },\n    { id: 'nav-settings', href: 'settings.html', label: 'Settings' },\n    { id: 'nav-users', href: 'users.html', label: 'Users' },\n    { id: 'nav-system', href: 'system.html', label: 'System' }\n  ];\n\n  // Render navigation item\n  const renderNavItem = (item) => {\n    const isActive = activeNav === item.id;\n    const baseClasses = \"text-white no-underline rounded transition-colors\";\n    const desktopClasses = \"px-3 py-2\";\n    const mobileClasses = \"block w-full px-4 py-3 text-left\";\n    const activeClass = isActive ? 'bg-blue-600' : 'hover:bg-blue-700';\n\n    return html`\n      <li class=${mobileMenuOpen ? \"w-full\" : \"mx-1\"}>\n        <a\n          href=\"${item.href}\"\n          id=${item.id}\n          class=${`${baseClasses} ${mobileMenuOpen ? mobileClasses : desktopClasses} ${activeClass}`}\n          onClick=${mobileMenuOpen ? toggleMobileMenu : null}\n        >\n          ${item.label}\n        </a>\n      </li>\n    `;\n  };\n\n  return html`\n    <header class=\"bg-gray-800 text-white py-2 shadow-md mb-4 w-full\">\n      <div class=\"container mx-auto px-4 flex justify-between items-center\">\n        <div class=\"logo flex items-center\">\n          <h1 class=\"text-xl font-bold m-0\">LightNVR</h1>\n          <span class=\"version text-blue-200 text-xs ml-2\">v${version}</span>\n        </div>\n\n        <!-- Desktop Navigation -->\n        <nav class=\"hidden md:block\">\n          <ul class=\"flex list-none m-0 p-0\">\n            ${navItems.map(renderNavItem)}\n          </ul>\n        </nav>\n\n        <!-- User Menu (Desktop) -->\n        <div class=\"user-menu hidden md:flex items-center\">\n          <span class=\"mr-2\">${username}</span>\n          <a href=\"#\" onClick=${handleLogout} class=\"text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors\">Logout</a>\n        </div>\n\n        <!-- Mobile Menu Button -->\n        <button\n          class=\"md:hidden text-white p-2 focus:outline-none\"\n          onClick=${toggleMobileMenu}\n          aria-label=\"Toggle menu\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=${mobileMenuOpen ? \"M6 18L18 6M6 6l12 12\" : \"M4 6h16M4 12h16M4 18h16\"} />\n          </svg>\n        </button>\n      </div>\n\n      <!-- Mobile Navigation -->\n      ${mobileMenuOpen ? html`\n        <div class=\"md:hidden mt-2 border-t border-gray-700 pt-2 container mx-auto px-4\">\n          <ul class=\"list-none m-0 p-0 flex flex-col w-full\">\n            ${navItems.map(renderNavItem)}\n            <li class=\"w-full mt-2 pt-2 border-t border-gray-700\">\n              <div class=\"flex justify-between items-center px-4 py-2\">\n                <span>${username}</span>\n                <a href=\"#\" onClick=${handleLogout} class=\"text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors\">Logout</a>\n              </div>\n            </li>\n          </ul>\n        </div>\n      ` : null}\n    </header>\n  `;\n}\n\n/**\n * Load header with active navigation item\n * @param {string} activeNav - ID of the active navigation item\n */\nexport function loadHeader(activeNav = '') {\n  const headerContainer = document.getElementById('header-container');\n  if (!headerContainer) return;\n\n  // Fetch system version and render the Header component\n  fetchSystemVersion().then(version => {\n    import('../../preact.min.js').then(({ render }) => {\n      render(html`<${Header} activeNav=${activeNav} version=${version} />`, headerContainer);\n    });\n  });\n}\n","/**\n * LightNVR Web Interface Footer Component\n * Preact component for the site footer\n */\n\nimport { h } from '../../preact.min.js';\nimport { useState } from '../../preact.hooks.module.js';\nimport { html } from '../../html-helper.js';\nimport { fetchSystemVersion } from './utils.js';\n\n/**\n * Footer component\n * @param {Object} props - Component props\n * @param {string} props.version - System version\n * @returns {JSX.Element} Footer component\n */\nexport function Footer({ version = '' }) {\n  const [year] = useState(new Date().getFullYear());\n  \n  return html`\n    <footer class=\"bg-gray-800 text-white py-4 px-4 mt-4 shadow-inner\">\n      <div class=\"container mx-auto flex flex-col sm:flex-row justify-between items-center\">\n        <div class=\"text-center sm:text-left mb-2 sm:mb-0\">\n          <p class=\"text-sm\">© ${year} LightNVR</p>\n          <p class=\"text-xs text-gray-400 mt-1 hidden sm:block\">Lightweight Network Video Recorder</p>\n        </div>\n        <div class=\"flex flex-col sm:flex-row items-center\">\n          <span class=\"text-sm mb-2 sm:mb-0 sm:mr-4\">Version ${version}</span>\n          <div class=\"flex space-x-4\">\n            <a href=\"https://github.com/opensensor/lightnvr\" class=\"text-blue-300 hover:text-blue-100 text-sm\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>\n          </div>\n        </div>\n      </div>\n    </footer>\n  `;\n}\n\n/**\n * Load footer\n */\nexport function loadFooter() {\n  const footerContainer = document.getElementById('footer-container');\n  if (!footerContainer) return;\n  \n  // Fetch system version and render the Footer component\n  fetchSystemVersion().then(version => {\n    import('../../preact.min.js').then(({ render }) => {\n      render(html`<${Footer} version=${version} />`, footerContainer);\n    });\n  });\n}\n","/**\n * UI utility functions for LiveView\n */\n\nimport { h } from '../../preact.min.js';\nimport { html } from '../../html-helper.js';\n\n/**\n * Set up modals for the application\n */\nexport function setupModals() {\n  // Create snapshot modal container if it doesn't exist\n  let snapshotModalContainer = document.getElementById('snapshot-modal-container');\n  if (!snapshotModalContainer) {\n    snapshotModalContainer = document.createElement('div');\n    snapshotModalContainer.id = 'snapshot-modal-container';\n    document.body.appendChild(snapshotModalContainer);\n  }\n  \n  // Create snapshot preview modal\n  const snapshotModal = document.createElement('div');\n  snapshotModal.id = 'snapshot-preview-modal';\n  snapshotModal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden';\n  \n  snapshotModal.innerHTML = `\n    <div class=\"modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0\" style=\"width: 90%;\">\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 id=\"snapshot-preview-title\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">Snapshot</h3>\n        <button class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">✕</button>\n      </div>\n      <div class=\"p-4 overflow-auto flex-grow\">\n        <img id=\"snapshot-preview-image\" class=\"max-w-full max-h-[70vh] mx-auto\" src=\"\" alt=\"Snapshot\">\n      </div>\n      <div class=\"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2\">\n        <button id=\"snapshot-download-btn\" class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\">Download</button>\n        <button id=\"snapshot-close-btn\" class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\">Close</button>\n      </div>\n    </div>\n  `;\n  \n  snapshotModalContainer.appendChild(snapshotModal);\n  \n  // Create video modal container if it doesn't exist\n  let videoModalContainer = document.getElementById('video-modal-container');\n  if (!videoModalContainer) {\n    videoModalContainer = document.createElement('div');\n    videoModalContainer.id = 'video-modal-container';\n    document.body.appendChild(videoModalContainer);\n  }\n  \n  // Create video preview modal\n  const videoModal = document.createElement('div');\n  videoModal.id = 'video-preview-modal';\n  videoModal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden';\n  \n  videoModal.innerHTML = `\n    <div class=\"modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0 w-full md:w-[90%]\">\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 id=\"video-preview-title\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">Video</h3>\n        <button class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">✕</button>\n      </div>\n      <div class=\"p-4 flex-grow\">\n        <video id=\"video-preview-player\" class=\"w-full h-auto max-w-full object-contain mx-auto\" controls autoplay></video>\n      </div>\n      <div class=\"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2\">\n        <a id=\"video-download-btn\" class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\" href=\"#\" download>Download</a>\n        <button id=\"video-close-btn\" class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\">Close</button>\n      </div>\n    </div>\n  `;\n  \n  videoModalContainer.appendChild(videoModal);\n  \n  // Set up event listeners for modals\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n      // Close any open modals\n      const modals = document.querySelectorAll('.fixed.inset-0.bg-black.bg-opacity-75');\n      modals.forEach(modal => {\n        if (!modal.classList.contains('hidden')) {\n          modal.classList.add('hidden');\n        }\n      });\n    }\n  });\n}\n\n/**\n * Add status message styles to the document\n */\nexport function addStatusMessageStyles() {\n  // Import the toast module to ensure it's loaded\n  import('./toast.js').then(({ initToastContainer }) => {\n    // Initialize the toast container\n    initToastContainer(false);\n  }).catch(error => {\n    console.error('Error loading toast module:', error);\n    \n    // Fallback to basic styles if toast module fails to load\n    if (document.getElementById('status-message-styles')) {\n      return;\n    }\n    \n    // Create style element\n    const style = document.createElement('style');\n    style.id = 'status-message-styles';\n    \n    // Add CSS rules\n    style.textContent = `\n      #status-message-container {\n        position: fixed;\n        top: 1rem;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n      \n      .status-message {\n        background-color: #1f2937;\n        color: white;\n        padding: 0.5rem 1rem;\n        border-radius: 0.375rem;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n        margin-bottom: 0.5rem;\n        transition: all 0.3s ease;\n        opacity: 0;\n        transform: translateY(-0.5rem);\n      }\n      \n      .status-message.show {\n        opacity: 1;\n        transform: translateY(0);\n      }\n      \n      .status-message.success {\n        background-color: #10b981;\n      }\n      \n      .status-message.error {\n        background-color: #ef4444;\n      }\n      \n      .status-message.warning {\n        background-color: #f59e0b;\n      }\n      \n      .status-message.info {\n        background-color: #3b82f6;\n      }\n    `;\n    \n    // Add to document head\n    document.head.appendChild(style);\n  });\n}\n\n/**\n * Add modal styles to the document\n */\nexport function addModalStyles() {\n  // Check if styles already exist\n  if (document.getElementById('modal-styles')) {\n    return;\n  }\n  \n  // Create style element\n  const style = document.createElement('style');\n  style.id = 'modal-styles';\n  \n  // Add CSS rules\n  style.textContent = `\n    .modal-content {\n      transition: all 0.3s ease-out;\n    }\n    \n    .modal-content.scale-95 {\n      transform: scale(0.95);\n      opacity: 0;\n    }\n    \n    .modal-content.scale-100 {\n      transform: scale(1);\n      opacity: 1;\n    }\n  `;\n  \n  // Add to document head\n  document.head.appendChild(style);\n}\n\n/**\n * DeleteConfirmationModal component for Preact\n * This is the declarative version for use with Preact JSX\n * @param {Object} props - Component props\n * @param {boolean} props.isOpen - Whether the modal is open\n * @param {Function} props.onClose - Function to call when the modal is closed\n * @param {Function} props.onConfirm - Function to call when delete is confirmed\n * @param {string} props.mode - Delete mode ('selected' or 'all')\n * @param {number} props.count - Number of items selected (for 'selected' mode)\n * @returns {JSX.Element} DeleteConfirmationModal component\n */\nexport function DeleteConfirmationModal(props) {\n  const { isOpen, onClose, onConfirm, mode, count } = props;\n  \n  if (!isOpen) return null;\n  \n  // Determine title and message based on mode\n  let title = 'Confirm Delete';\n  let message = 'Are you sure you want to delete this item?';\n  \n  if (mode === 'selected') {\n    title = 'Delete Selected Recordings';\n    message = `Are you sure you want to delete ${count} selected recording${count !== 1 ? 's' : ''}?`;\n  } else if (mode === 'all') {\n    title = 'Delete All Filtered Recordings';\n    message = 'Are you sure you want to delete all recordings matching the current filters? This action cannot be undone.';\n  }\n  \n  // Handle escape key\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n  \n  // Handle background click\n  const handleBackgroundClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n  \n  return html`\n    <div \n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      onClick=${handleBackgroundClick}\n      onKeyDown=${handleKeyDown}\n    >\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-md mx-auto\">\n        <div class=\"mb-4\">\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">${title}</h3>\n        </div>\n        \n        <p class=\"text-gray-600 dark:text-gray-300 mb-6\">${message}</p>\n        \n        <div class=\"flex justify-end space-x-3\">\n          <button \n            class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\"\n            onClick=${onClose}\n          >\n            Cancel\n          </button>\n          <button \n            class=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n            onClick=${onConfirm}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n/**\n * Show a video modal\n * @param {string} videoUrl - URL of the video to display\n * @param {string} title - Title for the video\n * @param {string} downloadUrl - Optional URL for downloading the video\n */\nexport function showVideoModal(videoUrl, title, downloadUrl) {\n  // Create overlay container\n  const overlay = document.createElement('div');\n  overlay.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';\n  overlay.id = 'video-modal-overlay';\n  \n  // Create modal container with responsive classes\n  const modalContainer = document.createElement('div');\n  modalContainer.className = 'bg-gray-50 dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl flex flex-col w-full md:w-[90%]';\n  \n  // Create header\n  const header = document.createElement('div');\n  header.className = 'flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700';\n  \n  const titleElement = document.createElement('h3');\n  titleElement.className = 'text-lg font-semibold text-gray-900 dark:text-white';\n  titleElement.textContent = title || 'Video';\n  \n  const closeButton = document.createElement('button');\n  closeButton.className = 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200';\n  closeButton.innerHTML = '✕';\n  closeButton.addEventListener('click', () => {\n    document.body.removeChild(overlay);\n  });\n  \n  header.appendChild(titleElement);\n  header.appendChild(closeButton);\n  \n  // Create video container with responsive classes\n  const videoContainer = document.createElement('div');\n  videoContainer.className = 'p-4';\n  \n  const video = document.createElement('video');\n  video.src = videoUrl;\n  video.className = 'w-full h-auto max-w-full object-contain mx-auto';\n  video.controls = true;\n  video.autoplay = true;\n  \n  videoContainer.appendChild(video);\n  \n  // Create controls container with responsive Tailwind classes\n  const controlsContainer = document.createElement('div');\n  controlsContainer.id = 'recordings-controls';\n  controlsContainer.className = 'mx-4 mb-4 p-4 border border-green-500 rounded-lg bg-white dark:bg-gray-700 shadow-md relative z-10';\n  \n  // Create heading\n  const heading = document.createElement('h3');\n  heading.className = 'text-lg font-bold text-center mb-4 text-gray-800 dark:text-white';\n  heading.textContent = 'PLAYBACK CONTROLS';\n  controlsContainer.appendChild(heading);\n  \n  // Create controls grid container\n  const controlsGrid = document.createElement('div');\n  controlsGrid.className = 'grid grid-cols-1 md:grid-cols-2 gap-4 mb-2';\n  \n  // Create speed controls section\n  const speedControlsSection = document.createElement('div');\n  speedControlsSection.className = 'border-b pb-4 md:border-b-0 md:border-r md:pr-4 md:pb-0';\n  \n  // Create speed section heading\n  const speedHeading = document.createElement('h4');\n  speedHeading.className = 'font-bold text-center mb-3 text-gray-700 dark:text-gray-300';\n  speedHeading.textContent = 'Playback Speed';\n  speedControlsSection.appendChild(speedHeading);\n  \n  // Create speed buttons container\n  const speedButtonsContainer = document.createElement('div');\n  speedButtonsContainer.className = 'flex flex-wrap justify-center gap-2';\n  \n  // Create speed buttons\n  const speeds = [0.25, 0.5, 1.0, 1.5, 2.0, 4.0];\n  speeds.forEach(speed => {\n    const button = document.createElement('button');\n    button.textContent = speed === 1.0 ? '1× (Normal)' : `${speed}×`;\n    button.className = speed === 1.0 \n      ? 'speed-btn px-3 py-2 rounded-full bg-green-500 text-white text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50'\n      : 'speed-btn px-3 py-2 rounded-full bg-gray-200 hover:bg-gray-300 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50';\n    button.setAttribute('data-speed', speed);\n    \n    // Add click event\n    button.addEventListener('click', () => {\n      // Set playback speed\n      video.playbackRate = speed;\n      \n      // Update button styles\n      speedButtonsContainer.querySelectorAll('.speed-btn').forEach(btn => {\n        if (btn.getAttribute('data-speed') === speed.toString()) {\n          btn.classList.remove('bg-gray-200', 'hover:bg-gray-300');\n          btn.classList.add('bg-green-500', 'text-white');\n        } else {\n          btn.classList.remove('bg-green-500', 'text-white');\n          btn.classList.add('bg-gray-200', 'hover:bg-gray-300');\n        }\n      });\n      \n      // Update current speed indicator\n      currentSpeedIndicator.textContent = `Current Speed: ${speed}× ${speed === 1.0 ? '(Normal)' : ''}`;\n    });\n    \n    speedButtonsContainer.appendChild(button);\n  });\n  \n  // Add buttons container to speed controls section\n  speedControlsSection.appendChild(speedButtonsContainer);\n  \n  // Add current speed indicator\n  const currentSpeedIndicator = document.createElement('div');\n  currentSpeedIndicator.id = 'current-speed-indicator';\n  currentSpeedIndicator.className = 'mt-3 text-center font-medium text-green-600 dark:text-green-400 text-sm';\n  currentSpeedIndicator.textContent = 'Current Speed: 1× (Normal)';\n  speedControlsSection.appendChild(currentSpeedIndicator);\n  \n  // Add speed controls section to grid\n  controlsGrid.appendChild(speedControlsSection);\n  \n  // Create detection overlay section\n  const detectionSection = document.createElement('div');\n  detectionSection.className = 'pt-4 md:pt-0 md:pl-4';\n  \n  // Create detection section heading\n  const detectionHeading = document.createElement('h4');\n  detectionHeading.className = 'font-bold text-center mb-2 text-gray-700 dark:text-gray-300';\n  detectionHeading.textContent = 'Detection Overlays';\n  detectionSection.appendChild(detectionHeading);\n  \n  // Create detection controls container\n  const detectionControlsContainer = document.createElement('div');\n  detectionControlsContainer.className = 'flex flex-col items-center gap-2';\n  \n  // Create detection checkbox container\n  const detectionCheckboxContainer = document.createElement('div');\n  detectionCheckboxContainer.className = 'flex items-center gap-2 mb-2';\n  \n  // Create detection checkbox\n  const detectionCheckbox = document.createElement('input');\n  detectionCheckbox.type = 'checkbox';\n  detectionCheckbox.id = 'detection-overlay-checkbox';\n  detectionCheckbox.className = 'w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600';\n  \n  // Create detection checkbox label\n  const detectionCheckboxLabel = document.createElement('label');\n  detectionCheckboxLabel.htmlFor = 'detection-overlay-checkbox';\n  detectionCheckboxLabel.className = 'text-sm font-medium text-gray-700 dark:text-gray-300';\n  detectionCheckboxLabel.textContent = 'Show Detection Overlays';\n  \n  // Add checkbox and label to container\n  detectionCheckboxContainer.appendChild(detectionCheckbox);\n  detectionCheckboxContainer.appendChild(detectionCheckboxLabel);\n  \n  // Add checkbox container to detection controls\n  detectionControlsContainer.appendChild(detectionCheckboxContainer);\n  \n  // Create sensitivity slider container\n  const sensitivityContainer = document.createElement('div');\n  sensitivityContainer.className = 'flex flex-col w-full mt-2 mb-2';\n  \n  // Create sensitivity label\n  const sensitivityLabel = document.createElement('label');\n  sensitivityLabel.htmlFor = 'detection-sensitivity-slider';\n  sensitivityLabel.className = 'text-sm font-medium text-gray-700 dark:text-gray-300 mb-1';\n  sensitivityLabel.textContent = 'Detection Sensitivity';\n  \n  // Create sensitivity value display\n  const sensitivityValue = document.createElement('div');\n  sensitivityValue.id = 'detection-sensitivity-value';\n  sensitivityValue.className = 'text-xs text-gray-600 dark:text-gray-400 text-center mb-1';\n  sensitivityValue.textContent = 'Time Window: 2 seconds';\n  \n  // Create sensitivity slider\n  const sensitivitySlider = document.createElement('input');\n  sensitivitySlider.type = 'range';\n  sensitivitySlider.id = 'detection-sensitivity-slider';\n  sensitivitySlider.className = 'w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700';\n  sensitivitySlider.min = '1';\n  sensitivitySlider.max = '10';\n  sensitivitySlider.step = '1';\n  sensitivitySlider.value = '2';\n  \n  // Add elements to sensitivity container\n  sensitivityContainer.appendChild(sensitivityLabel);\n  sensitivityContainer.appendChild(sensitivitySlider);\n  sensitivityContainer.appendChild(sensitivityValue);\n  \n  // Add event listener to the sensitivity slider\n  sensitivitySlider.addEventListener('input', () => {\n    // Update the time window value\n    timeWindow = parseInt(sensitivitySlider.value);\n    \n    // Update the sensitivity value display\n    sensitivityValue.textContent = `Time Window: ${timeWindow} second${timeWindow !== 1 ? 's' : ''}`;\n    \n    // Redraw detections if enabled\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n  \n  // Add sensitivity container to detection controls\n  detectionControlsContainer.appendChild(sensitivityContainer);\n  \n  // Create detection status indicator\n  const detectionStatusIndicator = document.createElement('div');\n  detectionStatusIndicator.id = 'detection-status-indicator';\n  detectionStatusIndicator.className = 'text-center text-sm text-gray-600 dark:text-gray-400';\n  detectionStatusIndicator.textContent = 'No detections loaded';\n  \n  // Add status indicator to detection controls\n  detectionControlsContainer.appendChild(detectionStatusIndicator);\n  \n  // Add detection controls to detection section\n  detectionSection.appendChild(detectionControlsContainer);\n  \n  // Add detection section to grid\n  controlsGrid.appendChild(detectionSection);\n  \n  // Add controls grid to container\n  controlsContainer.appendChild(controlsGrid);\n  \n  // Add download button to controls container\n  if (downloadUrl) {\n    const downloadSection = document.createElement('div');\n    downloadSection.className = 'flex justify-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-700';\n    \n    const downloadButton = document.createElement('a');\n    downloadButton.className = 'px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center text-sm';\n    downloadButton.innerHTML = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n      </svg>\n      Download Video\n    `;\n    downloadButton.href = downloadUrl;\n    downloadButton.download = `video-${Date.now()}.mp4`;\n    \n    downloadSection.appendChild(downloadButton);\n    controlsContainer.appendChild(downloadSection);\n  }\n  \n  // Create empty footer for spacing\n  const footer = document.createElement('div');\n  footer.className = 'p-2';\n  \n  // Create detection overlay canvas container\n  const canvasContainer = document.createElement('div');\n  canvasContainer.className = 'relative';\n  canvasContainer.style.position = 'relative';\n  canvasContainer.style.width = '100%';\n  canvasContainer.style.height = '100%';\n  \n  // Create detection overlay canvas\n  const detectionCanvas = document.createElement('canvas');\n  detectionCanvas.id = 'detection-overlay-canvas';\n  detectionCanvas.className = 'absolute top-0 left-0 w-full h-full pointer-events-none';\n  detectionCanvas.style.position = 'absolute';\n  detectionCanvas.style.top = '0';\n  detectionCanvas.style.left = '0';\n  detectionCanvas.style.width = '100%';\n  detectionCanvas.style.height = '100%';\n  detectionCanvas.style.pointerEvents = 'none';\n  detectionCanvas.style.display = 'none'; // Hidden by default\n  \n  // Wrap video in canvas container\n  canvasContainer.appendChild(video);\n  canvasContainer.appendChild(detectionCanvas);\n  videoContainer.appendChild(canvasContainer);\n  \n  // Store recording data for detection overlay\n  let recordingData = null;\n  let detections = [];\n  let detectionOverlayEnabled = false;\n  let timeWindow = parseInt(sensitivitySlider.value); // Time window in seconds for detection visibility\n  \n  // Extract recording ID from URL\n  const recordingIdMatch = videoUrl.match(/\\/play\\/(\\d+)/);\n  if (recordingIdMatch && recordingIdMatch[1]) {\n    const recordingId = parseInt(recordingIdMatch[1], 10);\n    \n    // Fetch recording data\n    fetch(`/api/recordings/${recordingId}`)\n      .then(response => response.json())\n      .then(data => {\n        recordingData = data;\n        \n        // Check if recording has detections\n        if (recordingData && recordingData.stream && recordingData.start_time && recordingData.end_time) {\n          // Convert timestamps to seconds\n          const startTime = Math.floor(new Date(recordingData.start_time).getTime() / 1000);\n          const endTime = Math.floor(new Date(recordingData.end_time).getTime() / 1000);\n          \n          // Query the detections API\n          const params = new URLSearchParams({\n            start: startTime,\n            end: endTime\n          });\n          \n          return fetch(`/api/detection/results/${recordingData.stream}?${params.toString()}`);\n        }\n        \n        throw new Error('Recording data incomplete');\n      })\n      .then(response => response.json())\n      .then(data => {\n        detections = data.detections || [];\n        \n        if (detections.length > 0) {\n          detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n          detectionStatusIndicator.className = 'text-center text-sm font-medium text-green-600 dark:text-green-400';\n          \n          // Enable checkbox\n          detectionCheckbox.disabled = false;\n        } else {\n          detectionStatusIndicator.textContent = 'No detections found for this recording';\n          \n          // Disable checkbox\n          detectionCheckbox.disabled = true;\n        }\n      })\n      .catch(error => {\n        console.error('Error fetching detection data:', error);\n        detectionStatusIndicator.textContent = 'Error loading detections';\n        detectionStatusIndicator.className = 'text-center text-sm font-medium text-red-600 dark:text-red-400';\n        \n        // Disable checkbox\n        detectionCheckbox.disabled = true;\n      });\n  }\n  \n  // Handle detection overlay checkbox change\n  detectionCheckbox.addEventListener('change', () => {\n    detectionOverlayEnabled = detectionCheckbox.checked;\n    \n    if (detectionOverlayEnabled) {\n      // Show canvas\n      detectionCanvas.style.display = 'block';\n      \n      // Draw detections\n      drawDetections();\n      \n      // Update status\n      detectionStatusIndicator.textContent = `Showing ${detections.length} detection${detections.length !== 1 ? 's' : ''}`;\n    } else {\n      // Hide canvas\n      detectionCanvas.style.display = 'none';\n      \n      // Update status\n      detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n    }\n  });\n  \n  // Function to draw detections on canvas\n  function drawDetections() {\n    if (!detectionOverlayEnabled || !video || !detectionCanvas || detections.length === 0) {\n      return;\n    }\n    \n    // Get video dimensions\n    const videoWidth = video.videoWidth;\n    const videoHeight = video.videoHeight;\n    \n    if (videoWidth === 0 || videoHeight === 0) {\n      // Video dimensions not available yet, try again later\n      requestAnimationFrame(drawDetections);\n      return;\n    }\n    \n    // Set canvas dimensions to match video\n    detectionCanvas.width = videoWidth;\n    detectionCanvas.height = videoHeight;\n    \n    // Get canvas context\n    const ctx = detectionCanvas.getContext('2d');\n    ctx.clearRect(0, 0, detectionCanvas.width, detectionCanvas.height);\n    \n    // Get current video time in seconds\n    const currentTime = video.currentTime;\n    \n    // Calculate the timestamp for the current video position\n    // We need to convert from video time (seconds from start of video) to unix timestamp\n    if (!recordingData || !recordingData.start_time) {\n      return;\n    }\n    \n    // Convert recording start time to seconds\n    const recordingStartTime = Math.floor(new Date(recordingData.start_time).getTime() / 1000);\n    \n    // Calculate current timestamp in the video\n    const currentTimestamp = recordingStartTime + Math.floor(currentTime);\n    \n    // Use the time window value from the slider\n    // timeWindow is already defined at the top level\n    \n    // Filter detections to only show those within the time window\n    const visibleDetections = detections.filter(detection => {\n      if (!detection.timestamp) return false;\n      \n      // Check if detection is within the time window\n      return Math.abs(detection.timestamp - currentTimestamp) <= timeWindow;\n    });\n    \n    // Update status indicator with count of visible detections\n    if (detectionStatusIndicator) {\n      if (visibleDetections.length > 0) {\n        detectionStatusIndicator.textContent = `Showing ${visibleDetections.length} detection${visibleDetections.length !== 1 ? 's' : ''} at current time`;\n      } else {\n        detectionStatusIndicator.textContent = `No detections at current time (${detections.length} total)`;\n      }\n    }\n    \n    // Draw each visible detection\n    visibleDetections.forEach(detection => {\n      // Calculate coordinates based on relative positions\n      const x = detection.x * videoWidth;\n      const y = detection.y * videoHeight;\n      const width = detection.width * videoWidth;\n      const height = detection.height * videoHeight;\n      \n      // Draw bounding box\n      ctx.strokeStyle = 'rgba(0, 255, 0, 0.8)';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(x, y, width, height);\n      \n      // Draw label background\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n      const labelText = `${detection.label} (${Math.round(detection.confidence * 100)}%)`;\n      const labelWidth = ctx.measureText(labelText).width + 10;\n      ctx.fillRect(x, y - 20, labelWidth, 20);\n      \n      // Draw label text\n      ctx.fillStyle = 'white';\n      ctx.font = '12px Arial';\n      ctx.fillText(labelText, x + 5, y - 5);\n    });\n    \n    // Request next frame if video is playing\n    if (!video.paused && !video.ended) {\n      requestAnimationFrame(drawDetections);\n    }\n  }\n  \n  // Handle video events\n  video.addEventListener('play', () => {\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n  \n  video.addEventListener('seeked', () => {\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n  \n  // Add timeupdate event to update detections as video plays\n  video.addEventListener('timeupdate', () => {\n    if (detectionOverlayEnabled) {\n      // Don't redraw on every timeupdate as it's too frequent\n      // Instead, redraw every 0.5 seconds\n      const currentTime = Math.floor(video.currentTime * 2) / 2;\n      if (video.lastDrawnTime !== currentTime) {\n        video.lastDrawnTime = currentTime;\n        drawDetections();\n      }\n    }\n  });\n  \n  // Assemble the modal\n  modalContainer.appendChild(header);\n  modalContainer.appendChild(videoContainer);\n  modalContainer.appendChild(controlsContainer); // Add controls\n  modalContainer.appendChild(footer);\n  overlay.appendChild(modalContainer);\n  \n  // Add to document\n  document.body.appendChild(overlay);\n  \n  // Add event listener to close on escape key\n  const handleEscape = (e) => {\n    if (e.key === 'Escape') {\n      if (document.body.contains(overlay)) {\n        document.body.removeChild(overlay);\n      }\n      document.removeEventListener('keydown', handleEscape);\n    }\n  };\n  \n  document.addEventListener('keydown', handleEscape);\n  \n  // Add event listener to close on background click\n  overlay.addEventListener('click', (e) => {\n    if (e.target === overlay) {\n      document.body.removeChild(overlay);\n    }\n  });\n}\n\n/**\n * Show a status message to the user\n * @param {string} message - Message to display\n * @param {string} type - Message type ('success', 'error', 'warning', 'info')\n * @param {number} duration - Duration in milliseconds (default: 4000)\n */\nexport function showStatusMessage(message, type = 'info', duration = 4000) {\n  console.log(`Showing status message: ${message} (${type})`);\n  \n  // Try to use the global toast functions first (they should be available)\n  if (window.showToast) {\n    window.showToast(message, type, duration);\n    return;\n  }\n  \n  // If global functions aren't available, import the toast module dynamically\n  import('./toast.js').then(({ showStatusMessage: showToast }) => {\n    // Use the toast system\n    showToast(message, type, duration);\n  }).catch(error => {\n    console.error('Error loading toast module:', error);\n    \n    // Fallback to basic implementation if toast module fails to load\n    let statusContainer = document.getElementById('status-message-container');\n    \n    // Create container if it doesn't exist\n    if (!statusContainer) {\n      statusContainer = document.createElement('div');\n      statusContainer.id = 'status-message-container';\n      statusContainer.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center';\n      document.body.appendChild(statusContainer);\n    }\n  \n    // Create message element\n    const messageElement = document.createElement('div');\n    \n    // Set class based on type\n    let typeClass = 'bg-blue-500'; // Default for info\n    if (type === 'success') {\n      typeClass = 'bg-green-500';\n    } else if (type === 'error') {\n      typeClass = 'bg-red-500';\n    } else if (type === 'warning') {\n      typeClass = 'bg-yellow-500';\n    }\n    \n    messageElement.className = `${typeClass} text-white px-4 py-2 rounded-lg shadow-lg mb-2 transition-all duration-300 opacity-0 transform translate-y-2`;\n    messageElement.textContent = message;\n    \n    // Add to container\n    statusContainer.appendChild(messageElement);\n    \n    // Trigger animation to show message\n    setTimeout(() => {\n      messageElement.classList.remove('opacity-0', 'translate-y-2');\n    }, 10);\n    \n    // Set timeout to remove message\n    setTimeout(() => {\n      // Trigger animation to hide message\n      messageElement.classList.add('opacity-0', 'translate-y-2');\n      \n      // Remove element after animation completes\n      setTimeout(() => {\n        if (messageElement.parentNode === statusContainer) {\n          statusContainer.removeChild(messageElement);\n        }\n        \n        // Remove container if no more messages\n        if (statusContainer.children.length === 0 && statusContainer.parentNode === document.body) {\n          document.body.removeChild(statusContainer);\n        }\n      }, 300);\n    }, duration);\n  });\n}\n\n/**\n * Show a snapshot preview in a modal\n * @param {string} imageData - The image data URL\n * @param {string} streamName - The name of the stream\n */\nexport function showSnapshotPreview(imageData, streamName) {\n  // Get the existing snapshot modal created by setupModals()\n  const snapshotModal = document.getElementById('snapshot-preview-modal');\n  \n  if (!snapshotModal) {\n    console.error('Snapshot modal not found. Make sure setupModals() has been called.');\n    return;\n  }\n  \n  // Get modal elements\n  const snapshotTitle = document.getElementById('snapshot-preview-title');\n  const snapshotImage = document.getElementById('snapshot-preview-image');\n  const snapshotDownloadBtn = document.getElementById('snapshot-download-btn');\n  const snapshotCloseBtn = document.getElementById('snapshot-close-btn');\n  const closeButtons = snapshotModal.querySelectorAll('.close');\n  const modalContent = snapshotModal.querySelector('.modal-content');\n  \n  // Set the title and image\n  if (snapshotTitle) snapshotTitle.textContent = `Snapshot: ${streamName}`;\n  \n  // Store the image data directly on the modal for later access\n  snapshotModal.dataset.imageData = imageData;\n  snapshotModal.dataset.streamName = streamName;\n  \n  // Ensure the image is properly displayed\n  if (snapshotImage) {\n    snapshotImage.src = imageData;\n    snapshotImage.style.display = 'block'; // Make sure it's visible\n    snapshotImage.onload = () => {\n      console.log('Snapshot image loaded successfully');\n    };\n    snapshotImage.onerror = (e) => {\n      console.error('Error loading snapshot image:', e);\n    };\n  }\n  \n  // Define close modal function\n  function closeModal() {\n    snapshotModal.classList.add('hidden');\n    if (modalContent) {\n      modalContent.classList.remove('scale-100');\n      modalContent.classList.add('scale-95');\n    }\n  }\n  \n  // Set up close button event handlers\n  if (snapshotCloseBtn) {\n    snapshotCloseBtn.onclick = closeModal;\n  }\n  \n  closeButtons.forEach(button => {\n    button.onclick = closeModal;\n  });\n  \n  // Close on click outside\n  snapshotModal.onclick = function(event) {\n    if (event.target === snapshotModal) {\n      closeModal();\n    }\n  };\n  \n  // Close on escape key\n  document.addEventListener('keydown', function(event) {\n    if (event.key === 'Escape' && !snapshotModal.classList.contains('hidden')) {\n      closeModal();\n    }\n  });\n  \n  // Set up download button\n  if (snapshotDownloadBtn) {\n    snapshotDownloadBtn.onclick = function() {\n      // Get the stored image data from the modal\n      const storedImageData = snapshotModal.dataset.imageData;\n      const storedStreamName = snapshotModal.dataset.streamName || streamName;\n      \n      if (!storedImageData) {\n        console.error('No image data available for download');\n        showStatusMessage('Download failed: No image data available', 5000);\n        return;\n      }\n      \n      console.log('Downloading snapshot with data URL length:', storedImageData.length);\n      \n      try {\n        // Create a temporary download iframe - this approach often works better on HTTP\n        console.log('Using iframe download method');\n        \n        // Create a canvas to resize and optimize the image\n        const canvas = document.createElement('canvas');\n        const img = new Image();\n        \n        img.onload = function() {\n          try {\n            console.log('Image loaded for optimization, original dimensions:', img.width, 'x', img.height);\n            \n            // Use original dimensions as requested by the user\n            const newWidth = img.width;\n            const newHeight = img.height;\n            console.log('Using original image dimensions for maximum quality:', newWidth, 'x', newHeight);\n            \n            // Set canvas dimensions to the new size\n            canvas.width = newWidth;\n            canvas.height = newHeight;\n            \n            // Draw the image on the canvas with the new dimensions\n            const ctx = canvas.getContext('2d');\n            ctx.fillStyle = 'black';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, newWidth, newHeight);\n            \n            // Convert to JPEG with maximum quality for best image quality\n            const optimizedJpegData = canvas.toDataURL('image/jpeg', 1.0);\n            console.log('Optimized JPEG data URL length:', optimizedJpegData.length);\n            \n            // Create a download link with the optimized image\n            const filename = `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`;\n            \n            // Method 1: Try the iframe approach\n            const iframe = document.createElement('iframe');\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n            \n            try {\n              // Write a simple HTML document to the iframe with a download link\n              const iframeDoc = iframe.contentWindow.document;\n              iframeDoc.open();\n              iframeDoc.write(`\n                <!DOCTYPE html>\n                <html>\n                <head>\n                  <title>Downloading...</title>\n                  <script>\n                    function startDownload() {\n                      const a = document.getElementById('download-link');\n                      a.click();\n                      setTimeout(function() {\n                        window.parent.postMessage('download-complete', '*');\n                      }, 1000);\n                    }\n                  </script>\n                </head>\n                <body onload=\"startDownload()\">\n                  <a id=\"download-link\" href=\"${optimizedJpegData}\" download=\"${filename}\">Download</a>\n                </body>\n                </html>\n              `);\n              iframeDoc.close();\n              \n              // Listen for the download complete message\n              window.addEventListener('message', function onMessage(e) {\n                if (e.data === 'download-complete') {\n                  window.removeEventListener('message', onMessage);\n                  document.body.removeChild(iframe);\n                  showStatusMessage('Snapshot downloaded successfully', 3000);\n                }\n              }, { once: true });\n              \n              // Fallback cleanup in case the message isn't received\n              setTimeout(() => {\n                if (document.body.contains(iframe)) {\n                  document.body.removeChild(iframe);\n                }\n              }, 5000);\n              \n            } catch (iframeError) {\n              console.error('Iframe download method failed:', iframeError);\n              document.body.removeChild(iframe);\n              \n              // Fallback to direct link method\n              tryDirectLinkDownload(optimizedJpegData, filename);\n            }\n          } catch (canvasError) {\n            console.error('Canvas processing error:', canvasError);\n            showStatusMessage('Download failed: Error processing image', 5000);\n            \n            // Try direct download with original data\n            tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n          }\n        };\n        \n        img.onerror = function(e) {\n          console.error('Error loading image for optimization:', e);\n          showStatusMessage('Download failed: Could not load image', 5000);\n          \n          // Try direct download with original data\n          tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n        };\n        \n        // Set the source to trigger loading\n        img.src = storedImageData;\n        \n      } catch (error) {\n        console.error('Error in snapshot download process:', error);\n        showStatusMessage('Download failed: ' + error.message, 5000);\n        \n        // Try direct download with original data as last resort\n        tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n      }\n      \n      // Helper function for direct link download\n      function tryDirectLinkDownload(dataUrl, filename) {\n        console.log('Attempting direct link download');\n        try {\n          const link = document.createElement('a');\n          link.href = dataUrl;\n          link.download = filename;\n          link.target = '_blank'; // Try opening in a new tab\n          link.rel = 'noopener noreferrer';\n          document.body.appendChild(link);\n          link.click();\n          \n          // Clean up\n          setTimeout(() => {\n            document.body.removeChild(link);\n          }, 100);\n          \n          showStatusMessage('Download initiated', 3000);\n        } catch (linkError) {\n          console.error('Direct link download failed:', linkError);\n          showStatusMessage('Download failed: Browser restrictions', 5000);\n        }\n      }\n    };\n  }\n  \n  // Show the modal\n  snapshotModal.classList.remove('hidden');\n  \n  // Animate the modal content\n  if (modalContent) {\n    setTimeout(() => {\n      modalContent.classList.remove('scale-95', 'opacity-0');\n      modalContent.classList.add('scale-100', 'opacity-100');\n    }, 10);\n  }\n}\n","/**\n * LightNVR Web Interface Preact App\n * Main entry point for the Preact application\n */\n\nimport { h, render } from './preact.min.js';\nimport { html } from './html-helper.js';\n// Import WebSocketClient class directly\nimport { WebSocketClient, BatchDeleteRecordingsClient } from './websocket-client.js';\nimport { loadHeader } from './components/preact/Header.js';\nimport { loadFooter } from './components/preact/Footer.js';\nimport { setupModals, addStatusMessageStyles, addModalStyles } from './components/preact/UI.js';\n\n// Initialize WebSocket client at the parent level\n// This ensures a single WebSocket connection is shared across all components\nif (typeof WebSocketClient !== 'undefined') {\n  // Create a global WebSocket client instance\n  window.wsClient = new WebSocketClient();\n  console.log('WebSocket client initialized at application level');\n  \n  // Add additional event listeners for debugging\n  if (window.wsClient) {\n    // Log initial connection state\n    console.log('Initial WebSocket connection state:', {\n      connected: window.wsClient.isConnected(),\n      clientId: window.wsClient.getClientId()\n    });\n    \n    // Add socket event listeners when socket is created\n    const originalConnect = window.wsClient.connect;\n    window.wsClient.connect = function() {\n      const result = originalConnect.apply(this, arguments);\n      \n      // Add event listeners to the new socket\n      if (this.socket) {\n        const originalOnOpen = this.socket.onopen;\n        this.socket.onopen = (event) => {\n          console.log('WebSocket connection opened at application level');\n          if (originalOnOpen) originalOnOpen.call(this, event);\n        };\n        \n        const originalOnError = this.socket.onerror;\n        this.socket.onerror = (error) => {\n          console.error('WebSocket error at application level:', error);\n          if (originalOnError) originalOnError.call(this, error);\n        };\n        \n        const originalOnClose = this.socket.onclose;\n        this.socket.onclose = (event) => {\n          console.log(`WebSocket connection closed at application level: ${event.code} ${event.reason}`);\n          if (originalOnClose) originalOnClose.call(this, event);\n        };\n        \n        const originalOnMessage = this.socket.onmessage;\n        this.socket.onmessage = (event) => {\n          // Only log non-welcome messages at application level to reduce noise\n          if (!event.data.includes('\"type\":\"welcome\"')) {\n            console.log('WebSocket message received at application level');\n          }\n          if (originalOnMessage) originalOnMessage.call(this, event);\n        };\n      }\n      \n      return result;\n    };\n    \n    // Override handleMessage to log when client ID is set\n    const originalHandleMessage = window.wsClient.handleMessage;\n    window.wsClient.handleMessage = function(data) {\n      const clientIdBefore = this.clientId;\n      originalHandleMessage.call(this, data);\n      const clientIdAfter = this.clientId;\n      \n      // Log when client ID changes\n      if (clientIdBefore !== clientIdAfter && clientIdAfter) {\n        console.log(`WebSocket client ID changed at application level: ${clientIdAfter}`);\n      }\n    };\n  }\n  \n  // Initialize batch delete client if needed\n  if (typeof BatchDeleteRecordingsClient !== 'undefined') {\n    window.batchDeleteClient = new BatchDeleteRecordingsClient(window.wsClient);\n    console.log('Batch delete client initialized');\n  }\n}\n\n/**\n * Simple store implementation for state management\n * @param {Object} initialState - Initial state\n * @returns {Object} Store object with getState, setState, and subscribe methods\n */\nfunction createStore(initialState = {}) {\n  let state = { ...initialState };\n  const listeners = new Set();\n  \n  return {\n    getState: () => state,\n    setState: (newState) => {\n      if (typeof newState === 'function') {\n        state = newState(state);\n      } else {\n        state = { ...state, ...newState };\n      }\n      \n      // Notify listeners\n      listeners.forEach(listener => listener(state));\n    },\n    subscribe: (listener) => {\n      listeners.add(listener);\n      \n      // Return unsubscribe function\n      return () => {\n        listeners.delete(listener);\n      };\n    }\n  };\n}\n\n// Create stores for UI state\nexport const statusMessageStore = createStore({\n  message: '',\n  visible: false,\n  timeout: null,\n  type: 'success'\n});\n\nexport const snapshotModalStore = createStore({\n  imageUrl: '',\n  title: ''\n});\n\nexport const videoModalStore = createStore({\n  videoUrl: '',\n  title: '',\n  downloadUrl: ''\n});\n\n// Create a store for WebSocket state\nexport const websocketStore = createStore({\n  client: window.wsClient || null,\n  connected: window.wsClient ? window.wsClient.isConnected() : false,\n  clientId: window.wsClient ? window.wsClient.getClientId() : null\n});\n\n// Update websocket store when connection status changes\nif (window.wsClient) {\n  // Set up a periodic check for WebSocket status\n  setInterval(() => {\n    if (window.wsClient) {\n      const connected = window.wsClient.isConnected();\n      const clientId = window.wsClient.getClientId();\n      \n      websocketStore.setState({\n        connected,\n        clientId\n      });\n      \n      // If not connected and not already reconnecting, try to reconnect\n      if (!connected && !window.wsClient.connecting && window.wsClient.reconnectAttempts < window.wsClient.maxReconnectAttempts) {\n        console.log('WebSocket not connected, attempting to reconnect from application level');\n        window.wsClient.connect();\n      }\n    }\n  }, 5000); // Check every 5 seconds\n}\n\n/**\n * Initialize the application\n */\nfunction initApp() {\n  // Get current page\n  const currentPage = window.location.pathname.split('/').pop();\n  \n  // Load header with active navigation\n  let activeNav = '';\n  \n  switch (currentPage) {\n    case 'index.html':\n      activeNav = 'nav-live';\n      break;\n    case 'recordings.html':\n    case 'timeline.html':\n      activeNav = 'nav-recordings';\n      break;\n    case 'streams.html':\n      activeNav = 'nav-streams';\n      break;\n    case 'settings.html':\n      activeNav = 'nav-settings';\n      break;\n    case 'users.html':\n      activeNav = 'nav-users';\n      break;\n    case 'system.html':\n      activeNav = 'nav-system';\n      break;\n  }\n  \n  // Load header and footer\n  loadHeader(activeNav);\n  loadFooter();\n  \n  // Load page-specific content using dynamic imports\n  if (currentPage === 'index.html') {\n    import('./components/preact/WebRTCView.js').then(module => {\n      module.loadWebRTCView();\n    });\n  } else if (currentPage === 'hls.html') {\n    import('./components/preact/LiveView.js').then(module => {\n      module.loadLiveView();\n    });\n  } else if (currentPage === 'recordings.html') {\n    import('./components/preact/RecordingsView.js').then(module => {\n      module.loadRecordingsView();\n    });\n  } else if (currentPage === 'timeline.html') {\n    import('./components/preact/timeline/TimelineView.js').then(module => {\n      module.loadTimelineView();\n    });\n  } else if (currentPage === 'settings.html') {\n    import('./components/preact/SettingsView.js').then(module => {\n      module.loadSettingsView();\n    });\n  } else if (currentPage === 'streams.html') {\n    import('./components/preact/StreamsView.js').then(module => {\n      module.loadStreamsView();\n    });\n  } else if (currentPage === 'system.html') {\n    import('./components/preact/SystemView.js').then(module => {\n      module.loadSystemView();\n    });\n  } else if (currentPage === 'login.html') {\n    import('./components/preact/LoginView.js').then(module => {\n      module.loadLoginView();\n    });\n  } else if (currentPage === 'users.html') {\n    import('./components/preact/UsersView.js').then(module => {\n      module.loadUsersView();\n    });\n  } else if (currentPage === '') {\n    import('./components/preact/WebRTCView.js').then(module => {\n      module.loadWebRTCView();\n    });\n  }\n  \n  // Setup UI components\n  setupModals();\n  addStatusMessageStyles();\n  addModalStyles();\n  \n  // Initialize toast container\n  import('./components/preact/toast.js').then(({ initToastContainer }) => {\n    // Initialize the toast container without showing a test message\n    initToastContainer(false);\n    \n    // Log success\n    console.log('Toast container initialized from preact-app.js');\n    \n    // Add a global function to test toasts\n    window.testToastFromApp = (type = 'info') => {\n      const message = `App test ${type} toast at ${new Date().toLocaleTimeString()}`;\n      \n      if (window.showToast) {\n        window.showToast(message, type);\n      }\n      \n      return 'App toast triggered';\n    };\n  }).catch(error => {\n    console.error('Error initializing toast container:', error);\n  });\n}\n\n// Initialize the app when the DOM is loaded\ndocument.addEventListener('DOMContentLoaded', initApp);\n\n// Export for use in other modules\nexport { h, render, html };\n"],"file":"assets/preact-app-CZcvmWvw.js"}