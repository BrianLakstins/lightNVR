import"./preact-app-DMiXxE4W.js";function f(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function h(e,t=3e3){let n=document.getElementById("status-message-container");n||(n=document.createElement("div"),n.id="status-message-container",n.className="fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center",document.body.appendChild(n));const d=document.createElement("div");d.className="bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg mb-2 transition-all duration-300 opacity-0 transform translate-y-2",d.textContent=e,n.appendChild(d),setTimeout(()=>{d.classList.remove("opacity-0","translate-y-2")},10),setTimeout(()=>{d.classList.add("opacity-0","translate-y-2"),setTimeout(()=>{d.parentNode===n&&n.removeChild(d),n.children.length===0&&document.body.removeChild(n)},300)},t)}function r(){let e=document.getElementById("batch-delete-modal-container");e||(e=document.createElement("div"),e.id="batch-delete-modal-container",document.body.appendChild(e)),e.innerHTML='\n        <div id="batch-delete-modal" class="modal hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50">\n            <div class="modal-content relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md mx-auto p-6 w-full">\n                <div class="modal-header flex justify-between items-center mb-4 pb-2 border-b border-gray-200 dark:border-gray-700">\n                    <h3 id="batch-delete-modal-title" class="text-xl font-bold text-gray-900 dark:text-white">Batch Delete Progress</h3>\n                    <button id="batch-delete-close-btn" class="close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-2xl font-bold">&times;</button>\n                </div>\n                <div class="modal-body">\n                    <div id="batch-delete-status" class="mb-4 text-gray-700 dark:text-gray-300">\n                        Preparing to delete recordings...\n                    </div>\n                    <div class="progress-container bg-gray-200 dark:bg-gray-700 rounded-full h-4 mb-4">\n                        <div id="batch-delete-progress-bar" class="bg-green-500 h-4 rounded-full text-center text-xs text-white" style="width: 0%"></div>\n                    </div>\n                    <div class="flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-6">\n                        <div id="batch-delete-count">0 / 0</div>\n                        <div id="batch-delete-percentage">0%</div>\n                    </div>\n                    <div id="batch-delete-details" class="mb-4">\n                        <div class="flex justify-between mb-2">\n                            <span class="text-gray-700 dark:text-gray-300">Succeeded:</span>\n                            <span id="batch-delete-succeeded" class="font-bold text-green-600 dark:text-green-400">0</span>\n                        </div>\n                        <div class="flex justify-between">\n                            <span class="text-gray-700 dark:text-gray-300">Failed:</span>\n                            <span id="batch-delete-failed" class="font-bold text-red-600 dark:text-red-400">0</span>\n                        </div>\n                    </div>\n                    <div id="batch-delete-message" class="text-sm italic text-gray-600 dark:text-gray-400 mb-4"></div>\n                </div>\n                <div class="modal-footer flex justify-end pt-2 border-t border-gray-200 dark:border-gray-700">\n                    <button id="batch-delete-done-btn" class="btn btn-primary hidden">Done</button>\n                    <button id="batch-delete-cancel-btn" class="btn btn-secondary">Cancel</button>\n                </div>\n            </div>\n        </div>\n    ';const t=document.getElementById("batch-delete-modal"),n=document.getElementById("batch-delete-close-btn"),d=document.getElementById("batch-delete-done-btn"),o=document.getElementById("batch-delete-cancel-btn");n&&n.addEventListener("click",s),d&&d.addEventListener("click",s),o&&o.addEventListener("click",g),window.addEventListener("click",l=>{l.target===t&&s()})}function u(){const e=document.getElementById("batch-delete-modal");e||r(),b(),e.classList.remove("hidden")}function s(){const e=document.getElementById("batch-delete-modal");e&&e.classList.add("hidden")}function b(){const e=document.getElementById("batch-delete-progress-bar");e&&(e.style.width="0%");const t=document.getElementById("batch-delete-status");t&&(t.textContent="Preparing to delete recordings...");const n=document.getElementById("batch-delete-count");n&&(n.textContent="0 / 0");const d=document.getElementById("batch-delete-percentage");d&&(d.textContent="0%");const o=document.getElementById("batch-delete-succeeded");o&&(o.textContent="0");const l=document.getElementById("batch-delete-failed");l&&(l.textContent="0");const c=document.getElementById("batch-delete-message");c&&(c.textContent="");const a=document.getElementById("batch-delete-done-btn");a&&a.classList.add("hidden");const i=document.getElementById("batch-delete-cancel-btn");i&&i.classList.remove("hidden")}function m(e){console.log("Updating batch delete progress UI:",e);const t=document.getElementById("batch-delete-progress-bar");if(t)if(console.log("Updating progress bar: current=".concat(e.current,", total=").concat(e.total)),e.total>0){const a=Math.round(e.current/e.total*100);console.log("Setting progress bar width to ".concat(a,"%")),t.style.width="".concat(a,"%"),t.classList.remove("animate-pulse"),t.offsetWidth}else if(e.current>0){const a=Math.min(90,e.current/10);console.log("Setting progress bar width to ".concat(a,"% (estimated)")),t.style.width="".concat(a,"%"),t.classList.add("animate-pulse"),t.offsetWidth}else e.complete?(console.log("Setting progress bar to 100% (complete)"),t.style.width="100%",t.classList.remove("animate-pulse"),t.offsetWidth):(console.log("Setting progress bar to 50% (indeterminate)"),t.style.width="50%",t.classList.add("animate-pulse"),t.offsetWidth);const n=document.getElementById("batch-delete-status");n&&e.status&&(n.textContent=e.status);const d=document.getElementById("batch-delete-count");d&&(e.total>0?d.textContent="".concat(e.current," / ").concat(e.total):d.textContent="".concat(e.current," / ?"));const o=document.getElementById("batch-delete-percentage");if(o)if(e.total>0){const a=Math.round(e.current/e.total*100);o.textContent="".concat(a,"%")}else e.complete?o.textContent="100%":o.textContent="In progress";const l=document.getElementById("batch-delete-succeeded");l&&(l.textContent=e.succeeded||"0");const c=document.getElementById("batch-delete-failed");if(c&&(c.textContent=e.failed||"0"),e.complete){const a=document.getElementById("batch-delete-done-btn");a&&a.classList.remove("hidden");const i=document.getElementById("batch-delete-cancel-btn");i&&i.classList.add("hidden"),n&&(!e.status||e.status==="Preparing to delete recordings...")&&(n.textContent="Batch delete operation complete"),t&&(t.style.width="100%",t.classList.remove("animate-pulse"))}}window.updateBatchDeleteProgress=m;function g(){s(),h("Batch delete operation cancelled",5e3)}document.addEventListener("DOMContentLoaded",()=>{if(console.log("Initializing batch delete modal"),r(),!document.getElementById("batch-delete-modal-container")){console.error("Batch delete modal container not found, creating it");const t=document.createElement("div");t.id="batch-delete-modal-container",document.body.appendChild(t),r()}typeof window.updateBatchDeleteProgress!="function"&&(console.error("updateBatchDeleteProgress function not available, setting it up"),window.updateBatchDeleteProgress=m),typeof window.showBatchDeleteModal!="function"&&(console.error("showBatchDeleteModal function not available, setting it up"),window.showBatchDeleteModal=u)});window.showBatchDeleteModal=u;window.updateBatchDeleteProgress=m;window.initBatchDeleteModal=r;export{f as __vite_legacy_guard};
//# sourceMappingURL=recordings-wX-VQ-y0.js.map
