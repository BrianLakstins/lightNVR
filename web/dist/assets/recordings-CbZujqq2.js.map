{"version":3,"file":"recordings-CbZujqq2.js","sources":["../../js/components/batch-delete-modal.js"],"sourcesContent":["/**\n * Batch Delete Modal Component\n * Displays progress of batch delete operations with WebSocket updates\n */\n\n/**\n * Show a status message to the user\n * @param {string} message - Message to display\n * @param {number} duration - Duration in milliseconds (default: 3000)\n */\nfunction showStatusMessage(message, duration = 3000) {\n    // Check if a status message container already exists\n    let statusContainer = document.getElementById('status-message-container');\n    \n    // Create container if it doesn't exist\n    if (!statusContainer) {\n        statusContainer = document.createElement('div');\n        statusContainer.id = 'status-message-container';\n        statusContainer.className = 'fixed bottom-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center';\n        document.body.appendChild(statusContainer);\n    }\n    \n    // Create message element\n    const messageElement = document.createElement('div');\n    messageElement.className = 'bg-gray-800 text-white px-4 py-2 rounded-lg shadow-lg mb-2 transition-all duration-300 opacity-0 transform translate-y-2';\n    messageElement.textContent = message;\n    \n    // Add to container\n    statusContainer.appendChild(messageElement);\n    \n    // Trigger animation to show message\n    setTimeout(() => {\n        messageElement.classList.remove('opacity-0', 'translate-y-2');\n    }, 10);\n    \n    // Set timeout to remove message\n    setTimeout(() => {\n        // Trigger animation to hide message\n        messageElement.classList.add('opacity-0', 'translate-y-2');\n        \n        // Remove element after animation completes\n        setTimeout(() => {\n            if (messageElement.parentNode === statusContainer) {\n                statusContainer.removeChild(messageElement);\n            }\n            \n            // Remove container if no more messages\n            if (statusContainer.children.length === 0) {\n                document.body.removeChild(statusContainer);\n            }\n        }, 300);\n    }, duration);\n}\n\n/**\n * Show loading indicator on an element\n * @param {HTMLElement} element - Element to show loading on\n */\nfunction showLoading(element) {\n    if (!element) return;\n    \n    // Add loading class\n    element.classList.add('loading');\n    \n    // Create loading overlay if it doesn't exist\n    let loadingOverlay = element.querySelector('.loading-overlay');\n    if (!loadingOverlay) {\n        loadingOverlay = document.createElement('div');\n        loadingOverlay.className = 'loading-overlay';\n        loadingOverlay.innerHTML = '<div class=\"loading-spinner\"></div>';\n        element.appendChild(loadingOverlay);\n    }\n    \n    // Show loading overlay\n    loadingOverlay.style.display = 'flex';\n}\n\n/**\n * Hide loading indicator on an element\n * @param {HTMLElement} element - Element to hide loading from\n */\nfunction hideLoading(element) {\n    if (!element) return;\n    \n    // Remove loading class\n    element.classList.remove('loading');\n    \n    // Hide loading overlay\n    const loadingOverlay = element.querySelector('.loading-overlay');\n    if (loadingOverlay) {\n        loadingOverlay.style.display = 'none';\n    }\n}\n\n/**\n * Initialize the batch delete modal\n */\nfunction initBatchDeleteModal() {\n    // Create modal container if it doesn't exist\n    let modalContainer = document.getElementById('batch-delete-modal-container');\n    if (!modalContainer) {\n        modalContainer = document.createElement('div');\n        modalContainer.id = 'batch-delete-modal-container';\n        document.body.appendChild(modalContainer);\n    }\n\n    // Create modal HTML\n    modalContainer.innerHTML = `\n        <div id=\"batch-delete-modal\" class=\"modal hidden fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full flex items-center justify-center z-50\">\n            <div class=\"modal-content relative bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-md mx-auto p-6 w-full\">\n                <div class=\"modal-header flex justify-between items-center mb-4 pb-2 border-b border-gray-200 dark:border-gray-700\">\n                    <h3 id=\"batch-delete-modal-title\" class=\"text-xl font-bold text-gray-900 dark:text-white\">Batch Delete Progress</h3>\n                    <button id=\"batch-delete-close-btn\" class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 text-2xl font-bold\">&times;</button>\n                </div>\n                <div class=\"modal-body\">\n                    <div id=\"batch-delete-status\" class=\"mb-4 text-gray-700 dark:text-gray-300\">\n                        Preparing to delete recordings...\n                    </div>\n                    <div class=\"progress-container bg-gray-200 dark:bg-gray-700 rounded-full h-4 mb-4\">\n                        <div id=\"batch-delete-progress-bar\" class=\"bg-green-500 h-4 rounded-full text-center text-xs text-white\" style=\"width: 0%\"></div>\n                    </div>\n                    <div class=\"flex justify-between text-sm text-gray-600 dark:text-gray-400 mb-6\">\n                        <div id=\"batch-delete-count\">0 / 0</div>\n                        <div id=\"batch-delete-percentage\">0%</div>\n                    </div>\n                    <div id=\"batch-delete-details\" class=\"mb-4\">\n                        <div class=\"flex justify-between mb-2\">\n                            <span class=\"text-gray-700 dark:text-gray-300\">Succeeded:</span>\n                            <span id=\"batch-delete-succeeded\" class=\"font-bold text-green-600 dark:text-green-400\">0</span>\n                        </div>\n                        <div class=\"flex justify-between\">\n                            <span class=\"text-gray-700 dark:text-gray-300\">Failed:</span>\n                            <span id=\"batch-delete-failed\" class=\"font-bold text-red-600 dark:text-red-400\">0</span>\n                        </div>\n                    </div>\n                    <div id=\"batch-delete-message\" class=\"text-sm italic text-gray-600 dark:text-gray-400 mb-4\"></div>\n                </div>\n                <div class=\"modal-footer flex justify-end pt-2 border-t border-gray-200 dark:border-gray-700\">\n                    <button id=\"batch-delete-done-btn\" class=\"btn btn-primary hidden\">Done</button>\n                    <button id=\"batch-delete-cancel-btn\" class=\"btn btn-secondary\">Cancel</button>\n                </div>\n            </div>\n        </div>\n    `;\n\n    // Get modal elements\n    const modal = document.getElementById('batch-delete-modal');\n    const closeBtn = document.getElementById('batch-delete-close-btn');\n    const doneBtn = document.getElementById('batch-delete-done-btn');\n    const cancelBtn = document.getElementById('batch-delete-cancel-btn');\n\n    // Setup close button event handlers\n    if (closeBtn) {\n        closeBtn.addEventListener('click', closeBatchDeleteModal);\n    }\n\n    if (doneBtn) {\n        doneBtn.addEventListener('click', closeBatchDeleteModal);\n    }\n\n    if (cancelBtn) {\n        cancelBtn.addEventListener('click', cancelBatchDelete);\n    }\n\n    // Close on click outside\n    window.addEventListener('click', (event) => {\n        if (event.target === modal) {\n            closeBatchDeleteModal();\n        }\n    });\n}\n\n/**\n * Show the batch delete modal\n */\nfunction showBatchDeleteModal() {\n    const modal = document.getElementById('batch-delete-modal');\n    if (!modal) {\n        initBatchDeleteModal();\n    }\n\n    // Reset modal state\n    resetBatchDeleteModal();\n\n    // Show modal\n    modal.classList.remove('hidden');\n}\n\n/**\n * Close the batch delete modal\n */\nfunction closeBatchDeleteModal() {\n    const modal = document.getElementById('batch-delete-modal');\n    if (modal) {\n        modal.classList.add('hidden');\n    }\n}\n\n/**\n * Reset the batch delete modal state\n */\nfunction resetBatchDeleteModal() {\n    // Reset progress bar\n    const progressBar = document.getElementById('batch-delete-progress-bar');\n    if (progressBar) {\n        progressBar.style.width = '0%';\n    }\n\n    // Reset status text\n    const status = document.getElementById('batch-delete-status');\n    if (status) {\n        status.textContent = 'Preparing to delete recordings...';\n    }\n\n    // Reset count and percentage\n    const count = document.getElementById('batch-delete-count');\n    if (count) {\n        count.textContent = '0 / 0';\n    }\n\n    const percentage = document.getElementById('batch-delete-percentage');\n    if (percentage) {\n        percentage.textContent = '0%';\n    }\n\n    // Reset success/fail counts\n    const succeeded = document.getElementById('batch-delete-succeeded');\n    if (succeeded) {\n        succeeded.textContent = '0';\n    }\n\n    const failed = document.getElementById('batch-delete-failed');\n    if (failed) {\n        failed.textContent = '0';\n    }\n\n    // Reset message\n    const message = document.getElementById('batch-delete-message');\n    if (message) {\n        message.textContent = '';\n    }\n\n    // Hide done button, show cancel button\n    const doneBtn = document.getElementById('batch-delete-done-btn');\n    if (doneBtn) {\n        doneBtn.classList.add('hidden');\n    }\n\n    const cancelBtn = document.getElementById('batch-delete-cancel-btn');\n    if (cancelBtn) {\n        cancelBtn.classList.remove('hidden');\n    }\n}\n\n/**\n * Update batch delete progress\n * \n * @param {Object} progress Progress data from WebSocket\n */\nfunction updateBatchDeleteProgress(progress) {\n    console.log('Updating batch delete progress UI:', progress);\n    \n    // Update progress bar\n    const progressBar = document.getElementById('batch-delete-progress-bar');\n    if (progressBar) {\n        console.log(`Updating progress bar: current=${progress.current}, total=${progress.total}`);\n        \n        if (progress.total > 0) {\n            // We have a known total, show percentage\n            const percent = Math.round((progress.current / progress.total) * 100);\n            console.log(`Setting progress bar width to ${percent}%`);\n            progressBar.style.width = `${percent}%`;\n            progressBar.classList.remove('animate-pulse');\n            \n            // Force a reflow to ensure the browser updates the UI\n            void progressBar.offsetWidth;\n        } else if (progress.current > 0) {\n            // We don't know the total but have processed some items\n            // Show an indeterminate but growing progress bar\n            const estimatedPercent = Math.min(90, progress.current / 10);\n            console.log(`Setting progress bar width to ${estimatedPercent}% (estimated)`);\n            progressBar.style.width = `${estimatedPercent}%`;\n            progressBar.classList.add('animate-pulse');\n            \n            // Force a reflow to ensure the browser updates the UI\n            void progressBar.offsetWidth;\n        } else if (progress.complete) {\n            // Operation is complete but we don't know the total\n            console.log('Setting progress bar to 100% (complete)');\n            progressBar.style.width = '100%';\n            progressBar.classList.remove('animate-pulse');\n            \n            // Force a reflow to ensure the browser updates the UI\n            void progressBar.offsetWidth;\n        } else {\n            // Indeterminate progress\n            console.log('Setting progress bar to 50% (indeterminate)');\n            progressBar.style.width = '50%';\n            progressBar.classList.add('animate-pulse');\n            \n            // Force a reflow to ensure the browser updates the UI\n            void progressBar.offsetWidth;\n        }\n    }\n\n    // Update status text\n    const status = document.getElementById('batch-delete-status');\n    if (status && progress.status) {\n        status.textContent = progress.status;\n    }\n\n    // Update count and percentage\n    const count = document.getElementById('batch-delete-count');\n    if (count) {\n        if (progress.total > 0) {\n            count.textContent = `${progress.current} / ${progress.total}`;\n        } else {\n            count.textContent = `${progress.current} / ?`;\n        }\n    }\n\n    const percentage = document.getElementById('batch-delete-percentage');\n    if (percentage) {\n        if (progress.total > 0) {\n            const percent = Math.round((progress.current / progress.total) * 100);\n            percentage.textContent = `${percent}%`;\n        } else if (progress.complete) {\n            percentage.textContent = '100%';\n        } else {\n            percentage.textContent = 'In progress';\n        }\n    }\n\n    // Update success/fail counts\n    const succeeded = document.getElementById('batch-delete-succeeded');\n    if (succeeded) {\n        succeeded.textContent = progress.succeeded || '0';\n    }\n\n    const failed = document.getElementById('batch-delete-failed');\n    if (failed) {\n        failed.textContent = progress.failed || '0';\n    }\n\n    // If complete, show done button, hide cancel button\n    if (progress.complete) {\n        const doneBtn = document.getElementById('batch-delete-done-btn');\n        if (doneBtn) {\n            doneBtn.classList.remove('hidden');\n        }\n\n        const cancelBtn = document.getElementById('batch-delete-cancel-btn');\n        if (cancelBtn) {\n            cancelBtn.classList.add('hidden');\n        }\n\n        // Update status if not already set\n        if (status && (!progress.status || progress.status === 'Preparing to delete recordings...')) {\n            status.textContent = 'Batch delete operation complete';\n        }\n        \n        // Ensure progress bar shows 100%\n        if (progressBar) {\n            progressBar.style.width = '100%';\n            progressBar.classList.remove('animate-pulse');\n        }\n    }\n}\n\n// Make updateBatchDeleteProgress globally accessible\nwindow.updateBatchDeleteProgress = updateBatchDeleteProgress;\n\n/**\n * Cancel batch delete operation\n */\nfunction cancelBatchDelete() {\n    // Close modal\n    closeBatchDeleteModal();\n\n    // Show status message\n    showStatusMessage('Batch delete operation cancelled', 5000);\n}\n\n/**\n * Initialize batch delete client\n * \n * @returns {BatchDeleteRecordingsClient} Batch delete client\n */\nfunction initBatchDeleteClient() {\n    // Use the global WebSocket client that was initialized in preact-app.js\n    // If it doesn't exist for some reason, create it\n    if (!window.wsClient) {\n        console.log('Creating WebSocket client in batch-delete-modal.js (fallback)');\n        window.wsClient = new WebSocketClient();\n    } else {\n        console.log('Using existing WebSocket client from preact-app.js');\n    }\n\n    // Create batch delete client if it doesn't exist\n    if (!window.batchDeleteClient) {\n        console.log('Creating BatchDeleteRecordingsClient');\n        window.batchDeleteClient = new BatchDeleteRecordingsClient(window.wsClient);\n\n        // Set up event handlers\n        window.batchDeleteClient.onProgress((payload) => {\n            console.log('Batch delete progress:', payload);\n            updateBatchDeleteProgress(payload);\n        });\n\n        window.batchDeleteClient.onResult((payload) => {\n            console.log('Batch delete result:', payload);\n            // Update final progress\n            updateBatchDeleteProgress({\n                current: payload.total,\n                total: payload.total,\n                succeeded: payload.succeeded,\n                failed: payload.failed,\n                complete: true\n            });\n\n            // Show status message\n            const message = payload.success\n                ? `Successfully deleted ${payload.succeeded} recordings`\n                : `Deleted ${payload.succeeded} recordings with ${payload.failed} failures`;\n            \n            showStatusMessage(message, 5000);\n\n            // Reload recordings after a short delay\n            setTimeout(() => {\n                loadRecordings();\n            }, 1000);\n        });\n\n        window.batchDeleteClient.onError((payload) => {\n            console.error('Batch delete error:', payload);\n            // Show error message\n            showStatusMessage(`Error: ${payload.error || 'Unknown error'}`, 5000);\n\n            // Close modal\n            closeBatchDeleteModal();\n        });\n    }\n\n    return window.batchDeleteClient;\n}\n\n/**\n * Delete recordings by HTTP request (fallback when WebSocket is not available)\n * \n * @param {Object} params Delete parameters (ids or filter)\n * @returns {Promise<Object>} Promise that resolves when the operation is complete\n */\nfunction batchDeleteRecordingsByHttpRequest(params) {\n    console.log('Using HTTP fallback for batch delete with params:', params);\n    \n    return new Promise((resolve, reject) => {\n        // Show modal\n        showBatchDeleteModal();\n        \n        // Update progress to show we're using HTTP\n        updateBatchDeleteProgress({\n            current: 0,\n            total: params.ids ? params.ids.length : 0,\n            status: 'Using HTTP fallback for batch delete operation',\n            succeeded: 0,\n            failed: 0\n        });\n        \n        // Send HTTP request\n        fetch('/api/recordings/batch-delete', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify(params)\n        })\n        .then(response => {\n            if (!response.ok) {\n                throw new Error(`HTTP error ${response.status}: ${response.statusText}`);\n            }\n            return response.json();\n        })\n        .then(result => {\n            console.log('HTTP batch delete result:', result);\n            \n            // Update final progress\n            updateBatchDeleteProgress({\n                current: result.total || 0,\n                total: result.total || 0,\n                succeeded: result.succeeded || 0,\n                failed: result.failed || 0,\n                complete: true\n            });\n            \n            // Show status message\n            const message = result.success\n                ? `Successfully deleted ${result.succeeded} recordings`\n                : `Deleted ${result.succeeded} recordings with ${result.failed} failures`;\n            \n            showStatusMessage(message, 5000);\n            \n            // Reload recordings after a short delay\n            setTimeout(() => {\n                if (typeof loadRecordings === 'function') {\n                    loadRecordings();\n                }\n            }, 1000);\n            \n            resolve(result);\n        })\n        .catch(error => {\n            console.error('HTTP batch delete error:', error);\n            \n            // Show error message\n            showStatusMessage(`Error: ${error.message || 'Unknown error'}`, 5000);\n            \n            // Close modal\n            closeBatchDeleteModal();\n            \n            reject(error);\n        });\n    });\n}\n\n/**\n * Delete multiple recordings by IDs\n * \n * @param {Array<number>} ids Recording IDs to delete\n */\nfunction batchDeleteRecordings(ids) {\n    if (!ids || ids.length === 0) {\n        showStatusMessage('No recordings selected for deletion', 5000);\n        return;\n    }\n\n    // Confirm deletion\n    if (!confirm(`Are you sure you want to delete ${ids.length} recordings?`)) {\n        return;\n    }\n\n    // Initialize batch delete client\n    const batchDeleteClient = initBatchDeleteClient();\n\n    // Show modal\n    showBatchDeleteModal();\n\n    // Start batch delete operation\n    batchDeleteClient.deleteWithProgress({ ids })\n        .catch(error => {\n            console.error('Error starting batch delete:', error);\n            showStatusMessage(`Error: ${error.message || 'Failed to start batch delete operation'}`, 5000);\n            closeBatchDeleteModal();\n        });\n}\n\n/**\n * Delete recordings by filter\n * \n * @param {Object} filter Filter to delete by\n */\nfunction batchDeleteRecordingsByFilter(filter) {\n    if (!filter) {\n        showStatusMessage('No filter specified for deletion', 5000);\n        return;\n    }\n\n    // Confirm deletion\n    if (!confirm('Are you sure you want to delete all recordings matching the current filter?')) {\n        return;\n    }\n\n    // Initialize batch delete client\n    const batchDeleteClient = initBatchDeleteClient();\n\n    // Show modal\n    showBatchDeleteModal();\n\n    // Start batch delete operation\n    batchDeleteClient.deleteWithProgress({ filter })\n        .catch(error => {\n            console.error('Error starting batch delete:', error);\n            showStatusMessage(`Error: ${error.message || 'Failed to start batch delete operation'}`, 5000);\n            closeBatchDeleteModal();\n        });\n}\n\n// Initialize batch delete modal when the page loads\ndocument.addEventListener('DOMContentLoaded', () => {\n    console.log('Initializing batch delete modal');\n    initBatchDeleteModal();\n    \n    // Make sure the modal is visible in the DOM\n    const modalContainer = document.getElementById('batch-delete-modal-container');\n    if (!modalContainer) {\n        console.error('Batch delete modal container not found, creating it');\n        const container = document.createElement('div');\n        container.id = 'batch-delete-modal-container';\n        document.body.appendChild(container);\n        initBatchDeleteModal();\n    }\n    \n    // Make sure the global function is available\n    if (typeof window.updateBatchDeleteProgress !== 'function') {\n        console.error('updateBatchDeleteProgress function not available, setting it up');\n        window.updateBatchDeleteProgress = updateBatchDeleteProgress;\n    }\n    \n    // Make sure the global function is available\n    if (typeof window.showBatchDeleteModal !== 'function') {\n        console.error('showBatchDeleteModal function not available, setting it up');\n        window.showBatchDeleteModal = showBatchDeleteModal;\n    }\n});\n\n// Make functions globally available\nwindow.showBatchDeleteModal = showBatchDeleteModal;\nwindow.updateBatchDeleteProgress = updateBatchDeleteProgress;\nwindow.initBatchDeleteModal = initBatchDeleteModal;\n"],"names":["showStatusMessage","message","duration","statusContainer","messageElement","initBatchDeleteModal","modalContainer","modal","closeBtn","doneBtn","cancelBtn","closeBatchDeleteModal","cancelBatchDelete","event","showBatchDeleteModal","resetBatchDeleteModal","progressBar","status","count","percentage","succeeded","failed","updateBatchDeleteProgress","progress","percent","estimatedPercent","container"],"mappings":"oHAUA,SAASA,EAAkBC,EAASC,EAAW,IAAM,CAEjD,IAAIC,EAAkB,SAAS,eAAe,0BAA0B,EAGnEA,IACDA,EAAkB,SAAS,cAAc,KAAK,EAC9CA,EAAgB,GAAK,2BACrBA,EAAgB,UAAY,qFAC5B,SAAS,KAAK,YAAYA,CAAe,GAI7C,MAAMC,EAAiB,SAAS,cAAc,KAAK,EACnDA,EAAe,UAAY,2HAC3BA,EAAe,YAAcH,EAG7BE,EAAgB,YAAYC,CAAc,EAG1C,WAAW,IAAM,CACbA,EAAe,UAAU,OAAO,YAAa,eAAe,CAC/D,EAAE,EAAE,EAGL,WAAW,IAAM,CAEbA,EAAe,UAAU,IAAI,YAAa,eAAe,EAGzD,WAAW,IAAM,CACTA,EAAe,aAAeD,GAC9BA,EAAgB,YAAYC,CAAc,EAI1CD,EAAgB,SAAS,SAAW,GACpC,SAAS,KAAK,YAAYA,CAAe,CAEhD,EAAE,GAAG,CACT,EAAED,CAAQ,CACf,CA6CA,SAASG,GAAuB,CAE5B,IAAIC,EAAiB,SAAS,eAAe,8BAA8B,EACtEA,IACDA,EAAiB,SAAS,cAAc,KAAK,EAC7CA,EAAe,GAAK,+BACpB,SAAS,KAAK,YAAYA,CAAc,GAI5CA,EAAe,UAAY,suFAuC3B,MAAMC,EAAQ,SAAS,eAAe,oBAAoB,EACpDC,EAAW,SAAS,eAAe,wBAAwB,EAC3DC,EAAU,SAAS,eAAe,uBAAuB,EACzDC,EAAY,SAAS,eAAe,yBAAyB,EAG/DF,GACAA,EAAS,iBAAiB,QAASG,CAAqB,EAGxDF,GACAA,EAAQ,iBAAiB,QAASE,CAAqB,EAGvDD,GACAA,EAAU,iBAAiB,QAASE,CAAiB,EAIzD,OAAO,iBAAiB,QAAUC,GAAU,CACpCA,EAAM,SAAWN,GACjBI,EAAuB,CAEnC,CAAK,CACL,CAKA,SAASG,GAAuB,CAC5B,MAAMP,EAAQ,SAAS,eAAe,oBAAoB,EACrDA,GACDF,EAAsB,EAI1BU,EAAuB,EAGvBR,EAAM,UAAU,OAAO,QAAQ,CACnC,CAKA,SAASI,GAAwB,CAC7B,MAAMJ,EAAQ,SAAS,eAAe,oBAAoB,EACtDA,GACAA,EAAM,UAAU,IAAI,QAAQ,CAEpC,CAKA,SAASQ,GAAwB,CAE7B,MAAMC,EAAc,SAAS,eAAe,2BAA2B,EACnEA,IACAA,EAAY,MAAM,MAAQ,MAI9B,MAAMC,EAAS,SAAS,eAAe,qBAAqB,EACxDA,IACAA,EAAO,YAAc,qCAIzB,MAAMC,EAAQ,SAAS,eAAe,oBAAoB,EACtDA,IACAA,EAAM,YAAc,SAGxB,MAAMC,EAAa,SAAS,eAAe,yBAAyB,EAChEA,IACAA,EAAW,YAAc,MAI7B,MAAMC,EAAY,SAAS,eAAe,wBAAwB,EAC9DA,IACAA,EAAU,YAAc,KAG5B,MAAMC,EAAS,SAAS,eAAe,qBAAqB,EACxDA,IACAA,EAAO,YAAc,KAIzB,MAAMpB,EAAU,SAAS,eAAe,sBAAsB,EAC1DA,IACAA,EAAQ,YAAc,IAI1B,MAAMQ,EAAU,SAAS,eAAe,uBAAuB,EAC3DA,GACAA,EAAQ,UAAU,IAAI,QAAQ,EAGlC,MAAMC,EAAY,SAAS,eAAe,yBAAyB,EAC/DA,GACAA,EAAU,UAAU,OAAO,QAAQ,CAE3C,CAOA,SAASY,EAA0BC,EAAU,CACzC,QAAQ,IAAI,qCAAsCA,CAAQ,EAG1D,MAAMP,EAAc,SAAS,eAAe,2BAA2B,EACvE,GAAIA,EAGA,GAFA,QAAQ,IAAI,kCAAkC,OAAAO,EAAS,QAAO,YAAW,OAAAA,EAAS,MAAO,EAErFA,EAAS,MAAQ,EAAG,CAEpB,MAAMC,EAAU,KAAK,MAAOD,EAAS,QAAUA,EAAS,MAAS,GAAG,EACpE,QAAQ,IAAI,iCAAiC,OAAAC,EAAO,IAAG,EACvDR,EAAY,MAAM,MAAQ,GAAG,OAAAQ,EAAO,KACpCR,EAAY,UAAU,OAAO,eAAe,EAGvCA,EAAY,WAC7B,SAAmBO,EAAS,QAAU,EAAG,CAG7B,MAAME,EAAmB,KAAK,IAAI,GAAIF,EAAS,QAAU,EAAE,EAC3D,QAAQ,IAAI,iCAAiC,OAAAE,EAAgB,gBAAe,EAC5ET,EAAY,MAAM,MAAQ,GAAG,OAAAS,EAAgB,KAC7CT,EAAY,UAAU,IAAI,eAAe,EAGpCA,EAAY,WAC7B,MAAmBO,EAAS,UAEhB,QAAQ,IAAI,yCAAyC,EACrDP,EAAY,MAAM,MAAQ,OAC1BA,EAAY,UAAU,OAAO,eAAe,EAGvCA,EAAY,cAGjB,QAAQ,IAAI,6CAA6C,EACzDA,EAAY,MAAM,MAAQ,MAC1BA,EAAY,UAAU,IAAI,eAAe,EAGpCA,EAAY,aAKzB,MAAMC,EAAS,SAAS,eAAe,qBAAqB,EACxDA,GAAUM,EAAS,SACnBN,EAAO,YAAcM,EAAS,QAIlC,MAAML,EAAQ,SAAS,eAAe,oBAAoB,EACtDA,IACIK,EAAS,MAAQ,EACjBL,EAAM,YAAc,GAAG,OAAAK,EAAS,QAAO,OAAM,OAAAA,EAAS,OAEtDL,EAAM,YAAc,GAAG,OAAAK,EAAS,QAAO,SAI/C,MAAMJ,EAAa,SAAS,eAAe,yBAAyB,EACpE,GAAIA,EACA,GAAII,EAAS,MAAQ,EAAG,CACpB,MAAMC,EAAU,KAAK,MAAOD,EAAS,QAAUA,EAAS,MAAS,GAAG,EACpEJ,EAAW,YAAc,GAAG,OAAAK,EAAO,IAC/C,MAAmBD,EAAS,SAChBJ,EAAW,YAAc,OAEzBA,EAAW,YAAc,cAKjC,MAAMC,EAAY,SAAS,eAAe,wBAAwB,EAC9DA,IACAA,EAAU,YAAcG,EAAS,WAAa,KAGlD,MAAMF,EAAS,SAAS,eAAe,qBAAqB,EAM5D,GALIA,IACAA,EAAO,YAAcE,EAAS,QAAU,KAIxCA,EAAS,SAAU,CACnB,MAAMd,EAAU,SAAS,eAAe,uBAAuB,EAC3DA,GACAA,EAAQ,UAAU,OAAO,QAAQ,EAGrC,MAAMC,EAAY,SAAS,eAAe,yBAAyB,EAC/DA,GACAA,EAAU,UAAU,IAAI,QAAQ,EAIhCO,IAAW,CAACM,EAAS,QAAUA,EAAS,SAAW,uCACnDN,EAAO,YAAc,mCAIrBD,IACAA,EAAY,MAAM,MAAQ,OAC1BA,EAAY,UAAU,OAAO,eAAe,EAExD,CACA,CAGA,OAAO,0BAA4BM,EAKnC,SAASV,GAAoB,CAEzBD,EAAuB,EAGvBX,EAAkB,mCAAoC,GAAI,CAC9D,CA8MA,SAAS,iBAAiB,mBAAoB,IAAM,CAMhD,GALA,QAAQ,IAAI,iCAAiC,EAC7CK,EAAsB,EAIlB,CADmB,SAAS,eAAe,8BAA8B,EACxD,CACjB,QAAQ,MAAM,qDAAqD,EACnE,MAAMqB,EAAY,SAAS,cAAc,KAAK,EAC9CA,EAAU,GAAK,+BACf,SAAS,KAAK,YAAYA,CAAS,EACnCrB,EAAsB,CAC9B,CAGQ,OAAO,OAAO,2BAA8B,aAC5C,QAAQ,MAAM,iEAAiE,EAC/E,OAAO,0BAA4BiB,GAInC,OAAO,OAAO,sBAAyB,aACvC,QAAQ,MAAM,4DAA4D,EAC1E,OAAO,qBAAuBR,EAEtC,CAAC,EAGD,OAAO,qBAAuBA,EAC9B,OAAO,0BAA4BQ,EACnC,OAAO,qBAAuBjB"}