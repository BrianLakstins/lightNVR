System.register(["./query-client-legacy-CQtkeh2X.js"],(function(e,t){"use strict";var n,o,a,r,s,d,l;return{setters:[e=>{n=e._,o=e.Q,a=e.e,r=e.b,s=e.d,d=e.y,l=e.c}],execute:function(){e({D:function(e){const{isOpen:t,onClose:n,onConfirm:o,mode:a,count:r}=e;if(!t)return null;let s="Confirm Delete",d="Are you sure you want to delete this item?";return"selected"===a?(s="Delete Selected Recordings",d=`Are you sure you want to delete ${r} selected recording${1!==r?"s":""}?`):"all"===a&&(s="Delete All Filtered Recordings",d="Are you sure you want to delete all recordings matching the current filters? This action cannot be undone."),u`
    <div
      class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"
      onClick=${e=>{e.target===e.currentTarget&&n()}}
      onKeyDown=${e=>{"Escape"===e.key&&n()}}
    >
      <div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-md mx-auto">
        <div class="mb-4">
          <h3 class="text-lg font-semibold text-gray-900 dark:text-white">${s}</h3>
        </div>

        <p class="text-gray-600 dark:text-gray-300 mb-6">${d}</p>

        <div class="flex justify-end space-x-3">
          <button
            class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600"
            onClick=${n}
          >
            Cancel
          </button>
          <button
            class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors"
            onClick=${o}
          >
            Delete
          </button>
        </div>
      </div>
    </div>
  `},F:function(){const[e]=s((new Date).getFullYear());return l("footer",{class:"bg-gray-800 text-white py-3 px-4 mt-4 shadow-inner",children:l("div",{class:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:l("div",{class:"text-center sm:text-left mb-2 sm:mb-0",children:[l("p",{class:"text-sm",children:["© ",e," LightNVR ·",l("a",{href:"https://github.com/opensensor/lightnvr",class:"text-blue-300 hover:text-blue-100 text-sm",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]}),l("p",{class:"text-xs text-gray-400 mt-1 hidden sm:block",children:"Lightweight Network Video Recorder"})]})})})},H:function({version:e=h}){const t=document.getElementById("header-container"),n=t?.dataset?.activeNav||"",[o,a]=s(""),[r,i]=s(!1);d((()=>{const e=localStorage.getItem("auth");if(e)try{const t=atob(e).split(":")[0];a(t)}catch(t){console.error("Error decoding auth token:",t),a("User")}else a("User")}),[]);const c=e=>{e.preventDefault(),localStorage.removeItem("auth"),document.cookie="auth=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict",document.cookie="session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict",fetch("/api/auth/logout",{method:"POST"}).then((()=>{window.location.href="login.html?auth_required=true&logout=true"})).catch((()=>{window.location.href="login.html?auth_required=true&logout=true"}))},m=()=>{i(!r)},u=[{id:"nav-live",href:"/"===window.location.pathname||window.location.pathname.endsWith("/")?"./":"index.html",label:"Live View"},{id:"nav-recordings",href:"recordings.html",label:"Recordings"},{id:"nav-streams",href:"streams.html",label:"Streams"},{id:"nav-settings",href:"settings.html",label:"Settings"},{id:"nav-users",href:"users.html",label:"Users"},{id:"nav-system",href:"system.html",label:"System"}],g=e=>{const t=n===e.id?"bg-blue-600":"hover:bg-blue-700";return l("li",{className:r?"w-full":"mx-1",children:l("a",{href:e.href,id:e.id,className:`text-white no-underline rounded transition-colors ${r?"block w-full px-4 py-3 text-left":"px-3 py-2"} ${t}`,onClick:r?m:null,children:e.label})})};return l("header",{className:"bg-gray-800 text-white py-2 shadow-md mb-4 w-full",children:[l("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[l("div",{className:"logo flex items-center",children:[l("h1",{className:"text-xl font-bold m-0",children:"LightNVR"}),l("span",{className:"version text-blue-200 text-xs ml-2",children:["v",e]})]}),l("nav",{className:"hidden md:block",children:l("ul",{className:"flex list-none m-0 p-0",children:u.map(g)})}),l("div",{className:"user-menu hidden md:flex items-center",children:[l("span",{className:"mr-2",children:o}),l("a",{href:"#",onClick:c,className:"logout-link text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors",children:"Logout"})]}),l("button",{className:"md:hidden text-white p-2 focus:outline-none",onClick:m,"aria-label":"Toggle menu",children:l("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:r?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]}),r&&l("div",{className:"md:hidden mt-2 border-t border-gray-700 pt-2 container mx-auto px-4",children:l("ul",{className:"list-none m-0 p-0 flex flex-col w-full",children:[u.map(g),l("li",{className:"w-full mt-2 pt-2 border-t border-gray-700",children:l("div",{className:"flex justify-between items-center px-4 py-2",children:[l("span",{children:o}),l("a",{href:"#",onClick:c,className:"logout-link text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors",children:"Logout"})]})})]})})]})},a:function(){i((async()=>{const{initToastContainer:e}=await t.import("./toast-legacy-C25E1nCb.js");return{initToastContainer:e}}),void 0,t.meta.url).then((({initToastContainer:e})=>{e(!1)})).catch((e=>{if(console.error("Error loading toast module:",e),document.getElementById("status-message-styles"))return;const t=document.createElement("style");t.id="status-message-styles",t.textContent="\n      #status-message-container {\n        position: fixed;\n        top: 1rem;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n\n      .status-message {\n        background-color: #1f2937;\n        color: white;\n        padding: 0.5rem 1rem;\n        border-radius: 0.375rem;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n        margin-bottom: 0.5rem;\n        transition: all 0.3s ease;\n        opacity: 0;\n        transform: translateY(-0.5rem);\n      }\n\n      .status-message.show {\n        opacity: 1;\n        transform: translateY(0);\n      }\n\n      .status-message.success {\n        background-color: #10b981;\n      }\n\n      .status-message.error {\n        background-color: #ef4444;\n      }\n\n      .status-message.warning {\n        background-color: #f59e0b;\n      }\n\n      .status-message.info {\n        background-color: #3b82f6;\n      }\n    ",document.head.appendChild(t)}))},b:function(){if(document.getElementById("modal-styles"))return;const e=document.createElement("style");e.id="modal-styles",e.textContent="\n    .modal-content {\n      transition: all 0.3s ease-out;\n    }\n\n    .modal-content.scale-95 {\n      transform: scale(0.95);\n      opacity: 0;\n    }\n\n    .modal-content.scale-100 {\n      transform: scale(1);\n      opacity: 1;\n    }\n  ",document.head.appendChild(e)},c:g,d:function(e,t){const n=document.getElementById("snapshot-preview-modal");if(!n)return void console.error("Snapshot modal not found. Make sure setupModals() has been called.");const o=document.getElementById("snapshot-preview-title"),a=document.getElementById("snapshot-preview-image"),r=document.getElementById("snapshot-download-btn"),s=document.getElementById("snapshot-close-btn"),d=n.querySelectorAll(".close"),l=n.querySelector(".modal-content");function i(){n.classList.add("hidden"),l&&(l.classList.remove("scale-100"),l.classList.add("scale-95"))}o&&(o.textContent=`Snapshot: ${t}`),n.dataset.imageData=e,n.dataset.streamName=t,a&&(a.src=e,a.style.display="block",a.onload=()=>{console.log("Snapshot image loaded successfully")},a.onerror=e=>{console.error("Error loading snapshot image:",e)}),s&&(s.onclick=i),d.forEach((e=>{e.onclick=i})),n.onclick=function(e){e.target===n&&i()},document.addEventListener("keydown",(function(e){"Escape"!==e.key||n.classList.contains("hidden")||i()})),r&&(r.onclick=function(){const e=n.dataset.imageData,o=n.dataset.streamName||t;if(!e)return console.error("No image data available for download"),void g("Download failed: No image data available",5e3);console.log("Downloading snapshot with data URL length:",e.length);try{console.log("Using iframe download method");const t=document.createElement("canvas"),n=new Image;n.onload=function(){try{console.log("Image loaded for optimization, original dimensions:",n.width,"x",n.height);const e=n.width,s=n.height;console.log("Using original image dimensions for maximum quality:",e,"x",s),t.width=e,t.height=s;const d=t.getContext("2d");d.fillStyle="black",d.fillRect(0,0,t.width,t.height),d.drawImage(n,0,0,e,s);const l=t.toDataURL("image/jpeg",1);console.log("Optimized JPEG data URL length:",l.length);const i=`snapshot_${o}_${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`,c=document.createElement("iframe");c.style.display="none",document.body.appendChild(c);try{const e=c.contentWindow.document;e.open(),e.write(`\n                <!DOCTYPE html>\n                <html>\n                <head>\n                  <title>Downloading...</title>\n                  <script>\n                    function startDownload() {\n                      const a = document.getElementById('download-link');\n                      a.click();\n                      setTimeout(function() {\n                        window.parent.postMessage('download-complete', '*');\n                      }, 1000);\n                    }\n                  <\/script>\n                </head>\n                <body onload="startDownload()">\n                  <a id="download-link" href="${l}" download="${i}">Download</a>\n                </body>\n                </html>\n              `),e.close(),window.addEventListener("message",(function e(t){"download-complete"===t.data&&(window.removeEventListener("message",e),document.body.removeChild(c),g("Snapshot downloaded successfully",3e3))}),{once:!0}),setTimeout((()=>{document.body.contains(c)&&document.body.removeChild(c)}),5e3)}catch(r){console.error("Iframe download method failed:",r),document.body.removeChild(c),a(l,i)}}catch(s){console.error("Canvas processing error:",s),g("Download failed: Error processing image",5e3),a(e,`snapshot_${o}_${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`)}},n.onerror=function(t){console.error("Error loading image for optimization:",t),g("Download failed: Could not load image",5e3),a(e,`snapshot_${o}_${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`)},n.src=e}catch(r){console.error("Error in snapshot download process:",r),g("Download failed: "+r.message,5e3),a(e,`snapshot_${o}_${(new Date).toISOString().replace(/[:.]/g,"-")}.jpg`)}function a(e,t){console.log("Attempting direct link download");try{const n=document.createElement("a");n.href=e,n.download=t,n.target="_blank",n.rel="noopener noreferrer",document.body.appendChild(n),n.click(),setTimeout((()=>{document.body.removeChild(n)}),100),g("Download initiated",3e3)}catch(n){console.error("Direct link download failed:",n),g("Download failed: Browser restrictions",5e3)}}}),n.classList.remove("hidden"),l&&setTimeout((()=>{l.classList.remove("scale-95","opacity-0"),l.classList.add("scale-100","opacity-100")}),10)},e:function(e,n,s){const d=document.createElement("div");d.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",d.id="video-modal-overlay";const l=document.createElement("div");l.className="bg-gray-50 dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl flex flex-col w-full md:w-[90%]";const c=document.createElement("div");c.className="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700";const m=document.createElement("h3");m.className="text-lg font-semibold text-gray-900 dark:text-white",m.textContent=n||"Video";const u=document.createElement("button");u.className="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",u.innerHTML="✕",u.addEventListener("click",(()=>{document.body.removeChild(d)})),c.appendChild(m),c.appendChild(u);const g=document.createElement("div");g.className="p-4";const h=document.createElement("video");h.src=e,h.className="w-full h-auto max-w-full object-contain mx-auto",h.controls=!0,h.autoplay=!0,g.appendChild(h);const p=document.createElement("div");p.id="recordings-controls",p.className="mx-4 mb-4 p-4 border border-green-500 rounded-lg bg-white dark:bg-gray-700 shadow-md relative z-10";const y=document.createElement("h3");y.className="text-lg font-bold text-center mb-4 text-gray-800 dark:text-white",y.textContent="PLAYBACK CONTROLS",p.appendChild(y);const b=document.createElement("div");b.className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-2";const x=document.createElement("div");x.className="border-b pb-4 md:border-b-0 md:border-r md:pr-4 md:pb-0";const f=document.createElement("h4");f.className="font-bold text-center mb-3 text-gray-700 dark:text-gray-300",f.textContent="Playback Speed",x.appendChild(f);const v=document.createElement("div");v.className="flex flex-wrap justify-center gap-2",[.25,.5,1,1.5,2,4].forEach((e=>{const t=document.createElement("button");t.textContent=1===e?"1× (Normal)":`${e}×`,t.className=1===e?"speed-btn px-3 py-2 rounded-full bg-green-500 text-white text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50":"speed-btn px-3 py-2 rounded-full bg-gray-200 hover:bg-gray-300 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50",t.setAttribute("data-speed",e),t.addEventListener("click",(()=>{h.playbackRate=e,v.querySelectorAll(".speed-btn").forEach((t=>{t.getAttribute("data-speed")===e.toString()?(t.classList.remove("bg-gray-200","hover:bg-gray-300"),t.classList.add("bg-green-500","text-white")):(t.classList.remove("bg-green-500","text-white"),t.classList.add("bg-gray-200","hover:bg-gray-300"))})),w.textContent=`Current Speed: ${e}× ${1===e?"(Normal)":""}`})),v.appendChild(t)})),x.appendChild(v);const w=document.createElement("div");w.id="current-speed-indicator",w.className="mt-3 text-center font-medium text-green-600 dark:text-green-400 text-sm",w.textContent="Current Speed: 1× (Normal)",x.appendChild(w),b.appendChild(x);const k=document.createElement("div");k.className="pt-4 md:pt-0 md:pl-4";const C=document.createElement("h4");C.className="font-bold text-center mb-2 text-gray-700 dark:text-gray-300",C.textContent="Detection Overlays",k.appendChild(C);const E=document.createElement("div");E.className="flex flex-col items-center gap-2";const N=document.createElement("div");N.className="flex items-center gap-2 mb-2";const S=document.createElement("input");S.type="checkbox",S.id="detection-overlay-checkbox",S.className="w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600";const $=document.createElement("label");$.htmlFor="detection-overlay-checkbox",$.className="text-sm font-medium text-gray-700 dark:text-gray-300",$.textContent="Show Detection Overlays",N.appendChild(S),N.appendChild($),E.appendChild(N);const L=document.createElement("div");L.className="flex flex-col w-full mt-2 mb-2";const D=document.createElement("label");D.htmlFor="detection-sensitivity-slider",D.className="text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",D.textContent="Detection Sensitivity";const T=document.createElement("div");T.id="detection-sensitivity-value",T.className="text-xs text-gray-600 dark:text-gray-400 text-center mb-1",T.textContent="Time Window: 2 seconds";const j=document.createElement("input");j.type="range",j.id="detection-sensitivity-slider",j.className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700",j.min="1",j.max="10",j.step="1",j.value="2",L.appendChild(D),L.appendChild(j),L.appendChild(T),j.addEventListener("input",(()=>{q=parseInt(j.value),T.textContent=`Time Window: ${q} second${1!==q?"s":""}`,O&&P()})),E.appendChild(L);const M=document.createElement("div");if(M.id="detection-status-indicator",M.className="text-center text-sm text-gray-600 dark:text-gray-400",M.textContent="No detections loaded",E.appendChild(M),k.appendChild(E),b.appendChild(k),p.appendChild(b),s){const e=document.createElement("div");e.className="flex justify-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-700";const t=document.createElement("a");t.className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center text-sm",t.innerHTML='\n      <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">\n        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" />\n      </svg>\n      Download Video\n    ',t.href=s,t.download=`video-${Date.now()}.mp4`,e.appendChild(t),p.appendChild(e)}const I=document.createElement("div");I.className="p-2";const _=document.createElement("div");_.className="relative",_.style.position="relative",_.style.width="100%",_.style.height="100%";const R=document.createElement("canvas");R.id="detection-overlay-canvas",R.className="absolute top-0 left-0 w-full h-full pointer-events-none",R.style.position="absolute",R.style.top="0",R.style.left="0",R.style.width="100%",R.style.height="100%",R.style.pointerEvents="none",R.style.display="none",_.appendChild(h),_.appendChild(R),g.appendChild(_);let B=null,A=[],O=!1,q=parseInt(j.value);const z=e.match(/\/play\/(\d+)/);if(z&&z[1]){const e=parseInt(z[1],10),n=document.createElement("div");n.id="query-container",n.style.display="none",document.body.appendChild(n),i((async()=>{const{render:e,h:n}=await t.import("./query-client-legacy-CQtkeh2X.js").then((e=>e.p));return{render:e,h:n}}),void 0,t.meta.url).then((({render:t,h:s})=>{t(s(o,{client:a},s((()=>{const{data:t,isLoading:n,error:o}=r(["recording",e],`/api/recordings/${e}`);let a,s,d,l=!1;t&&t.stream&&t.start_time&&t.end_time&&(B=t,console.log("Recording data:",t),a=Math.floor(new Date(t.start_time).getTime()/1e3),s=Math.floor(new Date(t.end_time).getTime()/1e3),d=t.stream,l=!0);const{data:i,isLoading:c,error:m}=r(["detections",d,a,s],l?`/api/detection/results/${d}?start=${a}&end=${s}`:null,{},{enabled:l});return i&&i.detections&&(console.log("Detection data:",i),A=i.detections||[],M&&(A.length>0?(M.textContent=`${A.length} detection${1!==A.length?"s":""} available`,M.className="text-center text-sm font-medium text-green-600 dark:text-green-400",S&&(S.disabled=!1)):(M.textContent="No detections found for this recording",S&&(S.disabled=!0)))),o&&console.error("Error loading recording data:",o),m&&(console.error("Error loading detection data:",m),M&&(M.textContent="Error loading detections",M.className="text-center text-sm font-medium text-red-600 dark:text-red-400"),S&&(S.disabled=!0)),null}))),n)})).catch((t=>{console.error("Error loading preact for data fetching:",t),fetch(`/api/recordings/${e}`).then((e=>e.json())).then((e=>{if(B=e,B&&B.stream&&B.start_time&&B.end_time){const e=Math.floor(new Date(B.start_time).getTime()/1e3),t=Math.floor(new Date(B.end_time).getTime()/1e3),n=new URLSearchParams({start:e,end:t});return fetch(`/api/detection/results/${B.stream}?${n.toString()}`)}throw new Error("Recording data incomplete")})).then((e=>e.json())).then((e=>{A=e.detections||[],A.length>0?(M.textContent=`${A.length} detection${1!==A.length?"s":""} available`,M.className="text-center text-sm font-medium text-green-600 dark:text-green-400",S.disabled=!1):(M.textContent="No detections found for this recording",S.disabled=!0)})).catch((e=>{console.error("Error fetching detection data:",e),M.textContent="Error loading detections",M.className="text-center text-sm font-medium text-red-600 dark:text-red-400",S.disabled=!0}))}))}function P(){if(!O||!h||!R||0===A.length)return;const e=h.videoWidth,t=h.videoHeight;if(0===e||0===t)return void requestAnimationFrame(P);R.width=e,R.height=t;const n=R.getContext("2d");n.clearRect(0,0,R.width,R.height);const o=h.currentTime;if(!B||!B.start_time)return;const a=Math.floor(new Date(B.start_time).getTime()/1e3)+Math.floor(o),r=A.filter((e=>!!e.timestamp&&Math.abs(e.timestamp-a)<=q));M&&(r.length>0?M.textContent=`Showing ${r.length} detection${1!==r.length?"s":""} at current time`:M.textContent=`No detections at current time (${A.length} total)`),r.forEach((o=>{const a=o.x*e,r=o.y*t,s=o.width*e,d=o.height*t;n.strokeStyle="rgba(0, 255, 0, 0.8)",n.lineWidth=2,n.strokeRect(a,r,s,d),n.fillStyle="rgba(0, 0, 0, 0.7)";const l=`${o.label} (${Math.round(100*o.confidence)}%)`,i=n.measureText(l).width+10;n.fillRect(a,r-20,i,20),n.fillStyle="white",n.font="12px Arial",n.fillText(l,a+5,r-5)})),h.paused||h.ended||requestAnimationFrame(P)}S.addEventListener("change",(()=>{O=S.checked,O?(R.style.display="block",P(),M.textContent=`Showing ${A.length} detection${1!==A.length?"s":""}`):(R.style.display="none",M.textContent=`${A.length} detection${1!==A.length?"s":""} available`)})),h.addEventListener("play",(()=>{O&&P()})),h.addEventListener("seeked",(()=>{O&&P()})),h.addEventListener("timeupdate",(()=>{if(O){const e=Math.floor(2*h.currentTime)/2;h.lastDrawnTime!==e&&(h.lastDrawnTime=e,P())}})),l.appendChild(c),l.appendChild(g),l.appendChild(p),l.appendChild(I),d.appendChild(l),document.body.appendChild(d);const U=e=>{"Escape"===e.key&&(document.body.contains(d)&&document.body.removeChild(d),document.removeEventListener("keydown",U))};document.addEventListener("keydown",U),d.addEventListener("click",(e=>{e.target===d&&document.body.removeChild(d)}))},s:function(){let e=document.getElementById("snapshot-modal-container");e||(e=document.createElement("div"),e.id="snapshot-modal-container",document.body.appendChild(e));const t=document.createElement("div");t.id="snapshot-preview-modal",t.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden",t.innerHTML='\n    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0" style="width: 90%;">\n      <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700">\n        <h3 id="snapshot-preview-title" class="text-lg font-semibold text-gray-900 dark:text-white">Snapshot</h3>\n        <button class="close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">✕</button>\n      </div>\n      <div class="p-4 overflow-auto flex-grow">\n        <img id="snapshot-preview-image" class="max-w-full max-h-[70vh] mx-auto" src="" alt="Snapshot">\n      </div>\n      <div class="p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2">\n        <button id="snapshot-download-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors">Download</button>\n        <button id="snapshot-close-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Close</button>\n      </div>\n    </div>\n  ',e.appendChild(t);let n=document.getElementById("video-modal-container");n||(n=document.createElement("div"),n.id="video-modal-container",document.body.appendChild(n));const o=document.createElement("div");o.id="video-preview-modal",o.className="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden",o.innerHTML='\n    <div class="modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0 w-full md:w-[90%]">\n      <div class="flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700">\n        <h3 id="video-preview-title" class="text-lg font-semibold text-gray-900 dark:text-white">Video</h3>\n        <button class="close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">✕</button>\n      </div>\n      <div class="p-4 flex-grow">\n        <video id="video-preview-player" class="w-full h-auto max-w-full object-contain mx-auto" controls autoplay></video>\n      </div>\n      <div class="p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2">\n        <a id="video-download-btn" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors" href="#" download>Download</a>\n        <button id="video-close-btn" class="px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600">Close</button>\n      </div>\n    </div>\n  ',n.appendChild(o),document.addEventListener("keydown",(e=>{"Escape"===e.key&&document.querySelectorAll(".fixed.inset-0.bg-black.bg-opacity-75").forEach((e=>{e.classList.contains("hidden")||e.classList.add("hidden")}))}))}});const i=function(e,t,n){let o=Promise.resolve();function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return o.then((t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)}))};var c=function(e,t,n,o){var a;t[0]=0;for(var r=1;r<t.length;r++){var s=t[r++],d=t[r]?(t[0]|=s?1:2,n[t[r++]]):t[++r];3===s?o[0]=d:4===s?o[1]=Object.assign(o[1]||{},d):5===s?(o[1]=o[1]||{})[t[++r]]=d:6===s?o[1][t[++r]]+=d+"":s?(a=e.apply(d,c(e,d,n,["",null])),o.push(a),d[0]?t[0]|=2:(t[r-2]=0,t[r]=a)):o.push(d)}return o},m=new Map;const u=e("h",function(e){var t=m.get(this);return t||(t=new Map,m.set(this,t)),(t=c(this,t.get(e)||(t.set(e,t=function(e){for(var t,n,o=1,a="",r="",s=[0],d=function(e){1===o&&(e||(a=a.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?s.push(0,e,a):3===o&&(e||a)?(s.push(3,e,a),o=2):2===o&&"..."===a&&e?s.push(4,e,0):2===o&&a&&!e?s.push(5,0,!0,a):o>=5&&((a||!e&&5===o)&&(s.push(o,0,a,n),o=6),e&&(s.push(o,e,0,n),o=6)),a=""},l=0;l<e.length;l++){l&&(1===o&&d(),d(l));for(var i=0;i<e[l].length;i++)t=e[l][i],1===o?"<"===t?(d(),s=[s],o=3):a+=t:4===o?"--"===a&&">"===t?(o=1,a=""):a=t+a[0]:r?t===r?r="":a+=t:'"'===t||"'"===t?r=t:">"===t?(d(),o=1):o&&("="===t?(o=5,n=a,a=""):"/"===t&&(o<5||">"===e[l][i+1])?(d(),3===o&&(s=s[0]),o=s,(s=s[0]).push(2,0,o),o=0):" "===t||"\t"===t||"\n"===t||"\r"===t?(d(),o=2):a+=t),3===o&&"!--"===a&&(o=4,s=s[0])}return d(),s}(e)),t),arguments,[])).length>1?t:t[0]}.bind(n));function g(e,n="info",o=4e3){console.log(`Showing status message: ${e} (${n})`),window.showToast?window.showToast(e,n,o):i((async()=>{const{showStatusMessage:e}=await t.import("./toast-legacy-C25E1nCb.js");return{showStatusMessage:e}}),void 0,t.meta.url).then((({showStatusMessage:t})=>{t(e,n,o)})).catch((t=>{console.error("Error loading toast module:",t);let a=document.getElementById("status-message-container");a||(a=document.createElement("div"),a.id="status-message-container",a.className="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center",document.body.appendChild(a));const r=document.createElement("div");let s="bg-blue-500";"success"===n?s="bg-green-500":"error"===n?s="bg-red-500":"warning"===n&&(s="bg-yellow-500"),r.className=`${s} text-white px-4 py-2 rounded-lg shadow-lg mb-2 transition-all duration-300 opacity-0 transform translate-y-2`,r.textContent=e,a.appendChild(r),setTimeout((()=>{r.classList.remove("opacity-0","translate-y-2")}),10),setTimeout((()=>{r.classList.add("opacity-0","translate-y-2"),setTimeout((()=>{r.parentNode===a&&a.removeChild(r),0===a.children.length&&a.parentNode===document.body&&document.body.removeChild(a)}),300)}),o)}))}const h="0.11.19"}}}));
//# sourceMappingURL=Footer-legacy-x_P_Y9af.js.map
