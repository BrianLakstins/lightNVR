{"version":3,"mappings":"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","names":["n","t","s","r","e","u","h","p","a","htm","l","html","setupModals","snapshotModalContainer","snapshotModal","videoModalContainer","videoModal","modal","addStatusMessageStyles","__vitePreload","initToastContainer","error","style","addModalStyles","DeleteConfirmationModal","props","isOpen","onClose","onConfirm","mode","count","title","message","handleKeyDown","handleBackgroundClick","_a","__template","showVideoModal","videoUrl","downloadUrl","overlay","modalContainer","header","titleElement","closeButton","videoContainer","video","controlsContainer","heading","controlsGrid","speedControlsSection","speedHeading","speedButtonsContainer","speed","button","btn","currentSpeedIndicator","detectionSection","detectionHeading","detectionControlsContainer","detectionCheckboxContainer","detectionCheckbox","detectionCheckboxLabel","sensitivityContainer","sensitivityLabel","sensitivityValue","sensitivitySlider","timeWindow","detectionOverlayEnabled","drawDetections","detectionStatusIndicator","downloadSection","downloadButton","footer","canvasContainer","detectionCanvas","recordingData","detections","recordingIdMatch","recordingId","queryContainer","render","QueryClientProvider","queryClient","recording","isLoadingRecording","recordingError","useQuery","detectionQueryEnabled","startTime","endTime","streamName","detectionData","isLoadingDetections","detectionError","err","response","data","params","videoWidth","videoHeight","ctx","currentTime","currentTimestamp","visibleDetections","detection","x","y","width","height","labelText","labelWidth","handleEscape","showStatusMessage","type","duration","showToast","statusContainer","messageElement","typeClass","showSnapshotPreview","imageData","snapshotTitle","snapshotImage","snapshotDownloadBtn","snapshotCloseBtn","closeButtons","modalContent","closeModal","event","storedImageData","storedStreamName","canvas","img","newWidth","newHeight","optimizedJpegData","filename","iframe","iframeDoc","onMessage","iframeError","tryDirectLinkDownload","canvasError","dataUrl","link","linkError","VERSION","Header","version","headerContainer","activeNav","username","setUsername","useState","mobileMenuOpen","setMobileMenuOpen","useEffect","auth","extractedUsername","handleLogout","toggleMobileMenu","navItems","renderNavItem","item","isActive","baseClasses","desktopClasses","mobileClasses","activeClass","jsx","jsxs","Footer","year"],"ignoreList":[0],"sources":["../../node_modules/htm/dist/htm.module.js","../../js/html-helper.js","../../js/components/preact/UI.js","../../js/version.js","../../js/components/preact/Header.jsx","../../js/components/preact/Footer.jsx"],"sourcesContent":["var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","/**\n * LightNVR Web Interface HTML Helper\n * Provides the html template literal function for Preact components\n */\n\nimport { h } from 'preact';\nimport htm from 'htm';\n\n// Initialize htm with Preact's h\nexport const html = htm.bind(h);\n","/**\n * UI utility functions for LiveView\n */\n\n\nimport { html } from '../../html-helper.js';\nimport { useQuery, QueryClientProvider, queryClient } from '../../query-client.js';\n\n/**\n * Set up modals for the application\n */\nexport function setupModals() {\n  // Create snapshot modal container if it doesn't exist\n  let snapshotModalContainer = document.getElementById('snapshot-modal-container');\n  if (!snapshotModalContainer) {\n    snapshotModalContainer = document.createElement('div');\n    snapshotModalContainer.id = 'snapshot-modal-container';\n    document.body.appendChild(snapshotModalContainer);\n  }\n\n  // Create snapshot preview modal\n  const snapshotModal = document.createElement('div');\n  snapshotModal.id = 'snapshot-preview-modal';\n  snapshotModal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden';\n\n  snapshotModal.innerHTML = `\n    <div class=\"modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0\" style=\"width: 90%;\">\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 id=\"snapshot-preview-title\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">Snapshot</h3>\n        <button class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">✕</button>\n      </div>\n      <div class=\"p-4 overflow-auto flex-grow\">\n        <img id=\"snapshot-preview-image\" class=\"max-w-full max-h-[70vh] mx-auto\" src=\"\" alt=\"Snapshot\">\n      </div>\n      <div class=\"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2\">\n        <button id=\"snapshot-download-btn\" class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\">Download</button>\n        <button id=\"snapshot-close-btn\" class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\">Close</button>\n      </div>\n    </div>\n  `;\n\n  snapshotModalContainer.appendChild(snapshotModal);\n\n  // Create video modal container if it doesn't exist\n  let videoModalContainer = document.getElementById('video-modal-container');\n  if (!videoModalContainer) {\n    videoModalContainer = document.createElement('div');\n    videoModalContainer.id = 'video-modal-container';\n    document.body.appendChild(videoModalContainer);\n  }\n\n  // Create video preview modal\n  const videoModal = document.createElement('div');\n  videoModal.id = 'video-preview-modal';\n  videoModal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden';\n\n  videoModal.innerHTML = `\n    <div class=\"modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0 w-full md:w-[90%]\">\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 id=\"video-preview-title\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">Video</h3>\n        <button class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">✕</button>\n      </div>\n      <div class=\"p-4 flex-grow\">\n        <video id=\"video-preview-player\" class=\"w-full h-auto max-w-full object-contain mx-auto\" controls autoplay></video>\n      </div>\n      <div class=\"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2\">\n        <a id=\"video-download-btn\" class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\" href=\"#\" download>Download</a>\n        <button id=\"video-close-btn\" class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\">Close</button>\n      </div>\n    </div>\n  `;\n\n  videoModalContainer.appendChild(videoModal);\n\n  // Set up event listeners for modals\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n      // Close any open modals\n      const modals = document.querySelectorAll('.fixed.inset-0.bg-black.bg-opacity-75');\n      modals.forEach(modal => {\n        if (!modal.classList.contains('hidden')) {\n          modal.classList.add('hidden');\n        }\n      });\n    }\n  });\n}\n\n/**\n * Add status message styles to the document\n */\nexport function addStatusMessageStyles() {\n  // Import the toast module to ensure it's loaded\n  import('./toast.js').then(({ initToastContainer }) => {\n    // Initialize the toast container\n    initToastContainer(false);\n  }).catch(error => {\n    console.error('Error loading toast module:', error);\n\n    // Fallback to basic styles if toast module fails to load\n    if (document.getElementById('status-message-styles')) {\n      return;\n    }\n\n    // Create style element\n    const style = document.createElement('style');\n    style.id = 'status-message-styles';\n\n    // Add CSS rules\n    style.textContent = `\n      #status-message-container {\n        position: fixed;\n        top: 1rem;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n\n      .status-message {\n        background-color: #1f2937;\n        color: white;\n        padding: 0.5rem 1rem;\n        border-radius: 0.375rem;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n        margin-bottom: 0.5rem;\n        transition: all 0.3s ease;\n        opacity: 0;\n        transform: translateY(-0.5rem);\n      }\n\n      .status-message.show {\n        opacity: 1;\n        transform: translateY(0);\n      }\n\n      .status-message.success {\n        background-color: #10b981;\n      }\n\n      .status-message.error {\n        background-color: #ef4444;\n      }\n\n      .status-message.warning {\n        background-color: #f59e0b;\n      }\n\n      .status-message.info {\n        background-color: #3b82f6;\n      }\n    `;\n\n    // Add to document head\n    document.head.appendChild(style);\n  });\n}\n\n/**\n * Add modal styles to the document\n */\nexport function addModalStyles() {\n  // Check if styles already exist\n  if (document.getElementById('modal-styles')) {\n    return;\n  }\n\n  // Create style element\n  const style = document.createElement('style');\n  style.id = 'modal-styles';\n\n  // Add CSS rules\n  style.textContent = `\n    .modal-content {\n      transition: all 0.3s ease-out;\n    }\n\n    .modal-content.scale-95 {\n      transform: scale(0.95);\n      opacity: 0;\n    }\n\n    .modal-content.scale-100 {\n      transform: scale(1);\n      opacity: 1;\n    }\n  `;\n\n  // Add to document head\n  document.head.appendChild(style);\n}\n\n/**\n * DeleteConfirmationModal component for Preact\n * This is the declarative version for use with Preact JSX\n * @param {Object} props - Component props\n * @param {boolean} props.isOpen - Whether the modal is open\n * @param {Function} props.onClose - Function to call when the modal is closed\n * @param {Function} props.onConfirm - Function to call when delete is confirmed\n * @param {string} props.mode - Delete mode ('selected' or 'all')\n * @param {number} props.count - Number of items selected (for 'selected' mode)\n * @returns {JSX.Element} DeleteConfirmationModal component\n */\nexport function DeleteConfirmationModal(props) {\n  const { isOpen, onClose, onConfirm, mode, count } = props;\n\n  if (!isOpen) return null;\n\n  // Determine title and message based on mode\n  let title = 'Confirm Delete';\n  let message = 'Are you sure you want to delete this item?';\n\n  if (mode === 'selected') {\n    title = 'Delete Selected Recordings';\n    message = `Are you sure you want to delete ${count} selected recording${count !== 1 ? 's' : ''}?`;\n  } else if (mode === 'all') {\n    title = 'Delete All Filtered Recordings';\n    message = 'Are you sure you want to delete all recordings matching the current filters? This action cannot be undone.';\n  }\n\n  // Handle escape key\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  // Handle background click\n  const handleBackgroundClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return html`\n    <div\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      onClick=${handleBackgroundClick}\n      onKeyDown=${handleKeyDown}\n    >\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-md mx-auto\">\n        <div class=\"mb-4\">\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">${title}</h3>\n        </div>\n\n        <p class=\"text-gray-600 dark:text-gray-300 mb-6\">${message}</p>\n\n        <div class=\"flex justify-end space-x-3\">\n          <button\n            class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\"\n            onClick=${onClose}\n          >\n            Cancel\n          </button>\n          <button\n            class=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n            onClick=${onConfirm}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n/**\n * Show a video modal\n * @param {string} videoUrl - URL of the video to display\n * @param {string} title - Title for the video\n * @param {string} downloadUrl - Optional URL for downloading the video\n */\nexport function showVideoModal(videoUrl, title, downloadUrl) {\n  // Create overlay container\n  const overlay = document.createElement('div');\n  overlay.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';\n  overlay.id = 'video-modal-overlay';\n\n  // Create modal container with responsive classes\n  const modalContainer = document.createElement('div');\n  modalContainer.className = 'bg-gray-50 dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl flex flex-col w-full md:w-[90%]';\n\n  // Create header\n  const header = document.createElement('div');\n  header.className = 'flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700';\n\n  const titleElement = document.createElement('h3');\n  titleElement.className = 'text-lg font-semibold text-gray-900 dark:text-white';\n  titleElement.textContent = title || 'Video';\n\n  const closeButton = document.createElement('button');\n  closeButton.className = 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200';\n  closeButton.innerHTML = '✕';\n  closeButton.addEventListener('click', () => {\n    document.body.removeChild(overlay);\n  });\n\n  header.appendChild(titleElement);\n  header.appendChild(closeButton);\n\n  // Create video container with responsive classes\n  const videoContainer = document.createElement('div');\n  videoContainer.className = 'p-4';\n\n  const video = document.createElement('video');\n  video.src = videoUrl;\n  video.className = 'w-full h-auto max-w-full object-contain mx-auto';\n  video.controls = true;\n  video.autoplay = true;\n\n  videoContainer.appendChild(video);\n\n  // Create controls container with responsive Tailwind classes\n  const controlsContainer = document.createElement('div');\n  controlsContainer.id = 'recordings-controls';\n  controlsContainer.className = 'mx-4 mb-4 p-4 border border-green-500 rounded-lg bg-white dark:bg-gray-700 shadow-md relative z-10';\n\n  // Create heading\n  const heading = document.createElement('h3');\n  heading.className = 'text-lg font-bold text-center mb-4 text-gray-800 dark:text-white';\n  heading.textContent = 'PLAYBACK CONTROLS';\n  controlsContainer.appendChild(heading);\n\n  // Create controls grid container\n  const controlsGrid = document.createElement('div');\n  controlsGrid.className = 'grid grid-cols-1 md:grid-cols-2 gap-4 mb-2';\n\n  // Create speed controls section\n  const speedControlsSection = document.createElement('div');\n  speedControlsSection.className = 'border-b pb-4 md:border-b-0 md:border-r md:pr-4 md:pb-0';\n\n  // Create speed section heading\n  const speedHeading = document.createElement('h4');\n  speedHeading.className = 'font-bold text-center mb-3 text-gray-700 dark:text-gray-300';\n  speedHeading.textContent = 'Playback Speed';\n  speedControlsSection.appendChild(speedHeading);\n\n  // Create speed buttons container\n  const speedButtonsContainer = document.createElement('div');\n  speedButtonsContainer.className = 'flex flex-wrap justify-center gap-2';\n\n  // Create speed buttons\n  const speeds = [0.25, 0.5, 1.0, 1.5, 2.0, 4.0];\n  speeds.forEach(speed => {\n    const button = document.createElement('button');\n    button.textContent = speed === 1.0 ? '1× (Normal)' : `${speed}×`;\n    button.className = speed === 1.0\n      ? 'speed-btn px-3 py-2 rounded-full bg-green-500 text-white text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50'\n      : 'speed-btn px-3 py-2 rounded-full bg-gray-200 hover:bg-gray-300 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50';\n    button.setAttribute('data-speed', speed);\n\n    // Add click event\n    button.addEventListener('click', () => {\n      // Set playback speed\n      video.playbackRate = speed;\n\n      // Update button styles\n      speedButtonsContainer.querySelectorAll('.speed-btn').forEach(btn => {\n        if (btn.getAttribute('data-speed') === speed.toString()) {\n          btn.classList.remove('bg-gray-200', 'hover:bg-gray-300');\n          btn.classList.add('bg-green-500', 'text-white');\n        } else {\n          btn.classList.remove('bg-green-500', 'text-white');\n          btn.classList.add('bg-gray-200', 'hover:bg-gray-300');\n        }\n      });\n\n      // Update current speed indicator\n      currentSpeedIndicator.textContent = `Current Speed: ${speed}× ${speed === 1.0 ? '(Normal)' : ''}`;\n    });\n\n    speedButtonsContainer.appendChild(button);\n  });\n\n  // Add buttons container to speed controls section\n  speedControlsSection.appendChild(speedButtonsContainer);\n\n  // Add current speed indicator\n  const currentSpeedIndicator = document.createElement('div');\n  currentSpeedIndicator.id = 'current-speed-indicator';\n  currentSpeedIndicator.className = 'mt-3 text-center font-medium text-green-600 dark:text-green-400 text-sm';\n  currentSpeedIndicator.textContent = 'Current Speed: 1× (Normal)';\n  speedControlsSection.appendChild(currentSpeedIndicator);\n\n  // Add speed controls section to grid\n  controlsGrid.appendChild(speedControlsSection);\n\n  // Create detection overlay section\n  const detectionSection = document.createElement('div');\n  detectionSection.className = 'pt-4 md:pt-0 md:pl-4';\n\n  // Create detection section heading\n  const detectionHeading = document.createElement('h4');\n  detectionHeading.className = 'font-bold text-center mb-2 text-gray-700 dark:text-gray-300';\n  detectionHeading.textContent = 'Detection Overlays';\n  detectionSection.appendChild(detectionHeading);\n\n  // Create detection controls container\n  const detectionControlsContainer = document.createElement('div');\n  detectionControlsContainer.className = 'flex flex-col items-center gap-2';\n\n  // Create detection checkbox container\n  const detectionCheckboxContainer = document.createElement('div');\n  detectionCheckboxContainer.className = 'flex items-center gap-2 mb-2';\n\n  // Create detection checkbox\n  const detectionCheckbox = document.createElement('input');\n  detectionCheckbox.type = 'checkbox';\n  detectionCheckbox.id = 'detection-overlay-checkbox';\n  detectionCheckbox.className = 'w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600';\n\n  // Create detection checkbox label\n  const detectionCheckboxLabel = document.createElement('label');\n  detectionCheckboxLabel.htmlFor = 'detection-overlay-checkbox';\n  detectionCheckboxLabel.className = 'text-sm font-medium text-gray-700 dark:text-gray-300';\n  detectionCheckboxLabel.textContent = 'Show Detection Overlays';\n\n  // Add checkbox and label to container\n  detectionCheckboxContainer.appendChild(detectionCheckbox);\n  detectionCheckboxContainer.appendChild(detectionCheckboxLabel);\n\n  // Add checkbox container to detection controls\n  detectionControlsContainer.appendChild(detectionCheckboxContainer);\n\n  // Create sensitivity slider container\n  const sensitivityContainer = document.createElement('div');\n  sensitivityContainer.className = 'flex flex-col w-full mt-2 mb-2';\n\n  // Create sensitivity label\n  const sensitivityLabel = document.createElement('label');\n  sensitivityLabel.htmlFor = 'detection-sensitivity-slider';\n  sensitivityLabel.className = 'text-sm font-medium text-gray-700 dark:text-gray-300 mb-1';\n  sensitivityLabel.textContent = 'Detection Sensitivity';\n\n  // Create sensitivity value display\n  const sensitivityValue = document.createElement('div');\n  sensitivityValue.id = 'detection-sensitivity-value';\n  sensitivityValue.className = 'text-xs text-gray-600 dark:text-gray-400 text-center mb-1';\n  sensitivityValue.textContent = 'Time Window: 2 seconds';\n\n  // Create sensitivity slider\n  const sensitivitySlider = document.createElement('input');\n  sensitivitySlider.type = 'range';\n  sensitivitySlider.id = 'detection-sensitivity-slider';\n  sensitivitySlider.className = 'w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700';\n  sensitivitySlider.min = '1';\n  sensitivitySlider.max = '10';\n  sensitivitySlider.step = '1';\n  sensitivitySlider.value = '2';\n\n  // Add elements to sensitivity container\n  sensitivityContainer.appendChild(sensitivityLabel);\n  sensitivityContainer.appendChild(sensitivitySlider);\n  sensitivityContainer.appendChild(sensitivityValue);\n\n  // Add event listener to the sensitivity slider\n  sensitivitySlider.addEventListener('input', () => {\n    // Update the time window value\n    timeWindow = parseInt(sensitivitySlider.value);\n\n    // Update the sensitivity value display\n    sensitivityValue.textContent = `Time Window: ${timeWindow} second${timeWindow !== 1 ? 's' : ''}`;\n\n    // Redraw detections if enabled\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  // Add sensitivity container to detection controls\n  detectionControlsContainer.appendChild(sensitivityContainer);\n\n  // Create detection status indicator\n  const detectionStatusIndicator = document.createElement('div');\n  detectionStatusIndicator.id = 'detection-status-indicator';\n  detectionStatusIndicator.className = 'text-center text-sm text-gray-600 dark:text-gray-400';\n  detectionStatusIndicator.textContent = 'No detections loaded';\n\n  // Add status indicator to detection controls\n  detectionControlsContainer.appendChild(detectionStatusIndicator);\n\n  // Add detection controls to detection section\n  detectionSection.appendChild(detectionControlsContainer);\n\n  // Add detection section to grid\n  controlsGrid.appendChild(detectionSection);\n\n  // Add controls grid to container\n  controlsContainer.appendChild(controlsGrid);\n\n  // Add download button to controls container\n  if (downloadUrl) {\n    const downloadSection = document.createElement('div');\n    downloadSection.className = 'flex justify-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-700';\n\n    const downloadButton = document.createElement('a');\n    downloadButton.className = 'px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center text-sm';\n    downloadButton.innerHTML = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n      </svg>\n      Download Video\n    `;\n    downloadButton.href = downloadUrl;\n    downloadButton.download = `video-${Date.now()}.mp4`;\n\n    downloadSection.appendChild(downloadButton);\n    controlsContainer.appendChild(downloadSection);\n  }\n\n  // Create empty footer for spacing\n  const footer = document.createElement('div');\n  footer.className = 'p-2';\n\n  // Create detection overlay canvas container\n  const canvasContainer = document.createElement('div');\n  canvasContainer.className = 'relative';\n  canvasContainer.style.position = 'relative';\n  canvasContainer.style.width = '100%';\n  canvasContainer.style.height = '100%';\n\n  // Create detection overlay canvas\n  const detectionCanvas = document.createElement('canvas');\n  detectionCanvas.id = 'detection-overlay-canvas';\n  detectionCanvas.className = 'absolute top-0 left-0 w-full h-full pointer-events-none';\n  detectionCanvas.style.position = 'absolute';\n  detectionCanvas.style.top = '0';\n  detectionCanvas.style.left = '0';\n  detectionCanvas.style.width = '100%';\n  detectionCanvas.style.height = '100%';\n  detectionCanvas.style.pointerEvents = 'none';\n  detectionCanvas.style.display = 'none'; // Hidden by default\n\n  // Wrap video in canvas container\n  canvasContainer.appendChild(video);\n  canvasContainer.appendChild(detectionCanvas);\n  videoContainer.appendChild(canvasContainer);\n\n  // Store recording data for detection overlay\n  let recordingData = null;\n  let detections = [];\n  let detectionOverlayEnabled = false;\n  let timeWindow = parseInt(sensitivitySlider.value); // Time window in seconds for detection visibility\n\n  // Extract recording ID from URL\n  const recordingIdMatch = videoUrl.match(/\\/play\\/(\\d+)/);\n  if (recordingIdMatch && recordingIdMatch[1]) {\n    const recordingId = parseInt(recordingIdMatch[1], 10);\n\n    // Create a container for the query client\n    const queryContainer = document.createElement('div');\n    queryContainer.id = 'query-container';\n    queryContainer.style.display = 'none';\n    document.body.appendChild(queryContainer);\n\n    // Import preact for rendering\n    import('preact').then(({ render, h }) => {\n      // Create a component to fetch the data\n      const RecordingDataFetcher = () => {\n        // Fetch recording data\n        const { data: recording, isLoading: isLoadingRecording, error: recordingError } =\n          useQuery(['recording', recordingId], `/api/recordings/${recordingId}`);\n\n        // When recording data is loaded, fetch detections\n        let detectionQueryEnabled = false;\n        let startTime, endTime, streamName;\n\n        if (recording && recording.stream && recording.start_time && recording.end_time) {\n          recordingData = recording;\n          console.log('Recording data:', recording);\n\n          // Convert timestamps to seconds\n          startTime = Math.floor(new Date(recording.start_time).getTime() / 1000);\n          endTime = Math.floor(new Date(recording.end_time).getTime() / 1000);\n          streamName = recording.stream;\n          detectionQueryEnabled = true;\n        }\n\n        // Fetch detections if recording data is available\n        const { data: detectionData, isLoading: isLoadingDetections, error: detectionError } =\n          useQuery(\n            ['detections', streamName, startTime, endTime],\n            detectionQueryEnabled ? `/api/detection/results/${streamName}?start=${startTime}&end=${endTime}` : null,\n            {},\n            { enabled: detectionQueryEnabled }\n          );\n\n        // Process detection data when it's loaded\n        if (detectionData && detectionData.detections) {\n          console.log('Detection data:', detectionData);\n          detections = detectionData.detections || [];\n\n          // Update detection status\n          if (detectionStatusIndicator) {\n            if (detections.length > 0) {\n              detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n              detectionStatusIndicator.className = 'text-center text-sm font-medium text-green-600 dark:text-green-400';\n              // Enable detection checkbox\n              if (detectionCheckbox) {\n                detectionCheckbox.disabled = false;\n              }\n            } else {\n              // No detections found\n              detectionStatusIndicator.textContent = 'No detections found for this recording';\n              // Disable detection checkbox\n              if (detectionCheckbox) {\n                detectionCheckbox.disabled = true;\n              }\n            }\n          }\n        }\n\n        // Handle errors\n        if (recordingError) {\n          console.error('Error loading recording data:', recordingError);\n        }\n\n        if (detectionError) {\n          console.error('Error loading detection data:', detectionError);\n          // Update detection status\n          if (detectionStatusIndicator) {\n            detectionStatusIndicator.textContent = 'Error loading detections';\n            detectionStatusIndicator.className = 'text-center text-sm font-medium text-red-600 dark:text-red-400';\n          }\n          // Disable detection checkbox\n          if (detectionCheckbox) {\n            detectionCheckbox.disabled = true;\n          }\n        }\n\n        return null; // This component doesn't render anything\n      };\n\n      // Render the component with QueryClientProvider\n      render(\n        h(QueryClientProvider, { client: queryClient },\n          h(RecordingDataFetcher)\n        ),\n        queryContainer\n      );\n    }).catch(err => {\n      console.error('Error loading preact for data fetching:', err);\n\n      // Fallback to traditional fetch if preact-query fails\n      fetch(`/api/recordings/${recordingId}`)\n        .then(response => response.json())\n        .then(data => {\n          recordingData = data;\n\n          if (recordingData && recordingData.stream && recordingData.start_time && recordingData.end_time) {\n            const startTime = Math.floor(new Date(recordingData.start_time).getTime() / 1000);\n            const endTime = Math.floor(new Date(recordingData.end_time).getTime() / 1000);\n\n            const params = new URLSearchParams({\n              start: startTime,\n              end: endTime\n            });\n\n            return fetch(`/api/detection/results/${recordingData.stream}?${params.toString()}`);\n          }\n\n          throw new Error('Recording data incomplete');\n        })\n        .then(response => response.json())\n        .then(data => {\n          detections = data.detections || [];\n\n          if (detections.length > 0) {\n            detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n            detectionStatusIndicator.className = 'text-center text-sm font-medium text-green-600 dark:text-green-400';\n            detectionCheckbox.disabled = false;\n          } else {\n            detectionStatusIndicator.textContent = 'No detections found for this recording';\n            detectionCheckbox.disabled = true;\n          }\n        })\n        .catch(error => {\n          console.error('Error fetching detection data:', error);\n          detectionStatusIndicator.textContent = 'Error loading detections';\n          detectionStatusIndicator.className = 'text-center text-sm font-medium text-red-600 dark:text-red-400';\n          detectionCheckbox.disabled = true;\n        });\n    });\n  }\n\n  // Handle detection overlay checkbox change\n  detectionCheckbox.addEventListener('change', () => {\n    detectionOverlayEnabled = detectionCheckbox.checked;\n\n    if (detectionOverlayEnabled) {\n      // Show canvas\n      detectionCanvas.style.display = 'block';\n\n      // Draw detections\n      drawDetections();\n\n      // Update status\n      detectionStatusIndicator.textContent = `Showing ${detections.length} detection${detections.length !== 1 ? 's' : ''}`;\n    } else {\n      // Hide canvas\n      detectionCanvas.style.display = 'none';\n\n      // Update status\n      detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n    }\n  });\n\n  // Function to draw detections on canvas\n  function drawDetections() {\n    if (!detectionOverlayEnabled || !video || !detectionCanvas || detections.length === 0) {\n      return;\n    }\n\n    // Get video dimensions\n    const videoWidth = video.videoWidth;\n    const videoHeight = video.videoHeight;\n\n    if (videoWidth === 0 || videoHeight === 0) {\n      // Video dimensions not available yet, try again later\n      requestAnimationFrame(drawDetections);\n      return;\n    }\n\n    // Set canvas dimensions to match video\n    detectionCanvas.width = videoWidth;\n    detectionCanvas.height = videoHeight;\n\n    // Get canvas context\n    const ctx = detectionCanvas.getContext('2d');\n    ctx.clearRect(0, 0, detectionCanvas.width, detectionCanvas.height);\n\n    // Get current video time in seconds\n    const currentTime = video.currentTime;\n\n    // Calculate the timestamp for the current video position\n    // We need to convert from video time (seconds from start of video) to unix timestamp\n    if (!recordingData || !recordingData.start_time) {\n      return;\n    }\n\n    // Convert recording start time to seconds\n    const recordingStartTime = Math.floor(new Date(recordingData.start_time).getTime() / 1000);\n\n    // Calculate current timestamp in the video\n    const currentTimestamp = recordingStartTime + Math.floor(currentTime);\n\n    // Use the time window value from the slider\n    // timeWindow is already defined at the top level\n\n    // Filter detections to only show those within the time window\n    const visibleDetections = detections.filter(detection => {\n      if (!detection.timestamp) return false;\n\n      // Check if detection is within the time window\n      return Math.abs(detection.timestamp - currentTimestamp) <= timeWindow;\n    });\n\n    // Update status indicator with count of visible detections\n    if (detectionStatusIndicator) {\n      if (visibleDetections.length > 0) {\n        detectionStatusIndicator.textContent = `Showing ${visibleDetections.length} detection${visibleDetections.length !== 1 ? 's' : ''} at current time`;\n      } else {\n        detectionStatusIndicator.textContent = `No detections at current time (${detections.length} total)`;\n      }\n    }\n\n    // Draw each visible detection\n    visibleDetections.forEach(detection => {\n      // Calculate coordinates based on relative positions\n      const x = detection.x * videoWidth;\n      const y = detection.y * videoHeight;\n      const width = detection.width * videoWidth;\n      const height = detection.height * videoHeight;\n\n      // Draw bounding box\n      ctx.strokeStyle = 'rgba(0, 255, 0, 0.8)';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(x, y, width, height);\n\n      // Draw label background\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n      const labelText = `${detection.label} (${Math.round(detection.confidence * 100)}%)`;\n      const labelWidth = ctx.measureText(labelText).width + 10;\n      ctx.fillRect(x, y - 20, labelWidth, 20);\n\n      // Draw label text\n      ctx.fillStyle = 'white';\n      ctx.font = '12px Arial';\n      ctx.fillText(labelText, x + 5, y - 5);\n    });\n\n    // Request next frame if video is playing\n    if (!video.paused && !video.ended) {\n      requestAnimationFrame(drawDetections);\n    }\n  }\n\n  // Handle video events\n  video.addEventListener('play', () => {\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  video.addEventListener('seeked', () => {\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  // Add timeupdate event to update detections as video plays\n  video.addEventListener('timeupdate', () => {\n    if (detectionOverlayEnabled) {\n      // Don't redraw on every timeupdate as it's too frequent\n      // Instead, redraw every 0.5 seconds\n      const currentTime = Math.floor(video.currentTime * 2) / 2;\n      if (video.lastDrawnTime !== currentTime) {\n        video.lastDrawnTime = currentTime;\n        drawDetections();\n      }\n    }\n  });\n\n  // Assemble the modal\n  modalContainer.appendChild(header);\n  modalContainer.appendChild(videoContainer);\n  modalContainer.appendChild(controlsContainer); // Add controls\n  modalContainer.appendChild(footer);\n  overlay.appendChild(modalContainer);\n\n  // Add to document\n  document.body.appendChild(overlay);\n\n  // Add event listener to close on escape key\n  const handleEscape = (e) => {\n    if (e.key === 'Escape') {\n      if (document.body.contains(overlay)) {\n        document.body.removeChild(overlay);\n      }\n      document.removeEventListener('keydown', handleEscape);\n    }\n  };\n\n  document.addEventListener('keydown', handleEscape);\n\n  // Add event listener to close on background click\n  overlay.addEventListener('click', (e) => {\n    if (e.target === overlay) {\n      document.body.removeChild(overlay);\n    }\n  });\n}\n\n/**\n * Show a status message to the user\n * @param {string} message - Message to display\n * @param {string} type - Message type ('success', 'error', 'warning', 'info')\n * @param {number} duration - Duration in milliseconds (default: 4000)\n */\nexport function showStatusMessage(message, type = 'info', duration = 4000) {\n  console.log(`Showing status message: ${message} (${type})`);\n\n  // Try to use the global toast functions first (they should be available)\n  if (window.showToast) {\n    window.showToast(message, type, duration);\n    return;\n  }\n\n  // If global functions aren't available, import the toast module dynamically\n  import('./toast.js').then(({ showStatusMessage: showToast }) => {\n    // Use the toast system\n    showToast(message, type, duration);\n  }).catch(error => {\n    console.error('Error loading toast module:', error);\n\n    // Fallback to basic implementation if toast module fails to load\n    let statusContainer = document.getElementById('status-message-container');\n\n    // Create container if it doesn't exist\n    if (!statusContainer) {\n      statusContainer = document.createElement('div');\n      statusContainer.id = 'status-message-container';\n      statusContainer.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center';\n      document.body.appendChild(statusContainer);\n    }\n\n    // Create message element\n    const messageElement = document.createElement('div');\n\n    // Set class based on type\n    let typeClass = 'bg-blue-500'; // Default for info\n    if (type === 'success') {\n      typeClass = 'bg-green-500';\n    } else if (type === 'error') {\n      typeClass = 'bg-red-500';\n    } else if (type === 'warning') {\n      typeClass = 'bg-yellow-500';\n    }\n\n    messageElement.className = `${typeClass} text-white px-4 py-2 rounded-lg shadow-lg mb-2 transition-all duration-300 opacity-0 transform translate-y-2`;\n    messageElement.textContent = message;\n\n    // Add to container\n    statusContainer.appendChild(messageElement);\n\n    // Trigger animation to show message\n    setTimeout(() => {\n      messageElement.classList.remove('opacity-0', 'translate-y-2');\n    }, 10);\n\n    // Set timeout to remove message\n    setTimeout(() => {\n      // Trigger animation to hide message\n      messageElement.classList.add('opacity-0', 'translate-y-2');\n\n      // Remove element after animation completes\n      setTimeout(() => {\n        if (messageElement.parentNode === statusContainer) {\n          statusContainer.removeChild(messageElement);\n        }\n\n        // Remove container if no more messages\n        if (statusContainer.children.length === 0 && statusContainer.parentNode === document.body) {\n          document.body.removeChild(statusContainer);\n        }\n      }, 300);\n    }, duration);\n  });\n}\n\n/**\n * Show a snapshot preview in a modal\n * @param {string} imageData - The image data URL\n * @param {string} streamName - The name of the stream\n */\nexport function showSnapshotPreview(imageData, streamName) {\n  // Get the existing snapshot modal created by setupModals()\n  const snapshotModal = document.getElementById('snapshot-preview-modal');\n\n  if (!snapshotModal) {\n    console.error('Snapshot modal not found. Make sure setupModals() has been called.');\n    return;\n  }\n\n  // Get modal elements\n  const snapshotTitle = document.getElementById('snapshot-preview-title');\n  const snapshotImage = document.getElementById('snapshot-preview-image');\n  const snapshotDownloadBtn = document.getElementById('snapshot-download-btn');\n  const snapshotCloseBtn = document.getElementById('snapshot-close-btn');\n  const closeButtons = snapshotModal.querySelectorAll('.close');\n  const modalContent = snapshotModal.querySelector('.modal-content');\n\n  // Set the title and image\n  if (snapshotTitle) snapshotTitle.textContent = `Snapshot: ${streamName}`;\n\n  // Store the image data directly on the modal for later access\n  snapshotModal.dataset.imageData = imageData;\n  snapshotModal.dataset.streamName = streamName;\n\n  // Ensure the image is properly displayed\n  if (snapshotImage) {\n    snapshotImage.src = imageData;\n    snapshotImage.style.display = 'block'; // Make sure it's visible\n    snapshotImage.onload = () => {\n      console.log('Snapshot image loaded successfully');\n    };\n    snapshotImage.onerror = (e) => {\n      console.error('Error loading snapshot image:', e);\n    };\n  }\n\n  // Define close modal function\n  function closeModal() {\n    snapshotModal.classList.add('hidden');\n    if (modalContent) {\n      modalContent.classList.remove('scale-100');\n      modalContent.classList.add('scale-95');\n    }\n  }\n\n  // Set up close button event handlers\n  if (snapshotCloseBtn) {\n    snapshotCloseBtn.onclick = closeModal;\n  }\n\n  closeButtons.forEach(button => {\n    button.onclick = closeModal;\n  });\n\n  // Close on click outside\n  snapshotModal.onclick = function(event) {\n    if (event.target === snapshotModal) {\n      closeModal();\n    }\n  };\n\n  // Close on escape key\n  document.addEventListener('keydown', function(event) {\n    if (event.key === 'Escape' && !snapshotModal.classList.contains('hidden')) {\n      closeModal();\n    }\n  });\n\n  // Set up download button\n  if (snapshotDownloadBtn) {\n    snapshotDownloadBtn.onclick = function() {\n      // Get the stored image data from the modal\n      const storedImageData = snapshotModal.dataset.imageData;\n      const storedStreamName = snapshotModal.dataset.streamName || streamName;\n\n      if (!storedImageData) {\n        console.error('No image data available for download');\n        showStatusMessage('Download failed: No image data available', 5000);\n        return;\n      }\n\n      console.log('Downloading snapshot with data URL length:', storedImageData.length);\n\n      try {\n        // Create a temporary download iframe - this approach often works better on HTTP\n        console.log('Using iframe download method');\n\n        // Create a canvas to resize and optimize the image\n        const canvas = document.createElement('canvas');\n        const img = new Image();\n\n        img.onload = function() {\n          try {\n            console.log('Image loaded for optimization, original dimensions:', img.width, 'x', img.height);\n\n            // Use original dimensions as requested by the user\n            const newWidth = img.width;\n            const newHeight = img.height;\n            console.log('Using original image dimensions for maximum quality:', newWidth, 'x', newHeight);\n\n            // Set canvas dimensions to the new size\n            canvas.width = newWidth;\n            canvas.height = newHeight;\n\n            // Draw the image on the canvas with the new dimensions\n            const ctx = canvas.getContext('2d');\n            ctx.fillStyle = 'black';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, newWidth, newHeight);\n\n            // Convert to JPEG with maximum quality for best image quality\n            const optimizedJpegData = canvas.toDataURL('image/jpeg', 1.0);\n            console.log('Optimized JPEG data URL length:', optimizedJpegData.length);\n\n            // Create a download link with the optimized image\n            const filename = `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`;\n\n            // Method 1: Try the iframe approach\n            const iframe = document.createElement('iframe');\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            try {\n              // Write a simple HTML document to the iframe with a download link\n              const iframeDoc = iframe.contentWindow.document;\n              iframeDoc.open();\n              iframeDoc.write(`\n                <!DOCTYPE html>\n                <html>\n                <head>\n                  <title>Downloading...</title>\n                  <script>\n                    function startDownload() {\n                      const a = document.getElementById('download-link');\n                      a.click();\n                      setTimeout(function() {\n                        window.parent.postMessage('download-complete', '*');\n                      }, 1000);\n                    }\n                  </script>\n                </head>\n                <body onload=\"startDownload()\">\n                  <a id=\"download-link\" href=\"${optimizedJpegData}\" download=\"${filename}\">Download</a>\n                </body>\n                </html>\n              `);\n              iframeDoc.close();\n\n              // Listen for the download complete message\n              window.addEventListener('message', function onMessage(e) {\n                if (e.data === 'download-complete') {\n                  window.removeEventListener('message', onMessage);\n                  document.body.removeChild(iframe);\n                  showStatusMessage('Snapshot downloaded successfully', 3000);\n                }\n              }, { once: true });\n\n              // Fallback cleanup in case the message isn't received\n              setTimeout(() => {\n                if (document.body.contains(iframe)) {\n                  document.body.removeChild(iframe);\n                }\n              }, 5000);\n\n            } catch (iframeError) {\n              console.error('Iframe download method failed:', iframeError);\n              document.body.removeChild(iframe);\n\n              // Fallback to direct link method\n              tryDirectLinkDownload(optimizedJpegData, filename);\n            }\n          } catch (canvasError) {\n            console.error('Canvas processing error:', canvasError);\n            showStatusMessage('Download failed: Error processing image', 5000);\n\n            // Try direct download with original data\n            tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n          }\n        };\n\n        img.onerror = function(e) {\n          console.error('Error loading image for optimization:', e);\n          showStatusMessage('Download failed: Could not load image', 5000);\n\n          // Try direct download with original data\n          tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n        };\n\n        // Set the source to trigger loading\n        img.src = storedImageData;\n\n      } catch (error) {\n        console.error('Error in snapshot download process:', error);\n        showStatusMessage('Download failed: ' + error.message, 5000);\n\n        // Try direct download with original data as last resort\n        tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n      }\n\n      // Helper function for direct link download\n      function tryDirectLinkDownload(dataUrl, filename) {\n        console.log('Attempting direct link download');\n        try {\n          const link = document.createElement('a');\n          link.href = dataUrl;\n          link.download = filename;\n          link.target = '_blank'; // Try opening in a new tab\n          link.rel = 'noopener noreferrer';\n          document.body.appendChild(link);\n          link.click();\n\n          // Clean up\n          setTimeout(() => {\n            document.body.removeChild(link);\n          }, 100);\n\n          showStatusMessage('Download initiated', 3000);\n        } catch (linkError) {\n          console.error('Direct link download failed:', linkError);\n          showStatusMessage('Download failed: Browser restrictions', 5000);\n        }\n      }\n    };\n  }\n\n  // Show the modal\n  snapshotModal.classList.remove('hidden');\n\n  // Animate the modal content\n  if (modalContent) {\n    setTimeout(() => {\n      modalContent.classList.remove('scale-95', 'opacity-0');\n      modalContent.classList.add('scale-100', 'opacity-100');\n    }, 10);\n  }\n}\n","/**\n * LightNVR version information\n * This file is auto-generated from CMakeLists.txt during the build process\n * DO NOT EDIT MANUALLY\n */\n\nexport const VERSION = '0.11.18';\n","/**\n * LightNVR Web Interface Header Component\n * Preact component for the site header\n */\n\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport {VERSION} from '../../version.js';\n\n/**\n * Header component\n * @param {Object} props - Component props\n * @param {string} props.version - System version\n * @returns {JSX.Element} Header component\n */\nexport function Header({ version = VERSION }) {\n  // Get active navigation from data attribute on header container\n  const headerContainer = document.getElementById('header-container');\n  const activeNav = headerContainer?.dataset?.activeNav || '';\n  const [username, setUsername] = useState('');\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  // Get the current username from localStorage\n  useEffect(() => {\n    const auth = localStorage.getItem('auth');\n    if (auth) {\n      try {\n        // Decode the base64 auth string (username:password)\n        const decoded = atob(auth);\n        // Extract the username (everything before the colon)\n        const extractedUsername = decoded.split(':')[0];\n        setUsername(extractedUsername);\n      } catch (error) {\n        console.error('Error decoding auth token:', error);\n        setUsername('User');\n      }\n    } else {\n      setUsername('User');\n    }\n  }, []);\n\n  // Handle logout\n  const handleLogout = (e) => {\n    e.preventDefault();\n\n    // Clear localStorage\n    localStorage.removeItem('auth');\n\n    // Clear cookies\n    document.cookie = \"auth=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict\";\n    document.cookie = \"session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict\";\n\n    // Call the logout endpoint to clear browser's basic auth cache\n    fetch('/api/auth/logout', {\n      method: 'POST'\n    }).then(() => {\n      window.location.href = 'login.html?auth_required=true&logout=true';\n    }).catch(() => {\n      // Redirect even if the request fails\n      window.location.href = 'login.html?auth_required=true&logout=true';\n    });\n  };\n\n  // Toggle mobile menu\n  const toggleMobileMenu = () => {\n    setMobileMenuOpen(!mobileMenuOpen);\n  };\n\n  // Special handling for Live View link to handle both index.html and root URL\n  const getLiveViewHref = () => {\n    // Check if we're on the root URL or index.html\n    const isRoot = window.location.pathname === '/' || window.location.pathname.endsWith('/');\n\n    // If we're on the root URL, stay on the root URL\n    if (isRoot) {\n      return './';\n    }\n\n    // Otherwise, default to index.html\n    return 'index.html';\n  };\n\n  // Navigation items - don't preserve query parameters when navigating via header\n  const navItems = [\n    { id: 'nav-live', href: getLiveViewHref(), label: 'Live View' },\n    { id: 'nav-recordings', href: 'recordings.html', label: 'Recordings' },\n    { id: 'nav-streams', href: 'streams.html', label: 'Streams' },\n    { id: 'nav-settings', href: 'settings.html', label: 'Settings' },\n    { id: 'nav-users', href: 'users.html', label: 'Users' },\n    { id: 'nav-system', href: 'system.html', label: 'System' }\n  ];\n\n  // Render navigation item\n  const renderNavItem = (item) => {\n    const isActive = activeNav === item.id;\n    const baseClasses = \"text-white no-underline rounded transition-colors\";\n    const desktopClasses = \"px-3 py-2\";\n    const mobileClasses = \"block w-full px-4 py-3 text-left\";\n    const activeClass = isActive ? 'bg-blue-600' : 'hover:bg-blue-700';\n\n    return (\n      <li className={mobileMenuOpen ? \"w-full\" : \"mx-1\"}>\n        <a\n          href={item.href}\n          id={item.id}\n          className={`${baseClasses} ${mobileMenuOpen ? mobileClasses : desktopClasses} ${activeClass}`}\n          onClick={mobileMenuOpen ? toggleMobileMenu : null}\n        >\n          {item.label}\n        </a>\n      </li>\n    );\n  };\n\n  return (\n    <header className=\"bg-gray-800 text-white py-2 shadow-md mb-4 w-full\">\n      <div className=\"container mx-auto px-4 flex justify-between items-center\">\n        <div className=\"logo flex items-center\">\n          <h1 className=\"text-xl font-bold m-0\">LightNVR</h1>\n          <span className=\"version text-blue-200 text-xs ml-2\">v{version}</span>\n        </div>\n\n        {/* Desktop Navigation */}\n        <nav className=\"hidden md:block\">\n          <ul className=\"flex list-none m-0 p-0\">\n            {navItems.map(renderNavItem)}\n          </ul>\n        </nav>\n\n        {/* User Menu (Desktop) */}\n        <div className=\"user-menu hidden md:flex items-center\">\n          <span className=\"mr-2\">{username}</span>\n          <a href=\"#\" onClick={handleLogout} className=\"logout-link text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors\">Logout</a>\n        </div>\n\n        {/* Mobile Menu Button */}\n        <button\n          className=\"md:hidden text-white p-2 focus:outline-none\"\n          onClick={toggleMobileMenu}\n          aria-label=\"Toggle menu\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d={mobileMenuOpen ? \"M6 18L18 6M6 6l12 12\" : \"M4 6h16M4 12h16M4 18h16\"} />\n          </svg>\n        </button>\n      </div>\n\n      {/* Mobile Navigation */}\n      {mobileMenuOpen && (\n        <div className=\"md:hidden mt-2 border-t border-gray-700 pt-2 container mx-auto px-4\">\n          <ul className=\"list-none m-0 p-0 flex flex-col w-full\">\n            {navItems.map(renderNavItem)}\n            <li className=\"w-full mt-2 pt-2 border-t border-gray-700\">\n              <div className=\"flex justify-between items-center px-4 py-2\">\n                <span>{username}</span>\n                <a href=\"#\" onClick={handleLogout} className=\"logout-link text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors\">Logout</a>\n              </div>\n            </li>\n          </ul>\n        </div>\n      )}\n    </header>\n  );\n}","/**\n * LightNVR Web Interface Footer Component\n * Preact component for the site footer\n */\n\nimport { h } from 'preact';\nimport { useState } from 'preact/hooks';\n\n/**\n * Footer component\n * @param {Object} props - Component props\n * @returns {JSX.Element} Footer component\n */\nexport function Footer() {\n  const [year] = useState(new Date().getFullYear());\n\n  return (\n    <footer class=\"bg-gray-800 text-white py-3 px-4 mt-4 shadow-inner\">\n      <div class=\"container mx-auto flex flex-col sm:flex-row justify-between items-center\">\n        <div class=\"text-center sm:text-left mb-2 sm:mb-0\">\n          <p class=\"text-sm\">© {year} LightNVR ·\n            <a href=\"https://github.com/opensensor/lightnvr\" class=\"text-blue-300 hover:text-blue-100 text-sm\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>\n          </p>\n          <p class=\"text-xs text-gray-400 mt-1 hidden sm:block\">Lightweight Network Video Recorder</p>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\n"],"file":"assets/Footer-BGE_2Duh.js"}