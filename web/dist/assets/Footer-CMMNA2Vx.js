import{d as a,y,u as e}from"./query-client-BSpadhku.js";const k="0.11.19";function M({version:l=k}){var f;const s=document.getElementById("header-container"),g=((f=s==null?void 0:s.dataset)==null?void 0:f.activeNav)||"",[c,r]=a(""),[o,x]=a(!1);y(()=>{const t=localStorage.getItem("auth");if(t)try{const i=atob(t).split(":")[0];r(i)}catch(n){console.error("Error decoding auth token:",n),r("User")}else r("User")},[]);const d=t=>{t.preventDefault(),localStorage.removeItem("auth"),document.cookie="auth=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict",document.cookie="session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict",fetch("/api/auth/logout",{method:"POST"}).then(()=>{window.location.href="login.html?auth_required=true&logout=true"}).catch(()=>{window.location.href="login.html?auth_required=true&logout=true"})},h=()=>{x(!o)},m=[{id:"nav-live",href:window.location.pathname==="/"||window.location.pathname.endsWith("/")?"./":"index.html",label:"Live View"},{id:"nav-recordings",href:"recordings.html",label:"Recordings"},{id:"nav-streams",href:"streams.html",label:"Streams"},{id:"nav-settings",href:"settings.html",label:"Settings"},{id:"nav-users",href:"users.html",label:"Users"},{id:"nav-system",href:"system.html",label:"System"}],p=(t,n)=>(n&&(n.preventDefault(),n.stopPropagation()),setTimeout(()=>{window.location.href=t},0),!1),u=t=>{const n=g===t.id,i="text-white no-underline rounded transition-colors",b="px-3 py-2",v="block w-full px-4 py-3 text-left",w=n?"bg-blue-600":"hover:bg-blue-700";return e("li",{className:o?"w-full":"mx-1",children:e("a",{href:t.href,id:t.id,className:"".concat(i," ").concat(o?v:b," ").concat(w),onClick:N=>{p(t.href,N),o&&h()},children:t.label})})};return e("header",{className:"bg-gray-800 text-white py-2 shadow-md mb-4 w-full",style:{position:"relative",zIndex:20},children:[e("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[e("div",{className:"logo flex items-center",children:[e("h1",{className:"text-xl font-bold m-0",children:"LightNVR"}),e("span",{className:"version text-blue-200 text-xs ml-2",children:["v",l]})]}),e("nav",{className:"hidden md:block",style:{position:"relative",zIndex:20},children:e("ul",{className:"flex list-none m-0 p-0",children:m.map(u)})}),e("div",{className:"user-menu hidden md:flex items-center",children:[e("span",{className:"mr-2",children:c}),e("a",{href:"#",onClick:d,className:"logout-link text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors",children:"Logout"})]}),e("button",{className:"md:hidden text-white p-2 focus:outline-none",onClick:h,"aria-label":"Toggle menu",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:o?"M6 18L18 6M6 6l12 12":"M4 6h16M4 12h16M4 18h16"})})})]}),o&&e("div",{className:"md:hidden mt-2 border-t border-gray-700 pt-2 container mx-auto px-4",children:e("ul",{className:"list-none m-0 p-0 flex flex-col w-full",children:[m.map(u),e("li",{className:"w-full mt-2 pt-2 border-t border-gray-700",children:e("div",{className:"flex justify-between items-center px-4 py-2",children:[e("span",{children:c}),e("a",{href:"#",onClick:d,className:"logout-link text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors",children:"Logout"})]})})]})})]})}function C(){const[l]=a(new Date().getFullYear());return e("footer",{class:"bg-gray-800 text-white py-3 px-4 mt-4 shadow-inner",children:e("div",{class:"container mx-auto flex flex-col sm:flex-row justify-between items-center",children:e("div",{class:"text-center sm:text-left mb-2 sm:mb-0",children:[e("p",{class:"text-sm",children:["© ",l," LightNVR ·",e("a",{href:"https://github.com/opensensor/lightnvr",class:"text-blue-300 hover:text-blue-100 text-sm",target:"_blank",rel:"noopener noreferrer",children:"GitHub"})]}),e("p",{class:"text-xs text-gray-400 mt-1 hidden sm:block",children:"Lightweight Network Video Recorder"})]})})})}export{C as F,M as H};
//# sourceMappingURL=Footer-CMMNA2Vx.js.map
