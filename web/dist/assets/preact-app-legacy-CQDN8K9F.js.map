{"version":3,"file":"preact-app-legacy-CQDN8K9F.js","sources":["../../js/components/preact/UI.js","../../node_modules/preact/dist/preact.module.js","../../node_modules/htm/dist/htm.module.js","../../js/html-helper.js","../../js/websocket-client.js","../../node_modules/preact/hooks/dist/hooks.module.js","../../node_modules/preact/compat/dist/compat.module.js","../../js/components/preact/Header.js","../../js/version.js","../../js/components/preact/Footer.js","../../node_modules/@tanstack/query-core/build/lib/subscribable.mjs","../../node_modules/@tanstack/query-core/build/lib/utils.mjs","../../node_modules/@tanstack/query-core/build/lib/focusManager.mjs","../../node_modules/@tanstack/query-core/build/lib/onlineManager.mjs","../../node_modules/@tanstack/query-core/build/lib/retryer.mjs","../../node_modules/@tanstack/query-core/build/lib/logger.mjs","../../node_modules/@tanstack/query-core/build/lib/notifyManager.mjs","../../node_modules/@tanstack/query-core/build/lib/removable.mjs","../../node_modules/@tanstack/query-core/build/lib/query.mjs","../../node_modules/@tanstack/query-core/build/lib/queryCache.mjs","../../node_modules/@tanstack/query-core/build/lib/mutation.mjs","../../node_modules/@tanstack/query-core/build/lib/mutationCache.mjs","../../node_modules/@tanstack/query-core/build/lib/infiniteQueryBehavior.mjs","../../node_modules/@tanstack/query-core/build/lib/queryClient.mjs","../../node_modules/@tanstack/query-core/build/lib/queryObserver.mjs","../../node_modules/@tanstack/query-core/build/lib/mutationObserver.mjs","../../node_modules/use-sync-external-store/shim/index.js","../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js","../../node_modules/@preact-signals/query/dist/esm/react-query/useSyncExternalStore.js","../../node_modules/@preact-signals/query/dist/esm/react-query/QueryClientProvider.js","../../node_modules/@preact-signals/query/dist/esm/react-query/isRestoring.js","../../node_modules/@preact-signals/query/dist/esm/react-query/QueryErrorResetBoundary.js","../../node_modules/@preact-signals/query/dist/esm/react-query/utils.js","../../node_modules/@preact-signals/query/dist/esm/react-query/errorBoundaryUtils.js","../../node_modules/@preact-signals/query/dist/esm/react-query/suspense.js","../../node_modules/@preact-signals/query/dist/esm/react-query/useQuery.js","../../node_modules/@preact-signals/query/dist/esm/react-query/useBaseQuery.js","../../node_modules/@preact-signals/query/dist/esm/react-query/useMutation.js","../../js/fetch-utils.js","../../js/query-client.js","../../js/preact-app.js"],"sourcesContent":["/**\n * UI utility functions for LiveView\n */\n\n\nimport { html } from '../../html-helper.js';\nimport { useQuery, QueryClientProvider, queryClient } from '../../query-client.js';\n\n/**\n * Set up modals for the application\n */\nexport function setupModals() {\n  // Create snapshot modal container if it doesn't exist\n  let snapshotModalContainer = document.getElementById('snapshot-modal-container');\n  if (!snapshotModalContainer) {\n    snapshotModalContainer = document.createElement('div');\n    snapshotModalContainer.id = 'snapshot-modal-container';\n    document.body.appendChild(snapshotModalContainer);\n  }\n\n  // Create snapshot preview modal\n  const snapshotModal = document.createElement('div');\n  snapshotModal.id = 'snapshot-preview-modal';\n  snapshotModal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden';\n\n  snapshotModal.innerHTML = `\n    <div class=\"modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0\" style=\"width: 90%;\">\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 id=\"snapshot-preview-title\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">Snapshot</h3>\n        <button class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">✕</button>\n      </div>\n      <div class=\"p-4 overflow-auto flex-grow\">\n        <img id=\"snapshot-preview-image\" class=\"max-w-full max-h-[70vh] mx-auto\" src=\"\" alt=\"Snapshot\">\n      </div>\n      <div class=\"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2\">\n        <button id=\"snapshot-download-btn\" class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\">Download</button>\n        <button id=\"snapshot-close-btn\" class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\">Close</button>\n      </div>\n    </div>\n  `;\n\n  snapshotModalContainer.appendChild(snapshotModal);\n\n  // Create video modal container if it doesn't exist\n  let videoModalContainer = document.getElementById('video-modal-container');\n  if (!videoModalContainer) {\n    videoModalContainer = document.createElement('div');\n    videoModalContainer.id = 'video-modal-container';\n    document.body.appendChild(videoModalContainer);\n  }\n\n  // Create video preview modal\n  const videoModal = document.createElement('div');\n  videoModal.id = 'video-preview-modal';\n  videoModal.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 hidden';\n\n  videoModal.innerHTML = `\n    <div class=\"modal-content bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl max-h-[90vh] flex flex-col transform transition-all duration-300 ease-out scale-95 opacity-0 w-full md:w-[90%]\">\n      <div class=\"flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700\">\n        <h3 id=\"video-preview-title\" class=\"text-lg font-semibold text-gray-900 dark:text-white\">Video</h3>\n        <button class=\"close text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\">✕</button>\n      </div>\n      <div class=\"p-4 flex-grow\">\n        <video id=\"video-preview-player\" class=\"w-full h-auto max-w-full object-contain mx-auto\" controls autoplay></video>\n      </div>\n      <div class=\"p-4 border-t border-gray-200 dark:border-gray-700 flex justify-end space-x-2\">\n        <a id=\"video-download-btn\" class=\"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors\" href=\"#\" download>Download</a>\n        <button id=\"video-close-btn\" class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\">Close</button>\n      </div>\n    </div>\n  `;\n\n  videoModalContainer.appendChild(videoModal);\n\n  // Set up event listeners for modals\n  document.addEventListener('keydown', (e) => {\n    if (e.key === 'Escape') {\n      // Close any open modals\n      const modals = document.querySelectorAll('.fixed.inset-0.bg-black.bg-opacity-75');\n      modals.forEach(modal => {\n        if (!modal.classList.contains('hidden')) {\n          modal.classList.add('hidden');\n        }\n      });\n    }\n  });\n}\n\n/**\n * Add status message styles to the document\n */\nexport function addStatusMessageStyles() {\n  // Import the toast module to ensure it's loaded\n  import('./toast.js').then(({ initToastContainer }) => {\n    // Initialize the toast container\n    initToastContainer(false);\n  }).catch(error => {\n    console.error('Error loading toast module:', error);\n\n    // Fallback to basic styles if toast module fails to load\n    if (document.getElementById('status-message-styles')) {\n      return;\n    }\n\n    // Create style element\n    const style = document.createElement('style');\n    style.id = 'status-message-styles';\n\n    // Add CSS rules\n    style.textContent = `\n      #status-message-container {\n        position: fixed;\n        top: 1rem;\n        left: 50%;\n        transform: translateX(-50%);\n        z-index: 50;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n      }\n\n      .status-message {\n        background-color: #1f2937;\n        color: white;\n        padding: 0.5rem 1rem;\n        border-radius: 0.375rem;\n        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);\n        margin-bottom: 0.5rem;\n        transition: all 0.3s ease;\n        opacity: 0;\n        transform: translateY(-0.5rem);\n      }\n\n      .status-message.show {\n        opacity: 1;\n        transform: translateY(0);\n      }\n\n      .status-message.success {\n        background-color: #10b981;\n      }\n\n      .status-message.error {\n        background-color: #ef4444;\n      }\n\n      .status-message.warning {\n        background-color: #f59e0b;\n      }\n\n      .status-message.info {\n        background-color: #3b82f6;\n      }\n    `;\n\n    // Add to document head\n    document.head.appendChild(style);\n  });\n}\n\n/**\n * Add modal styles to the document\n */\nexport function addModalStyles() {\n  // Check if styles already exist\n  if (document.getElementById('modal-styles')) {\n    return;\n  }\n\n  // Create style element\n  const style = document.createElement('style');\n  style.id = 'modal-styles';\n\n  // Add CSS rules\n  style.textContent = `\n    .modal-content {\n      transition: all 0.3s ease-out;\n    }\n\n    .modal-content.scale-95 {\n      transform: scale(0.95);\n      opacity: 0;\n    }\n\n    .modal-content.scale-100 {\n      transform: scale(1);\n      opacity: 1;\n    }\n  `;\n\n  // Add to document head\n  document.head.appendChild(style);\n}\n\n/**\n * DeleteConfirmationModal component for Preact\n * This is the declarative version for use with Preact JSX\n * @param {Object} props - Component props\n * @param {boolean} props.isOpen - Whether the modal is open\n * @param {Function} props.onClose - Function to call when the modal is closed\n * @param {Function} props.onConfirm - Function to call when delete is confirmed\n * @param {string} props.mode - Delete mode ('selected' or 'all')\n * @param {number} props.count - Number of items selected (for 'selected' mode)\n * @returns {JSX.Element} DeleteConfirmationModal component\n */\nexport function DeleteConfirmationModal(props) {\n  const { isOpen, onClose, onConfirm, mode, count } = props;\n\n  if (!isOpen) return null;\n\n  // Determine title and message based on mode\n  let title = 'Confirm Delete';\n  let message = 'Are you sure you want to delete this item?';\n\n  if (mode === 'selected') {\n    title = 'Delete Selected Recordings';\n    message = `Are you sure you want to delete ${count} selected recording${count !== 1 ? 's' : ''}?`;\n  } else if (mode === 'all') {\n    title = 'Delete All Filtered Recordings';\n    message = 'Are you sure you want to delete all recordings matching the current filters? This action cannot be undone.';\n  }\n\n  // Handle escape key\n  const handleKeyDown = (e) => {\n    if (e.key === 'Escape') {\n      onClose();\n    }\n  };\n\n  // Handle background click\n  const handleBackgroundClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  return html`\n    <div\n      class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\"\n      onClick=${handleBackgroundClick}\n      onKeyDown=${handleKeyDown}\n    >\n      <div class=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl p-6 max-w-md mx-auto\">\n        <div class=\"mb-4\">\n          <h3 class=\"text-lg font-semibold text-gray-900 dark:text-white\">${title}</h3>\n        </div>\n\n        <p class=\"text-gray-600 dark:text-gray-300 mb-6\">${message}</p>\n\n        <div class=\"flex justify-end space-x-3\">\n          <button\n            class=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300 transition-colors dark:bg-gray-700 dark:text-gray-200 dark:hover:bg-gray-600\"\n            onClick=${onClose}\n          >\n            Cancel\n          </button>\n          <button\n            class=\"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition-colors\"\n            onClick=${onConfirm}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    </div>\n  `;\n}\n\n/**\n * Show a video modal\n * @param {string} videoUrl - URL of the video to display\n * @param {string} title - Title for the video\n * @param {string} downloadUrl - Optional URL for downloading the video\n */\nexport function showVideoModal(videoUrl, title, downloadUrl) {\n  // Create overlay container\n  const overlay = document.createElement('div');\n  overlay.className = 'fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50';\n  overlay.id = 'video-modal-overlay';\n\n  // Create modal container with responsive classes\n  const modalContainer = document.createElement('div');\n  modalContainer.className = 'bg-gray-50 dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl flex flex-col w-full md:w-[90%]';\n\n  // Create header\n  const header = document.createElement('div');\n  header.className = 'flex justify-between items-center p-4 border-b border-gray-200 dark:border-gray-700';\n\n  const titleElement = document.createElement('h3');\n  titleElement.className = 'text-lg font-semibold text-gray-900 dark:text-white';\n  titleElement.textContent = title || 'Video';\n\n  const closeButton = document.createElement('button');\n  closeButton.className = 'text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200';\n  closeButton.innerHTML = '✕';\n  closeButton.addEventListener('click', () => {\n    document.body.removeChild(overlay);\n  });\n\n  header.appendChild(titleElement);\n  header.appendChild(closeButton);\n\n  // Create video container with responsive classes\n  const videoContainer = document.createElement('div');\n  videoContainer.className = 'p-4';\n\n  const video = document.createElement('video');\n  video.src = videoUrl;\n  video.className = 'w-full h-auto max-w-full object-contain mx-auto';\n  video.controls = true;\n  video.autoplay = true;\n\n  videoContainer.appendChild(video);\n\n  // Create controls container with responsive Tailwind classes\n  const controlsContainer = document.createElement('div');\n  controlsContainer.id = 'recordings-controls';\n  controlsContainer.className = 'mx-4 mb-4 p-4 border border-green-500 rounded-lg bg-white dark:bg-gray-700 shadow-md relative z-10';\n\n  // Create heading\n  const heading = document.createElement('h3');\n  heading.className = 'text-lg font-bold text-center mb-4 text-gray-800 dark:text-white';\n  heading.textContent = 'PLAYBACK CONTROLS';\n  controlsContainer.appendChild(heading);\n\n  // Create controls grid container\n  const controlsGrid = document.createElement('div');\n  controlsGrid.className = 'grid grid-cols-1 md:grid-cols-2 gap-4 mb-2';\n\n  // Create speed controls section\n  const speedControlsSection = document.createElement('div');\n  speedControlsSection.className = 'border-b pb-4 md:border-b-0 md:border-r md:pr-4 md:pb-0';\n\n  // Create speed section heading\n  const speedHeading = document.createElement('h4');\n  speedHeading.className = 'font-bold text-center mb-3 text-gray-700 dark:text-gray-300';\n  speedHeading.textContent = 'Playback Speed';\n  speedControlsSection.appendChild(speedHeading);\n\n  // Create speed buttons container\n  const speedButtonsContainer = document.createElement('div');\n  speedButtonsContainer.className = 'flex flex-wrap justify-center gap-2';\n\n  // Create speed buttons\n  const speeds = [0.25, 0.5, 1.0, 1.5, 2.0, 4.0];\n  speeds.forEach(speed => {\n    const button = document.createElement('button');\n    button.textContent = speed === 1.0 ? '1× (Normal)' : `${speed}×`;\n    button.className = speed === 1.0\n      ? 'speed-btn px-3 py-2 rounded-full bg-green-500 text-white text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50'\n      : 'speed-btn px-3 py-2 rounded-full bg-gray-200 hover:bg-gray-300 text-sm font-medium transition-all focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50';\n    button.setAttribute('data-speed', speed);\n\n    // Add click event\n    button.addEventListener('click', () => {\n      // Set playback speed\n      video.playbackRate = speed;\n\n      // Update button styles\n      speedButtonsContainer.querySelectorAll('.speed-btn').forEach(btn => {\n        if (btn.getAttribute('data-speed') === speed.toString()) {\n          btn.classList.remove('bg-gray-200', 'hover:bg-gray-300');\n          btn.classList.add('bg-green-500', 'text-white');\n        } else {\n          btn.classList.remove('bg-green-500', 'text-white');\n          btn.classList.add('bg-gray-200', 'hover:bg-gray-300');\n        }\n      });\n\n      // Update current speed indicator\n      currentSpeedIndicator.textContent = `Current Speed: ${speed}× ${speed === 1.0 ? '(Normal)' : ''}`;\n    });\n\n    speedButtonsContainer.appendChild(button);\n  });\n\n  // Add buttons container to speed controls section\n  speedControlsSection.appendChild(speedButtonsContainer);\n\n  // Add current speed indicator\n  const currentSpeedIndicator = document.createElement('div');\n  currentSpeedIndicator.id = 'current-speed-indicator';\n  currentSpeedIndicator.className = 'mt-3 text-center font-medium text-green-600 dark:text-green-400 text-sm';\n  currentSpeedIndicator.textContent = 'Current Speed: 1× (Normal)';\n  speedControlsSection.appendChild(currentSpeedIndicator);\n\n  // Add speed controls section to grid\n  controlsGrid.appendChild(speedControlsSection);\n\n  // Create detection overlay section\n  const detectionSection = document.createElement('div');\n  detectionSection.className = 'pt-4 md:pt-0 md:pl-4';\n\n  // Create detection section heading\n  const detectionHeading = document.createElement('h4');\n  detectionHeading.className = 'font-bold text-center mb-2 text-gray-700 dark:text-gray-300';\n  detectionHeading.textContent = 'Detection Overlays';\n  detectionSection.appendChild(detectionHeading);\n\n  // Create detection controls container\n  const detectionControlsContainer = document.createElement('div');\n  detectionControlsContainer.className = 'flex flex-col items-center gap-2';\n\n  // Create detection checkbox container\n  const detectionCheckboxContainer = document.createElement('div');\n  detectionCheckboxContainer.className = 'flex items-center gap-2 mb-2';\n\n  // Create detection checkbox\n  const detectionCheckbox = document.createElement('input');\n  detectionCheckbox.type = 'checkbox';\n  detectionCheckbox.id = 'detection-overlay-checkbox';\n  detectionCheckbox.className = 'w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 dark:focus:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600';\n\n  // Create detection checkbox label\n  const detectionCheckboxLabel = document.createElement('label');\n  detectionCheckboxLabel.htmlFor = 'detection-overlay-checkbox';\n  detectionCheckboxLabel.className = 'text-sm font-medium text-gray-700 dark:text-gray-300';\n  detectionCheckboxLabel.textContent = 'Show Detection Overlays';\n\n  // Add checkbox and label to container\n  detectionCheckboxContainer.appendChild(detectionCheckbox);\n  detectionCheckboxContainer.appendChild(detectionCheckboxLabel);\n\n  // Add checkbox container to detection controls\n  detectionControlsContainer.appendChild(detectionCheckboxContainer);\n\n  // Create sensitivity slider container\n  const sensitivityContainer = document.createElement('div');\n  sensitivityContainer.className = 'flex flex-col w-full mt-2 mb-2';\n\n  // Create sensitivity label\n  const sensitivityLabel = document.createElement('label');\n  sensitivityLabel.htmlFor = 'detection-sensitivity-slider';\n  sensitivityLabel.className = 'text-sm font-medium text-gray-700 dark:text-gray-300 mb-1';\n  sensitivityLabel.textContent = 'Detection Sensitivity';\n\n  // Create sensitivity value display\n  const sensitivityValue = document.createElement('div');\n  sensitivityValue.id = 'detection-sensitivity-value';\n  sensitivityValue.className = 'text-xs text-gray-600 dark:text-gray-400 text-center mb-1';\n  sensitivityValue.textContent = 'Time Window: 2 seconds';\n\n  // Create sensitivity slider\n  const sensitivitySlider = document.createElement('input');\n  sensitivitySlider.type = 'range';\n  sensitivitySlider.id = 'detection-sensitivity-slider';\n  sensitivitySlider.className = 'w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer dark:bg-gray-700';\n  sensitivitySlider.min = '1';\n  sensitivitySlider.max = '10';\n  sensitivitySlider.step = '1';\n  sensitivitySlider.value = '2';\n\n  // Add elements to sensitivity container\n  sensitivityContainer.appendChild(sensitivityLabel);\n  sensitivityContainer.appendChild(sensitivitySlider);\n  sensitivityContainer.appendChild(sensitivityValue);\n\n  // Add event listener to the sensitivity slider\n  sensitivitySlider.addEventListener('input', () => {\n    // Update the time window value\n    timeWindow = parseInt(sensitivitySlider.value);\n\n    // Update the sensitivity value display\n    sensitivityValue.textContent = `Time Window: ${timeWindow} second${timeWindow !== 1 ? 's' : ''}`;\n\n    // Redraw detections if enabled\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  // Add sensitivity container to detection controls\n  detectionControlsContainer.appendChild(sensitivityContainer);\n\n  // Create detection status indicator\n  const detectionStatusIndicator = document.createElement('div');\n  detectionStatusIndicator.id = 'detection-status-indicator';\n  detectionStatusIndicator.className = 'text-center text-sm text-gray-600 dark:text-gray-400';\n  detectionStatusIndicator.textContent = 'No detections loaded';\n\n  // Add status indicator to detection controls\n  detectionControlsContainer.appendChild(detectionStatusIndicator);\n\n  // Add detection controls to detection section\n  detectionSection.appendChild(detectionControlsContainer);\n\n  // Add detection section to grid\n  controlsGrid.appendChild(detectionSection);\n\n  // Add controls grid to container\n  controlsContainer.appendChild(controlsGrid);\n\n  // Add download button to controls container\n  if (downloadUrl) {\n    const downloadSection = document.createElement('div');\n    downloadSection.className = 'flex justify-center mt-4 pt-2 border-t border-gray-200 dark:border-gray-700';\n\n    const downloadButton = document.createElement('a');\n    downloadButton.className = 'px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center text-sm';\n    downloadButton.innerHTML = `\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-4 w-4 mr-2\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\" />\n      </svg>\n      Download Video\n    `;\n    downloadButton.href = downloadUrl;\n    downloadButton.download = `video-${Date.now()}.mp4`;\n\n    downloadSection.appendChild(downloadButton);\n    controlsContainer.appendChild(downloadSection);\n  }\n\n  // Create empty footer for spacing\n  const footer = document.createElement('div');\n  footer.className = 'p-2';\n\n  // Create detection overlay canvas container\n  const canvasContainer = document.createElement('div');\n  canvasContainer.className = 'relative';\n  canvasContainer.style.position = 'relative';\n  canvasContainer.style.width = '100%';\n  canvasContainer.style.height = '100%';\n\n  // Create detection overlay canvas\n  const detectionCanvas = document.createElement('canvas');\n  detectionCanvas.id = 'detection-overlay-canvas';\n  detectionCanvas.className = 'absolute top-0 left-0 w-full h-full pointer-events-none';\n  detectionCanvas.style.position = 'absolute';\n  detectionCanvas.style.top = '0';\n  detectionCanvas.style.left = '0';\n  detectionCanvas.style.width = '100%';\n  detectionCanvas.style.height = '100%';\n  detectionCanvas.style.pointerEvents = 'none';\n  detectionCanvas.style.display = 'none'; // Hidden by default\n\n  // Wrap video in canvas container\n  canvasContainer.appendChild(video);\n  canvasContainer.appendChild(detectionCanvas);\n  videoContainer.appendChild(canvasContainer);\n\n  // Store recording data for detection overlay\n  let recordingData = null;\n  let detections = [];\n  let detectionOverlayEnabled = false;\n  let timeWindow = parseInt(sensitivitySlider.value); // Time window in seconds for detection visibility\n\n  // Extract recording ID from URL\n  const recordingIdMatch = videoUrl.match(/\\/play\\/(\\d+)/);\n  if (recordingIdMatch && recordingIdMatch[1]) {\n    const recordingId = parseInt(recordingIdMatch[1], 10);\n\n    // Create a container for the query client\n    const queryContainer = document.createElement('div');\n    queryContainer.id = 'query-container';\n    queryContainer.style.display = 'none';\n    document.body.appendChild(queryContainer);\n\n    // Import preact for rendering\n    import('preact').then(({ render, h }) => {\n      // Create a component to fetch the data\n      const RecordingDataFetcher = () => {\n        // Fetch recording data\n        const { data: recording, isLoading: isLoadingRecording, error: recordingError } =\n          useQuery(['recording', recordingId], `/api/recordings/${recordingId}`);\n\n        // When recording data is loaded, fetch detections\n        let detectionQueryEnabled = false;\n        let startTime, endTime, streamName;\n\n        if (recording && recording.stream && recording.start_time && recording.end_time) {\n          recordingData = recording;\n          console.log('Recording data:', recording);\n\n          // Convert timestamps to seconds\n          startTime = Math.floor(new Date(recording.start_time).getTime() / 1000);\n          endTime = Math.floor(new Date(recording.end_time).getTime() / 1000);\n          streamName = recording.stream;\n          detectionQueryEnabled = true;\n        }\n\n        // Fetch detections if recording data is available\n        const { data: detectionData, isLoading: isLoadingDetections, error: detectionError } =\n          useQuery(\n            ['detections', streamName, startTime, endTime],\n            detectionQueryEnabled ? `/api/detection/results/${streamName}?start=${startTime}&end=${endTime}` : null,\n            {},\n            { enabled: detectionQueryEnabled }\n          );\n\n        // Process detection data when it's loaded\n        if (detectionData && detectionData.detections) {\n          console.log('Detection data:', detectionData);\n          detections = detectionData.detections || [];\n\n          // Update detection status\n          if (detectionStatusIndicator) {\n            if (detections.length > 0) {\n              detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n              detectionStatusIndicator.className = 'text-center text-sm font-medium text-green-600 dark:text-green-400';\n              // Enable detection checkbox\n              if (detectionCheckbox) {\n                detectionCheckbox.disabled = false;\n              }\n            } else {\n              // No detections found\n              detectionStatusIndicator.textContent = 'No detections found for this recording';\n              // Disable detection checkbox\n              if (detectionCheckbox) {\n                detectionCheckbox.disabled = true;\n              }\n            }\n          }\n        }\n\n        // Handle errors\n        if (recordingError) {\n          console.error('Error loading recording data:', recordingError);\n        }\n\n        if (detectionError) {\n          console.error('Error loading detection data:', detectionError);\n          // Update detection status\n          if (detectionStatusIndicator) {\n            detectionStatusIndicator.textContent = 'Error loading detections';\n            detectionStatusIndicator.className = 'text-center text-sm font-medium text-red-600 dark:text-red-400';\n          }\n          // Disable detection checkbox\n          if (detectionCheckbox) {\n            detectionCheckbox.disabled = true;\n          }\n        }\n\n        return null; // This component doesn't render anything\n      };\n\n      // Render the component with QueryClientProvider\n      render(\n        h(QueryClientProvider, { client: queryClient },\n          h(RecordingDataFetcher)\n        ),\n        queryContainer\n      );\n    }).catch(err => {\n      console.error('Error loading preact for data fetching:', err);\n\n      // Fallback to traditional fetch if preact-query fails\n      fetch(`/api/recordings/${recordingId}`)\n        .then(response => response.json())\n        .then(data => {\n          recordingData = data;\n\n          if (recordingData && recordingData.stream && recordingData.start_time && recordingData.end_time) {\n            const startTime = Math.floor(new Date(recordingData.start_time).getTime() / 1000);\n            const endTime = Math.floor(new Date(recordingData.end_time).getTime() / 1000);\n\n            const params = new URLSearchParams({\n              start: startTime,\n              end: endTime\n            });\n\n            return fetch(`/api/detection/results/${recordingData.stream}?${params.toString()}`);\n          }\n\n          throw new Error('Recording data incomplete');\n        })\n        .then(response => response.json())\n        .then(data => {\n          detections = data.detections || [];\n\n          if (detections.length > 0) {\n            detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n            detectionStatusIndicator.className = 'text-center text-sm font-medium text-green-600 dark:text-green-400';\n            detectionCheckbox.disabled = false;\n          } else {\n            detectionStatusIndicator.textContent = 'No detections found for this recording';\n            detectionCheckbox.disabled = true;\n          }\n        })\n        .catch(error => {\n          console.error('Error fetching detection data:', error);\n          detectionStatusIndicator.textContent = 'Error loading detections';\n          detectionStatusIndicator.className = 'text-center text-sm font-medium text-red-600 dark:text-red-400';\n          detectionCheckbox.disabled = true;\n        });\n    });\n  }\n\n  // Handle detection overlay checkbox change\n  detectionCheckbox.addEventListener('change', () => {\n    detectionOverlayEnabled = detectionCheckbox.checked;\n\n    if (detectionOverlayEnabled) {\n      // Show canvas\n      detectionCanvas.style.display = 'block';\n\n      // Draw detections\n      drawDetections();\n\n      // Update status\n      detectionStatusIndicator.textContent = `Showing ${detections.length} detection${detections.length !== 1 ? 's' : ''}`;\n    } else {\n      // Hide canvas\n      detectionCanvas.style.display = 'none';\n\n      // Update status\n      detectionStatusIndicator.textContent = `${detections.length} detection${detections.length !== 1 ? 's' : ''} available`;\n    }\n  });\n\n  // Function to draw detections on canvas\n  function drawDetections() {\n    if (!detectionOverlayEnabled || !video || !detectionCanvas || detections.length === 0) {\n      return;\n    }\n\n    // Get video dimensions\n    const videoWidth = video.videoWidth;\n    const videoHeight = video.videoHeight;\n\n    if (videoWidth === 0 || videoHeight === 0) {\n      // Video dimensions not available yet, try again later\n      requestAnimationFrame(drawDetections);\n      return;\n    }\n\n    // Set canvas dimensions to match video\n    detectionCanvas.width = videoWidth;\n    detectionCanvas.height = videoHeight;\n\n    // Get canvas context\n    const ctx = detectionCanvas.getContext('2d');\n    ctx.clearRect(0, 0, detectionCanvas.width, detectionCanvas.height);\n\n    // Get current video time in seconds\n    const currentTime = video.currentTime;\n\n    // Calculate the timestamp for the current video position\n    // We need to convert from video time (seconds from start of video) to unix timestamp\n    if (!recordingData || !recordingData.start_time) {\n      return;\n    }\n\n    // Convert recording start time to seconds\n    const recordingStartTime = Math.floor(new Date(recordingData.start_time).getTime() / 1000);\n\n    // Calculate current timestamp in the video\n    const currentTimestamp = recordingStartTime + Math.floor(currentTime);\n\n    // Use the time window value from the slider\n    // timeWindow is already defined at the top level\n\n    // Filter detections to only show those within the time window\n    const visibleDetections = detections.filter(detection => {\n      if (!detection.timestamp) return false;\n\n      // Check if detection is within the time window\n      return Math.abs(detection.timestamp - currentTimestamp) <= timeWindow;\n    });\n\n    // Update status indicator with count of visible detections\n    if (detectionStatusIndicator) {\n      if (visibleDetections.length > 0) {\n        detectionStatusIndicator.textContent = `Showing ${visibleDetections.length} detection${visibleDetections.length !== 1 ? 's' : ''} at current time`;\n      } else {\n        detectionStatusIndicator.textContent = `No detections at current time (${detections.length} total)`;\n      }\n    }\n\n    // Draw each visible detection\n    visibleDetections.forEach(detection => {\n      // Calculate coordinates based on relative positions\n      const x = detection.x * videoWidth;\n      const y = detection.y * videoHeight;\n      const width = detection.width * videoWidth;\n      const height = detection.height * videoHeight;\n\n      // Draw bounding box\n      ctx.strokeStyle = 'rgba(0, 255, 0, 0.8)';\n      ctx.lineWidth = 2;\n      ctx.strokeRect(x, y, width, height);\n\n      // Draw label background\n      ctx.fillStyle = 'rgba(0, 0, 0, 0.7)';\n      const labelText = `${detection.label} (${Math.round(detection.confidence * 100)}%)`;\n      const labelWidth = ctx.measureText(labelText).width + 10;\n      ctx.fillRect(x, y - 20, labelWidth, 20);\n\n      // Draw label text\n      ctx.fillStyle = 'white';\n      ctx.font = '12px Arial';\n      ctx.fillText(labelText, x + 5, y - 5);\n    });\n\n    // Request next frame if video is playing\n    if (!video.paused && !video.ended) {\n      requestAnimationFrame(drawDetections);\n    }\n  }\n\n  // Handle video events\n  video.addEventListener('play', () => {\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  video.addEventListener('seeked', () => {\n    if (detectionOverlayEnabled) {\n      drawDetections();\n    }\n  });\n\n  // Add timeupdate event to update detections as video plays\n  video.addEventListener('timeupdate', () => {\n    if (detectionOverlayEnabled) {\n      // Don't redraw on every timeupdate as it's too frequent\n      // Instead, redraw every 0.5 seconds\n      const currentTime = Math.floor(video.currentTime * 2) / 2;\n      if (video.lastDrawnTime !== currentTime) {\n        video.lastDrawnTime = currentTime;\n        drawDetections();\n      }\n    }\n  });\n\n  // Assemble the modal\n  modalContainer.appendChild(header);\n  modalContainer.appendChild(videoContainer);\n  modalContainer.appendChild(controlsContainer); // Add controls\n  modalContainer.appendChild(footer);\n  overlay.appendChild(modalContainer);\n\n  // Add to document\n  document.body.appendChild(overlay);\n\n  // Add event listener to close on escape key\n  const handleEscape = (e) => {\n    if (e.key === 'Escape') {\n      if (document.body.contains(overlay)) {\n        document.body.removeChild(overlay);\n      }\n      document.removeEventListener('keydown', handleEscape);\n    }\n  };\n\n  document.addEventListener('keydown', handleEscape);\n\n  // Add event listener to close on background click\n  overlay.addEventListener('click', (e) => {\n    if (e.target === overlay) {\n      document.body.removeChild(overlay);\n    }\n  });\n}\n\n/**\n * Show a status message to the user\n * @param {string} message - Message to display\n * @param {string} type - Message type ('success', 'error', 'warning', 'info')\n * @param {number} duration - Duration in milliseconds (default: 4000)\n */\nexport function showStatusMessage(message, type = 'info', duration = 4000) {\n  console.log(`Showing status message: ${message} (${type})`);\n\n  // Try to use the global toast functions first (they should be available)\n  if (window.showToast) {\n    window.showToast(message, type, duration);\n    return;\n  }\n\n  // If global functions aren't available, import the toast module dynamically\n  import('./toast.js').then(({ showStatusMessage: showToast }) => {\n    // Use the toast system\n    showToast(message, type, duration);\n  }).catch(error => {\n    console.error('Error loading toast module:', error);\n\n    // Fallback to basic implementation if toast module fails to load\n    let statusContainer = document.getElementById('status-message-container');\n\n    // Create container if it doesn't exist\n    if (!statusContainer) {\n      statusContainer = document.createElement('div');\n      statusContainer.id = 'status-message-container';\n      statusContainer.className = 'fixed top-4 left-1/2 transform -translate-x-1/2 z-50 flex flex-col items-center';\n      document.body.appendChild(statusContainer);\n    }\n\n    // Create message element\n    const messageElement = document.createElement('div');\n\n    // Set class based on type\n    let typeClass = 'bg-blue-500'; // Default for info\n    if (type === 'success') {\n      typeClass = 'bg-green-500';\n    } else if (type === 'error') {\n      typeClass = 'bg-red-500';\n    } else if (type === 'warning') {\n      typeClass = 'bg-yellow-500';\n    }\n\n    messageElement.className = `${typeClass} text-white px-4 py-2 rounded-lg shadow-lg mb-2 transition-all duration-300 opacity-0 transform translate-y-2`;\n    messageElement.textContent = message;\n\n    // Add to container\n    statusContainer.appendChild(messageElement);\n\n    // Trigger animation to show message\n    setTimeout(() => {\n      messageElement.classList.remove('opacity-0', 'translate-y-2');\n    }, 10);\n\n    // Set timeout to remove message\n    setTimeout(() => {\n      // Trigger animation to hide message\n      messageElement.classList.add('opacity-0', 'translate-y-2');\n\n      // Remove element after animation completes\n      setTimeout(() => {\n        if (messageElement.parentNode === statusContainer) {\n          statusContainer.removeChild(messageElement);\n        }\n\n        // Remove container if no more messages\n        if (statusContainer.children.length === 0 && statusContainer.parentNode === document.body) {\n          document.body.removeChild(statusContainer);\n        }\n      }, 300);\n    }, duration);\n  });\n}\n\n/**\n * Show a snapshot preview in a modal\n * @param {string} imageData - The image data URL\n * @param {string} streamName - The name of the stream\n */\nexport function showSnapshotPreview(imageData, streamName) {\n  // Get the existing snapshot modal created by setupModals()\n  const snapshotModal = document.getElementById('snapshot-preview-modal');\n\n  if (!snapshotModal) {\n    console.error('Snapshot modal not found. Make sure setupModals() has been called.');\n    return;\n  }\n\n  // Get modal elements\n  const snapshotTitle = document.getElementById('snapshot-preview-title');\n  const snapshotImage = document.getElementById('snapshot-preview-image');\n  const snapshotDownloadBtn = document.getElementById('snapshot-download-btn');\n  const snapshotCloseBtn = document.getElementById('snapshot-close-btn');\n  const closeButtons = snapshotModal.querySelectorAll('.close');\n  const modalContent = snapshotModal.querySelector('.modal-content');\n\n  // Set the title and image\n  if (snapshotTitle) snapshotTitle.textContent = `Snapshot: ${streamName}`;\n\n  // Store the image data directly on the modal for later access\n  snapshotModal.dataset.imageData = imageData;\n  snapshotModal.dataset.streamName = streamName;\n\n  // Ensure the image is properly displayed\n  if (snapshotImage) {\n    snapshotImage.src = imageData;\n    snapshotImage.style.display = 'block'; // Make sure it's visible\n    snapshotImage.onload = () => {\n      console.log('Snapshot image loaded successfully');\n    };\n    snapshotImage.onerror = (e) => {\n      console.error('Error loading snapshot image:', e);\n    };\n  }\n\n  // Define close modal function\n  function closeModal() {\n    snapshotModal.classList.add('hidden');\n    if (modalContent) {\n      modalContent.classList.remove('scale-100');\n      modalContent.classList.add('scale-95');\n    }\n  }\n\n  // Set up close button event handlers\n  if (snapshotCloseBtn) {\n    snapshotCloseBtn.onclick = closeModal;\n  }\n\n  closeButtons.forEach(button => {\n    button.onclick = closeModal;\n  });\n\n  // Close on click outside\n  snapshotModal.onclick = function(event) {\n    if (event.target === snapshotModal) {\n      closeModal();\n    }\n  };\n\n  // Close on escape key\n  document.addEventListener('keydown', function(event) {\n    if (event.key === 'Escape' && !snapshotModal.classList.contains('hidden')) {\n      closeModal();\n    }\n  });\n\n  // Set up download button\n  if (snapshotDownloadBtn) {\n    snapshotDownloadBtn.onclick = function() {\n      // Get the stored image data from the modal\n      const storedImageData = snapshotModal.dataset.imageData;\n      const storedStreamName = snapshotModal.dataset.streamName || streamName;\n\n      if (!storedImageData) {\n        console.error('No image data available for download');\n        showStatusMessage('Download failed: No image data available', 5000);\n        return;\n      }\n\n      console.log('Downloading snapshot with data URL length:', storedImageData.length);\n\n      try {\n        // Create a temporary download iframe - this approach often works better on HTTP\n        console.log('Using iframe download method');\n\n        // Create a canvas to resize and optimize the image\n        const canvas = document.createElement('canvas');\n        const img = new Image();\n\n        img.onload = function() {\n          try {\n            console.log('Image loaded for optimization, original dimensions:', img.width, 'x', img.height);\n\n            // Use original dimensions as requested by the user\n            const newWidth = img.width;\n            const newHeight = img.height;\n            console.log('Using original image dimensions for maximum quality:', newWidth, 'x', newHeight);\n\n            // Set canvas dimensions to the new size\n            canvas.width = newWidth;\n            canvas.height = newHeight;\n\n            // Draw the image on the canvas with the new dimensions\n            const ctx = canvas.getContext('2d');\n            ctx.fillStyle = 'black';\n            ctx.fillRect(0, 0, canvas.width, canvas.height);\n            ctx.drawImage(img, 0, 0, newWidth, newHeight);\n\n            // Convert to JPEG with maximum quality for best image quality\n            const optimizedJpegData = canvas.toDataURL('image/jpeg', 1.0);\n            console.log('Optimized JPEG data URL length:', optimizedJpegData.length);\n\n            // Create a download link with the optimized image\n            const filename = `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`;\n\n            // Method 1: Try the iframe approach\n            const iframe = document.createElement('iframe');\n            iframe.style.display = 'none';\n            document.body.appendChild(iframe);\n\n            try {\n              // Write a simple HTML document to the iframe with a download link\n              const iframeDoc = iframe.contentWindow.document;\n              iframeDoc.open();\n              iframeDoc.write(`\n                <!DOCTYPE html>\n                <html>\n                <head>\n                  <title>Downloading...</title>\n                  <script>\n                    function startDownload() {\n                      const a = document.getElementById('download-link');\n                      a.click();\n                      setTimeout(function() {\n                        window.parent.postMessage('download-complete', '*');\n                      }, 1000);\n                    }\n                  </script>\n                </head>\n                <body onload=\"startDownload()\">\n                  <a id=\"download-link\" href=\"${optimizedJpegData}\" download=\"${filename}\">Download</a>\n                </body>\n                </html>\n              `);\n              iframeDoc.close();\n\n              // Listen for the download complete message\n              window.addEventListener('message', function onMessage(e) {\n                if (e.data === 'download-complete') {\n                  window.removeEventListener('message', onMessage);\n                  document.body.removeChild(iframe);\n                  showStatusMessage('Snapshot downloaded successfully', 3000);\n                }\n              }, { once: true });\n\n              // Fallback cleanup in case the message isn't received\n              setTimeout(() => {\n                if (document.body.contains(iframe)) {\n                  document.body.removeChild(iframe);\n                }\n              }, 5000);\n\n            } catch (iframeError) {\n              console.error('Iframe download method failed:', iframeError);\n              document.body.removeChild(iframe);\n\n              // Fallback to direct link method\n              tryDirectLinkDownload(optimizedJpegData, filename);\n            }\n          } catch (canvasError) {\n            console.error('Canvas processing error:', canvasError);\n            showStatusMessage('Download failed: Error processing image', 5000);\n\n            // Try direct download with original data\n            tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n          }\n        };\n\n        img.onerror = function(e) {\n          console.error('Error loading image for optimization:', e);\n          showStatusMessage('Download failed: Could not load image', 5000);\n\n          // Try direct download with original data\n          tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n        };\n\n        // Set the source to trigger loading\n        img.src = storedImageData;\n\n      } catch (error) {\n        console.error('Error in snapshot download process:', error);\n        showStatusMessage('Download failed: ' + error.message, 5000);\n\n        // Try direct download with original data as last resort\n        tryDirectLinkDownload(storedImageData, `snapshot_${storedStreamName}_${new Date().toISOString().replace(/[:.]/g, '-')}.jpg`);\n      }\n\n      // Helper function for direct link download\n      function tryDirectLinkDownload(dataUrl, filename) {\n        console.log('Attempting direct link download');\n        try {\n          const link = document.createElement('a');\n          link.href = dataUrl;\n          link.download = filename;\n          link.target = '_blank'; // Try opening in a new tab\n          link.rel = 'noopener noreferrer';\n          document.body.appendChild(link);\n          link.click();\n\n          // Clean up\n          setTimeout(() => {\n            document.body.removeChild(link);\n          }, 100);\n\n          showStatusMessage('Download initiated', 3000);\n        } catch (linkError) {\n          console.error('Direct link download failed:', linkError);\n          showStatusMessage('Download failed: Browser restrictions', 5000);\n        }\n      }\n    };\n  }\n\n  // Show the modal\n  snapshotModal.classList.remove('hidden');\n\n  // Animate the modal content\n  if (modalContent) {\n    setTimeout(() => {\n      modalContent.classList.remove('scale-95', 'opacity-0');\n      modalContent.classList.add('scale-100', 'opacity-100');\n    }, 10);\n  }\n}\n","var n,l,t,u,i,r,o,e,f,c,s,a,h,p={},v=[],y=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,d=Array.isArray;function w(n,l){for(var t in l)n[t]=l[t];return n}function g(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function _(l,t,u){var i,r,o,e={};for(o in t)\"key\"==o?i=t[o]:\"ref\"==o?r=t[o]:e[o]=t[o];if(arguments.length>2&&(e.children=arguments.length>3?n.call(arguments,2):u),\"function\"==typeof l&&null!=l.defaultProps)for(o in l.defaultProps)void 0===e[o]&&(e[o]=l.defaultProps[o]);return m(l,e,i,r,null)}function m(n,u,i,r,o){var e={type:n,props:u,key:i,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:null==o?++t:o,__i:-1,__u:0};return null==o&&null!=l.vnode&&l.vnode(e),e}function b(){return{current:null}}function k(n){return n.children}function x(n,l){this.props=n,this.context=l}function S(n,l){if(null==l)return n.__?S(n.__,n.__i+1):null;for(var t;l<n.__k.length;l++)if(null!=(t=n.__k[l])&&null!=t.__e)return t.__e;return\"function\"==typeof n.type?S(n):null}function C(n){var l,t;if(null!=(n=n.__)&&null!=n.__c){for(n.__e=n.__c.base=null,l=0;l<n.__k.length;l++)if(null!=(t=n.__k[l])&&null!=t.__e){n.__e=n.__c.base=t.__e;break}return C(n)}}function M(n){(!n.__d&&(n.__d=!0)&&i.push(n)&&!$.__r++||r!==l.debounceRendering)&&((r=l.debounceRendering)||o)($)}function $(){for(var n,t,u,r,o,f,c,s=1;i.length;)i.length>s&&i.sort(e),n=i.shift(),s=i.length,n.__d&&(u=void 0,o=(r=(t=n).__v).__e,f=[],c=[],t.__P&&((u=w({},r)).__v=r.__v+1,l.vnode&&l.vnode(u),O(t.__P,u,r,t.__n,t.__P.namespaceURI,32&r.__u?[o]:null,f,null==o?S(r):o,!!(32&r.__u),c),u.__v=r.__v,u.__.__k[u.__i]=u,z(f,u,c),u.__e!=o&&C(u)));$.__r=0}function I(n,l,t,u,i,r,o,e,f,c,s){var a,h,y,d,w,g,_=u&&u.__k||v,m=l.length;for(f=P(t,l,_,f,m),a=0;a<m;a++)null!=(y=t.__k[a])&&(h=-1===y.__i?p:_[y.__i]||p,y.__i=a,g=O(n,y,h,i,r,o,e,f,c,s),d=y.__e,y.ref&&h.ref!=y.ref&&(h.ref&&q(h.ref,null,y),s.push(y.ref,y.__c||d,y)),null==w&&null!=d&&(w=d),4&y.__u||h.__k===y.__k?f=A(y,f,n):\"function\"==typeof y.type&&void 0!==g?f=g:d&&(f=d.nextSibling),y.__u&=-7);return t.__e=w,f}function P(n,l,t,u,i){var r,o,e,f,c,s=t.length,a=s,h=0;for(n.__k=new Array(i),r=0;r<i;r++)null!=(o=l[r])&&\"boolean\"!=typeof o&&\"function\"!=typeof o?(f=r+h,(o=n.__k[r]=\"string\"==typeof o||\"number\"==typeof o||\"bigint\"==typeof o||o.constructor==String?m(null,o,null,null,null):d(o)?m(k,{children:o},null,null,null):void 0===o.constructor&&o.__b>0?m(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o).__=n,o.__b=n.__b+1,e=null,-1!==(c=o.__i=L(o,t,f,a))&&(a--,(e=t[c])&&(e.__u|=2)),null==e||null===e.__v?(-1==c&&(i>s?h--:i<s&&h++),\"function\"!=typeof o.type&&(o.__u|=4)):c!=f&&(c==f-1?h--:c==f+1?h++:(c>f?h--:h++,o.__u|=4))):n.__k[r]=null;if(a)for(r=0;r<s;r++)null!=(e=t[r])&&0==(2&e.__u)&&(e.__e==u&&(u=S(e)),B(e,e));return u}function A(n,l,t){var u,i;if(\"function\"==typeof n.type){for(u=n.__k,i=0;u&&i<u.length;i++)u[i]&&(u[i].__=n,l=A(u[i],l,t));return l}n.__e!=l&&(l&&n.type&&!t.contains(l)&&(l=S(n)),t.insertBefore(n.__e,l||null),l=n.__e);do{l=l&&l.nextSibling}while(null!=l&&8==l.nodeType);return l}function H(n,l){return l=l||[],null==n||\"boolean\"==typeof n||(d(n)?n.some(function(n){H(n,l)}):l.push(n)),l}function L(n,l,t,u){var i,r,o=n.key,e=n.type,f=l[t];if(null===f&&null==n.key||f&&o==f.key&&e===f.type&&0==(2&f.__u))return t;if(u>(null!=f&&0==(2&f.__u)?1:0))for(i=t-1,r=t+1;i>=0||r<l.length;){if(i>=0){if((f=l[i])&&0==(2&f.__u)&&o==f.key&&e===f.type)return i;i--}if(r<l.length){if((f=l[r])&&0==(2&f.__u)&&o==f.key&&e===f.type)return r;r++}}return-1}function T(n,l,t){\"-\"==l[0]?n.setProperty(l,null==t?\"\":t):n[l]=null==t?\"\":\"number\"!=typeof t||y.test(l)?t:t+\"px\"}function j(n,l,t,u,i){var r;n:if(\"style\"==l)if(\"string\"==typeof t)n.style.cssText=t;else{if(\"string\"==typeof u&&(n.style.cssText=u=\"\"),u)for(l in u)t&&l in t||T(n.style,l,\"\");if(t)for(l in t)u&&t[l]===u[l]||T(n.style,l,t[l])}else if(\"o\"==l[0]&&\"n\"==l[1])r=l!=(l=l.replace(f,\"$1\")),l=l.toLowerCase()in n||\"onFocusOut\"==l||\"onFocusIn\"==l?l.toLowerCase().slice(2):l.slice(2),n.l||(n.l={}),n.l[l+r]=t,t?u?t.t=u.t:(t.t=c,n.addEventListener(l,r?a:s,r)):n.removeEventListener(l,r?a:s,r);else{if(\"http://www.w3.org/2000/svg\"==i)l=l.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!=l&&\"height\"!=l&&\"href\"!=l&&\"list\"!=l&&\"form\"!=l&&\"tabIndex\"!=l&&\"download\"!=l&&\"rowSpan\"!=l&&\"colSpan\"!=l&&\"role\"!=l&&\"popover\"!=l&&l in n)try{n[l]=null==t?\"\":t;break n}catch(n){}\"function\"==typeof t||(null==t||!1===t&&\"-\"!=l[4]?n.removeAttribute(l):n.setAttribute(l,\"popover\"==l&&1==t?\"\":t))}}function F(n){return function(t){if(this.l){var u=this.l[t.type+n];if(null==t.u)t.u=c++;else if(t.u<u.t)return;return u(l.event?l.event(t):t)}}}function O(n,t,u,i,r,o,e,f,c,s){var a,h,p,v,y,_,m,b,S,C,M,$,P,A,H,L,T,j=t.type;if(void 0!==t.constructor)return null;128&u.__u&&(c=!!(32&u.__u),o=[f=t.__e=u.__e]),(a=l.__b)&&a(t);n:if(\"function\"==typeof j)try{if(b=t.props,S=\"prototype\"in j&&j.prototype.render,C=(a=j.contextType)&&i[a.__c],M=a?C?C.props.value:a.__:i,u.__c?m=(h=t.__c=u.__c).__=h.__E:(S?t.__c=h=new j(b,M):(t.__c=h=new x(b,M),h.constructor=j,h.render=D),C&&C.sub(h),h.props=b,h.state||(h.state={}),h.context=M,h.__n=i,p=h.__d=!0,h.__h=[],h._sb=[]),S&&null==h.__s&&(h.__s=h.state),S&&null!=j.getDerivedStateFromProps&&(h.__s==h.state&&(h.__s=w({},h.__s)),w(h.__s,j.getDerivedStateFromProps(b,h.__s))),v=h.props,y=h.state,h.__v=t,p)S&&null==j.getDerivedStateFromProps&&null!=h.componentWillMount&&h.componentWillMount(),S&&null!=h.componentDidMount&&h.__h.push(h.componentDidMount);else{if(S&&null==j.getDerivedStateFromProps&&b!==v&&null!=h.componentWillReceiveProps&&h.componentWillReceiveProps(b,M),!h.__e&&(null!=h.shouldComponentUpdate&&!1===h.shouldComponentUpdate(b,h.__s,M)||t.__v==u.__v)){for(t.__v!=u.__v&&(h.props=b,h.state=h.__s,h.__d=!1),t.__e=u.__e,t.__k=u.__k,t.__k.some(function(n){n&&(n.__=t)}),$=0;$<h._sb.length;$++)h.__h.push(h._sb[$]);h._sb=[],h.__h.length&&e.push(h);break n}null!=h.componentWillUpdate&&h.componentWillUpdate(b,h.__s,M),S&&null!=h.componentDidUpdate&&h.__h.push(function(){h.componentDidUpdate(v,y,_)})}if(h.context=M,h.props=b,h.__P=n,h.__e=!1,P=l.__r,A=0,S){for(h.state=h.__s,h.__d=!1,P&&P(t),a=h.render(h.props,h.state,h.context),H=0;H<h._sb.length;H++)h.__h.push(h._sb[H]);h._sb=[]}else do{h.__d=!1,P&&P(t),a=h.render(h.props,h.state,h.context),h.state=h.__s}while(h.__d&&++A<25);h.state=h.__s,null!=h.getChildContext&&(i=w(w({},i),h.getChildContext())),S&&!p&&null!=h.getSnapshotBeforeUpdate&&(_=h.getSnapshotBeforeUpdate(v,y)),L=a,null!=a&&a.type===k&&null==a.key&&(L=N(a.props.children)),f=I(n,d(L)?L:[L],t,u,i,r,o,e,f,c,s),h.base=t.__e,t.__u&=-161,h.__h.length&&e.push(h),m&&(h.__E=h.__=null)}catch(n){if(t.__v=null,c||null!=o)if(n.then){for(t.__u|=c?160:128;f&&8==f.nodeType&&f.nextSibling;)f=f.nextSibling;o[o.indexOf(f)]=null,t.__e=f}else for(T=o.length;T--;)g(o[T]);else t.__e=u.__e,t.__k=u.__k;l.__e(n,t,u)}else null==o&&t.__v==u.__v?(t.__k=u.__k,t.__e=u.__e):f=t.__e=V(u.__e,t,u,i,r,o,e,c,s);return(a=l.diffed)&&a(t),128&t.__u?void 0:f}function z(n,t,u){for(var i=0;i<u.length;i++)q(u[i],u[++i],u[++i]);l.__c&&l.__c(t,n),n.some(function(t){try{n=t.__h,t.__h=[],n.some(function(n){n.call(t)})}catch(n){l.__e(n,t.__v)}})}function N(n){return\"object\"!=typeof n||null==n?n:d(n)?n.map(N):w({},n)}function V(t,u,i,r,o,e,f,c,s){var a,h,v,y,w,_,m,b=i.props,k=u.props,x=u.type;if(\"svg\"==x?o=\"http://www.w3.org/2000/svg\":\"math\"==x?o=\"http://www.w3.org/1998/Math/MathML\":o||(o=\"http://www.w3.org/1999/xhtml\"),null!=e)for(a=0;a<e.length;a++)if((w=e[a])&&\"setAttribute\"in w==!!x&&(x?w.localName==x:3==w.nodeType)){t=w,e[a]=null;break}if(null==t){if(null==x)return document.createTextNode(k);t=document.createElementNS(o,x,k.is&&k),c&&(l.__m&&l.__m(u,e),c=!1),e=null}if(null===x)b===k||c&&t.data===k||(t.data=k);else{if(e=e&&n.call(t.childNodes),b=i.props||p,!c&&null!=e)for(b={},a=0;a<t.attributes.length;a++)b[(w=t.attributes[a]).name]=w.value;for(a in b)if(w=b[a],\"children\"==a);else if(\"dangerouslySetInnerHTML\"==a)v=w;else if(!(a in k)){if(\"value\"==a&&\"defaultValue\"in k||\"checked\"==a&&\"defaultChecked\"in k)continue;j(t,a,null,w,o)}for(a in k)w=k[a],\"children\"==a?y=w:\"dangerouslySetInnerHTML\"==a?h=w:\"value\"==a?_=w:\"checked\"==a?m=w:c&&\"function\"!=typeof w||b[a]===w||j(t,a,w,b[a],o);if(h)c||v&&(h.__html===v.__html||h.__html===t.innerHTML)||(t.innerHTML=h.__html),u.__k=[];else if(v&&(t.innerHTML=\"\"),I(\"template\"===u.type?t.content:t,d(y)?y:[y],u,i,r,\"foreignObject\"==x?\"http://www.w3.org/1999/xhtml\":o,e,f,e?e[0]:i.__k&&S(i,0),c,s),null!=e)for(a=e.length;a--;)g(e[a]);c||(a=\"value\",\"progress\"==x&&null==_?t.removeAttribute(\"value\"):void 0!==_&&(_!==t[a]||\"progress\"==x&&!_||\"option\"==x&&_!==b[a])&&j(t,a,_,b[a],o),a=\"checked\",void 0!==m&&m!==t[a]&&j(t,a,m,b[a],o))}return t}function q(n,t,u){try{if(\"function\"==typeof n){var i=\"function\"==typeof n.__u;i&&n.__u(),i&&null==t||(n.__u=n(t))}else n.current=t}catch(n){l.__e(n,u)}}function B(n,t,u){var i,r;if(l.unmount&&l.unmount(n),(i=n.ref)&&(i.current&&i.current!==n.__e||q(i,null,t)),null!=(i=n.__c)){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(n){l.__e(n,t)}i.base=i.__P=null}if(i=n.__k)for(r=0;r<i.length;r++)i[r]&&B(i[r],t,u||\"function\"!=typeof n.type);u||g(n.__e),n.__c=n.__=n.__e=void 0}function D(n,l,t){return this.constructor(n,t)}function E(t,u,i){var r,o,e,f;u==document&&(u=document.documentElement),l.__&&l.__(t,u),o=(r=\"function\"==typeof i)?null:i&&i.__k||u.__k,e=[],f=[],O(u,t=(!r&&i||u).__k=_(k,null,[t]),o||p,p,u.namespaceURI,!r&&i?[i]:o?null:u.firstChild?n.call(u.childNodes):null,e,!r&&i?i:o?o.__e:u.firstChild,r,f),z(e,t,f)}function G(n,l){E(n,l,G)}function J(l,t,u){var i,r,o,e,f=w({},l.props);for(o in l.type&&l.type.defaultProps&&(e=l.type.defaultProps),t)\"key\"==o?i=t[o]:\"ref\"==o?r=t[o]:f[o]=void 0===t[o]&&void 0!==e?e[o]:t[o];return arguments.length>2&&(f.children=arguments.length>3?n.call(arguments,2):u),m(l.type,f,i||l.key,r||l.ref,null)}function K(n){function l(n){var t,u;return this.getChildContext||(t=new Set,(u={})[l.__c]=this,this.getChildContext=function(){return u},this.componentWillUnmount=function(){t=null},this.shouldComponentUpdate=function(n){this.props.value!==n.value&&t.forEach(function(n){n.__e=!0,M(n)})},this.sub=function(n){t.add(n);var l=n.componentWillUnmount;n.componentWillUnmount=function(){t&&t.delete(n),l&&l.call(n)}}),n.children}return l.__c=\"__cC\"+h++,l.__=n,l.Provider=l.__l=(l.Consumer=function(n,l){return n.children(l)}).contextType=l,l}n=v.slice,l={__e:function(n,l,t,u){for(var i,r,o;l=l.__;)if((i=l.__c)&&!i.__)try{if((r=i.constructor)&&null!=r.getDerivedStateFromError&&(i.setState(r.getDerivedStateFromError(n)),o=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(n,u||{}),o=i.__d),o)return i.__E=i}catch(l){n=l}throw n}},t=0,u=function(n){return null!=n&&null==n.constructor},x.prototype.setState=function(n,l){var t;t=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=w({},this.state),\"function\"==typeof n&&(n=n(w({},t),this.props)),n&&w(t,n),null!=n&&this.__v&&(l&&this._sb.push(l),M(this))},x.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),M(this))},x.prototype.render=k,i=[],o=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,e=function(n,l){return n.__v.__b-l.__v.__b},$.__r=0,f=/(PointerCapture)$|Capture$/i,c=0,s=F(!1),a=F(!0),h=0;export{x as Component,k as Fragment,J as cloneElement,K as createContext,_ as createElement,b as createRef,_ as h,G as hydrate,u as isValidElement,l as options,E as render,H as toChildArray};\n//# sourceMappingURL=preact.module.js.map\n","var n=function(t,s,r,e){var u;s[0]=0;for(var h=1;h<s.length;h++){var p=s[h++],a=s[h]?(s[0]|=p?1:2,r[s[h++]]):s[++h];3===p?e[0]=a:4===p?e[1]=Object.assign(e[1]||{},a):5===p?(e[1]=e[1]||{})[s[++h]]=a:6===p?e[1][s[++h]]+=a+\"\":p?(u=t.apply(a,n(t,a,r,[\"\",null])),e.push(u),a[0]?s[0]|=2:(s[h-2]=0,s[h]=u)):e.push(a)}return e},t=new Map;export default function(s){var r=t.get(this);return r||(r=new Map,t.set(this,r)),(r=n(this,r.get(s)||(r.set(s,r=function(n){for(var t,s,r=1,e=\"\",u=\"\",h=[0],p=function(n){1===r&&(n||(e=e.replace(/^\\s*\\n\\s*|\\s*\\n\\s*$/g,\"\")))?h.push(0,n,e):3===r&&(n||e)?(h.push(3,n,e),r=2):2===r&&\"...\"===e&&n?h.push(4,n,0):2===r&&e&&!n?h.push(5,0,!0,e):r>=5&&((e||!n&&5===r)&&(h.push(r,0,e,s),r=6),n&&(h.push(r,n,0,s),r=6)),e=\"\"},a=0;a<n.length;a++){a&&(1===r&&p(),p(a));for(var l=0;l<n[a].length;l++)t=n[a][l],1===r?\"<\"===t?(p(),h=[h],r=3):e+=t:4===r?\"--\"===e&&\">\"===t?(r=1,e=\"\"):e=t+e[0]:u?t===u?u=\"\":e+=t:'\"'===t||\"'\"===t?u=t:\">\"===t?(p(),r=1):r&&(\"=\"===t?(r=5,s=e,e=\"\"):\"/\"===t&&(r<5||\">\"===n[a][l+1])?(p(),3===r&&(h=h[0]),r=h,(h=h[0]).push(2,0,r),r=0):\" \"===t||\"\\t\"===t||\"\\n\"===t||\"\\r\"===t?(p(),r=2):e+=t),3===r&&\"!--\"===e&&(r=4,h=h[0])}return p(),h}(s)),r),arguments,[])).length>1?r:r[0]}\n","/**\n * LightNVR Web Interface HTML Helper\n * Provides the html template literal function for Preact components\n */\n\nimport { h } from 'preact';\nimport htm from 'htm';\n\n// Initialize htm with Preact's h\nexport const html = htm.bind(h);\n","/**\n * WebSocket Client for LightNVR\n * Provides a reusable WebSocket connection with automatic reconnection\n */\n\n/**\n * WebSocket Client class\n */\nexport class WebSocketClient {\n    /**\n     * Generate a UUID v4\n     * @returns {string} A random UUID\n     */\n    static generateUUID() {\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n            const r = Math.random() * 16 | 0;\n            const v = c === 'x' ? r : (r & 0x3 | 0x8);\n            return v.toString(16);\n        });\n    }\n\n    /**\n     * Create a new WebSocket client\n     */\n    constructor() {\n        this.socket = null;\n        // We'll get the client ID from the server's welcome message\n        this.clientId = null;\n        this.connected = false;\n        this.reconnectAttempts = 0;\n        this.maxReconnectAttempts = 5;\n        this.reconnectDelay = 1000; // Start with 1 second delay\n        this.handlers = {};\n        this.subscriptions = new Set();\n        this.pendingSubscriptions = new Set();\n        this.messageQueue = [];\n        this.connecting = false;\n        // Store subscription parameters\n        this.subscriptionParams = new Map();\n        // Store callbacks waiting for client ID\n        this.clientIdCallbacks = [];\n        // Connection change listeners\n        this.connectionChangeListeners = [];\n\n        console.log('WebSocket client initialized, waiting for server-assigned client ID');\n\n        // Bind methods to this instance\n        this.connect = this.connect.bind(this);\n        this.disconnect = this.disconnect.bind(this);\n        this.reconnect = this.reconnect.bind(this);\n        this.send = this.send.bind(this);\n        this.subscribe = this.subscribe.bind(this);\n        this.unsubscribe = this.unsubscribe.bind(this);\n        this.handleMessage = this.handleMessage.bind(this);\n        this.processMessageQueue = this.processMessageQueue.bind(this);\n        this.addConnectionChangeListener = this.addConnectionChangeListener.bind(this);\n        this.removeConnectionChangeListener = this.removeConnectionChangeListener.bind(this);\n        this.notifyConnectionChangeListeners = this.notifyConnectionChangeListeners.bind(this);\n\n        // Connect automatically\n        this.connect();\n    }\n\n    /**\n     * Connect to the WebSocket server\n     */\n    connect() {\n        if (this.socket && (this.socket.readyState === WebSocket.OPEN || this.socket.readyState === WebSocket.CONNECTING)) {\n            console.log('WebSocket already connected or connecting');\n            return;\n        }\n\n        if (this.connecting) {\n            console.log('WebSocket connection already in progress');\n            return;\n        }\n\n        this.connecting = true;\n\n        // Determine WebSocket URL based on current page protocol\n        const protocol = window.location.protocol === 'https:' ? 'wss:' : 'ws:';\n        const wsUrl = `${protocol}//${window.location.host}/api/ws`;\n\n        console.log(`Connecting to WebSocket server at ${wsUrl}`);\n\n        // Check if WebSocket is supported\n        if (typeof WebSocket === 'undefined') {\n            console.error('WebSocket not supported by this browser or environment');\n            this.connecting = false;\n            this.fallbackToHttp();\n            return;\n        }\n\n        try {\n            // Create WebSocket with a timeout to handle stalled connections\n            const connectTimeout = setTimeout(() => {\n                console.error('WebSocket connection timeout');\n                if (this.socket && this.socket.readyState !== WebSocket.OPEN) {\n                    this.socket.close();\n                    this.socket = null;\n                    this.connecting = false;\n                    this.fallbackToHttp();\n                }\n            }, 10000); // 10 second timeout\n\n            this.socket = new WebSocket(wsUrl);\n\n            this.socket.onopen = () => {\n                clearTimeout(connectTimeout);\n                console.log('WebSocket connection established');\n                this.connected = true;\n                this.connecting = false;\n                this.reconnectAttempts = 0;\n                this.reconnectDelay = 1000;\n\n                // Notify connection change listeners\n                this.notifyConnectionChangeListeners(true);\n\n                // Set a smaller buffer size for better compatibility with older systems\n                if (this.socket.bufferedAmount !== undefined) {\n                    console.log(`Initial WebSocket buffered amount: ${this.socket.bufferedAmount}`);\n                }\n\n                // Wait for welcome message with client ID before processing subscriptions\n                // The server will send a welcome message with the client ID\n                console.log('WebSocket connected, waiting for welcome message with client ID');\n\n                // If we already have a client ID (from a previous connection), we can process\n                // pending subscriptions and messages immediately\n                if (this.clientId) {\n                    console.log(`Using existing client ID: ${this.clientId}`);\n                    // Resubscribe to topics\n                    this.pendingSubscriptions = new Set([...this.subscriptions]);\n                    this.subscriptions.clear();\n                    this.processPendingSubscriptions();\n\n                    // Process any queued messages\n                    this.processMessageQueue();\n                }\n            };\n\n            this.socket.onmessage = (event) => {\n                try {\n                    this.handleMessage(event.data);\n                } catch (error) {\n                    console.error('Error handling WebSocket message:', error);\n                }\n            };\n\n            this.socket.onclose = (event) => {\n                clearTimeout(connectTimeout);\n                console.log(`WebSocket connection closed: ${event.code} ${event.reason}`);\n                this.connected = false;\n                this.connecting = false;\n\n                // Notify connection change listeners\n                this.notifyConnectionChangeListeners(false);\n\n                // Check for specific close codes that indicate compatibility issues\n                if (event.code === 1006) {\n                    console.warn('WebSocket closed abnormally (code 1006), possible compatibility issue');\n\n                    // If we've tried multiple times and keep getting 1006, fall back to HTTP\n                    if (this.reconnectAttempts >= 3) {\n                        console.warn('Multiple abnormal closures, falling back to HTTP');\n                        this.fallbackToHttp();\n                        return;\n                    }\n                }\n\n                // Attempt to reconnect if not a normal closure\n                if (event.code !== 1000) {\n                    this.reconnect();\n                }\n            };\n\n            this.socket.onerror = (error) => {\n                console.error('WebSocket error:', error);\n                this.connecting = false;\n\n                // If we were connected, notify listeners that we're disconnected\n                if (this.connected) {\n                    this.connected = false;\n                    this.notifyConnectionChangeListeners(false);\n                }\n\n                // On error, increment reconnect attempts\n                this.reconnectAttempts++;\n\n                // If we've had multiple errors, fall back to HTTP\n                if (this.reconnectAttempts >= 3) {\n                    console.warn('Multiple WebSocket errors, falling back to HTTP');\n                    this.fallbackToHttp();\n                }\n            };\n        } catch (error) {\n            console.error('Error creating WebSocket:', error);\n            this.connecting = false;\n            this.reconnect();\n        }\n    }\n\n    /**\n     * Fall back to HTTP for operations\n     * This sets a flag that other components can check to use HTTP instead of WebSocket\n     */\n    fallbackToHttp() {\n        console.warn('Falling back to HTTP for operations');\n        this.usingHttpFallback = true;\n\n        // Make sure connected is set to false\n        if (this.connected) {\n            this.connected = false;\n            // Notify connection change listeners\n            this.notifyConnectionChangeListeners(false);\n        }\n\n        // Dispatch an event that components can listen for\n        const fallbackEvent = new CustomEvent('websocket-fallback', {\n            detail: { usingHttp: true }\n        });\n        window.dispatchEvent(fallbackEvent);\n\n        // Try to notify any waiting operations\n        if (this.pendingSubscriptions.size > 0) {\n            console.log(`Notifying ${this.pendingSubscriptions.size} pending subscriptions about HTTP fallback`);\n        }\n    }\n\n    /**\n     * Disconnect from the WebSocket server\n     */\n    disconnect() {\n        if (this.socket) {\n            this.socket.close(1000, 'Client disconnected');\n            this.socket = null;\n        }\n\n        this.connected = false;\n        this.connecting = false;\n        // Keep the client ID if we have one, so we can reuse it on reconnect\n        this.subscriptions.clear();\n        this.pendingSubscriptions.clear();\n        this.subscriptionParams.clear();\n        this.messageQueue = [];\n    }\n\n    /**\n     * Reconnect to the WebSocket server with exponential backoff\n     */\n    reconnect() {\n        if (this.reconnectAttempts >= this.maxReconnectAttempts) {\n            console.log('Maximum reconnect attempts reached');\n            return;\n        }\n\n        this.reconnectAttempts++;\n        const delay = Math.min(30000, this.reconnectDelay * Math.pow(1.5, this.reconnectAttempts - 1));\n\n        console.log(`Reconnecting in ${delay}ms (attempt ${this.reconnectAttempts}/${this.maxReconnectAttempts})`);\n\n        setTimeout(() => {\n            this.connect();\n        }, delay);\n    }\n\n    /**\n     * Send a message to the WebSocket server\n     *\n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Object} payload Message payload\n     * @returns {boolean} Whether the message was sent\n     */\n    send(type, topic, payload) {\n        if (!this.connected) {\n            console.log('WebSocket not connected, queueing message');\n            this.messageQueue.push({ type, topic, payload });\n            this.connect();\n            return false;\n        }\n\n        const message = {\n            type,\n            topic,\n            payload\n        };\n\n        try {\n            // Log the message being sent for debugging\n            console.log('Sending WebSocket message:', JSON.stringify(message));\n\n            this.socket.send(JSON.stringify(message));\n            return true;\n        } catch (error) {\n            console.error('Error sending WebSocket message:', error);\n            this.messageQueue.push({ type, topic, payload });\n            return false;\n        }\n    }\n\n    /**\n     * Process the message queue\n     */\n    processMessageQueue() {\n        if (!this.connected || this.messageQueue.length === 0) {\n            return;\n        }\n\n        console.log(`Processing ${this.messageQueue.length} queued messages`);\n\n        const queue = [...this.messageQueue];\n        this.messageQueue = [];\n\n        for (const message of queue) {\n            this.send(message.type, message.topic, message.payload);\n        }\n    }\n\n    /**\n     * Process pending subscriptions\n     */\n    processPendingSubscriptions() {\n        if (!this.connected || this.pendingSubscriptions.size === 0) {\n            return;\n        }\n\n        console.log(`Processing ${this.pendingSubscriptions.size} pending subscriptions`);\n\n        for (const topic of this.pendingSubscriptions) {\n            // Get parameters for this topic if available\n            const params = this.subscriptionParams.get(topic) || {};\n            this.subscribe(topic, params);\n        }\n\n        this.pendingSubscriptions.clear();\n    }\n\n    /**\n     * Subscribe to a topic\n     *\n     * @param {string} topic Topic to subscribe to\n     * @param {Object} params Additional parameters to include in the subscription\n     * @returns {boolean} Whether the subscription request was sent\n     */\n    subscribe(topic, params = {}) {\n        if (!this.connected) {\n            console.log(`WebSocket not connected, queueing subscription to ${topic}`);\n            this.pendingSubscriptions.add(topic);\n            this.connect();\n            return false;\n        }\n\n        if (this.subscriptions.has(topic)) {\n            console.log(`Already subscribed to ${topic}, updating parameters`);\n            // Continue with the subscription to update parameters\n        }\n\n        console.log(`Subscribing to ${topic} with params:`, params);\n\n        // Store parameters for this topic\n        this.subscriptionParams.set(topic, params);\n\n        // Include client_id in the payload to ensure server knows who's subscribing\n        const payload = {\n            client_id: this.clientId,\n            ...params\n        };\n\n        const success = this.send('subscribe', topic, payload);\n        if (success) {\n            this.subscriptions.add(topic);\n        } else {\n            this.pendingSubscriptions.add(topic);\n        }\n\n        return success;\n    }\n\n    /**\n     * Unsubscribe from a topic\n     *\n     * @param {string} topic Topic to unsubscribe from\n     * @returns {boolean} Whether the unsubscription request was sent\n     */\n    unsubscribe(topic) {\n        if (!this.connected) {\n            console.log(`WebSocket not connected, cannot unsubscribe from ${topic}`);\n            this.pendingSubscriptions.delete(topic);\n            return false;\n        }\n\n        if (!this.subscriptions.has(topic)) {\n            console.log(`Not subscribed to ${topic}`);\n            return true;\n        }\n\n        console.log(`Unsubscribing from ${topic}`);\n\n        const success = this.send('unsubscribe', topic, {});\n        if (success) {\n            this.subscriptions.delete(topic);\n            // Remove stored parameters for this topic\n            this.subscriptionParams.delete(topic);\n        }\n\n        return success;\n    }\n\n    /**\n     * Handle an incoming WebSocket message\n     *\n     * @param {string} data Message data\n     */\n    handleMessage(data) {\n        console.log('Raw WebSocket message received:', data);\n\n        try {\n            const message = JSON.parse(data);\n\n            if (!message.type || !message.topic) {\n                console.error('Invalid WebSocket message format:', message);\n                return;\n            }\n\n            console.log(`Received WebSocket message: ${message.type} ${message.topic}`, message);\n\n            // Debug log for progress and result messages\n            if (message.type === 'progress' || message.type === 'result') {\n                console.log(`Received ${message.type} message for topic ${message.topic}:`, message.payload);\n            }\n\n            // Always try to parse payload if it's a string (could be JSON)\n            if (typeof message.payload === 'string') {\n                try {\n                    const parsedPayload = JSON.parse(message.payload);\n                    console.log(`Parsed payload for ${message.type}:${message.topic}:`, parsedPayload);\n                    // Replace the string payload with the parsed object\n                    message.payload = parsedPayload;\n                } catch (e) {\n                    // Not JSON, keep as string\n                    console.log(`Payload for ${message.type}:${message.topic} is not JSON, keeping as string`);\n                }\n            }\n\n            // Handle welcome message\n            if (message.type === 'welcome' && message.topic === 'system') {\n                console.log('Received welcome message:', message);\n\n                // The payload might be a string that needs to be parsed\n                let payload = message.payload;\n                console.log('Welcome payload type:', typeof payload);\n\n                // If payload is a string, try to parse it as JSON\n                if (typeof payload === 'string') {\n                    try {\n                        payload = JSON.parse(payload);\n                        console.log('Parsed welcome payload:', payload);\n                    } catch (e) {\n                        console.error('Error parsing welcome payload as JSON:', e);\n                        console.log('Raw payload string:', payload);\n                    }\n                }\n\n                if (!payload || !payload.client_id) {\n                    console.error('Welcome message missing client_id:', payload);\n                } else {\n                    // Extract client ID from payload\n                    this.clientId = payload.client_id;\n                    console.log(`WebSocket client ID received from server: ${this.clientId}`);\n\n                    // Process pending subscriptions\n                    this.pendingSubscriptions = new Set([...this.subscriptions]);\n                    this.subscriptions.clear();\n                    this.processPendingSubscriptions();\n\n                    // Process any queued messages\n                    this.processMessageQueue();\n\n                    // Notify any waiting operations\n                    console.log(`Notifying ${this.clientIdCallbacks.length} waiting operations about client ID`);\n\n                    // Call all callbacks waiting for client ID\n                    const callbacks = [...this.clientIdCallbacks];\n                    this.clientIdCallbacks = [];\n                    for (const callback of callbacks) {\n                        try {\n                            callback(this.clientId);\n                        } catch (error) {\n                            console.error('Error in client ID callback:', error);\n                        }\n                    }\n                }\n                return;\n            }\n\n            // Handle other messages\n            const key = `${message.type}:${message.topic}`;\n            const handlers = this.handlers[key] || [];\n\n            for (const handler of handlers) {\n                try {\n                    handler(message.payload);\n                } catch (error) {\n                    console.error(`Error in WebSocket message handler for ${key}:`, error);\n                }\n            }\n        } catch (error) {\n            console.error('Error parsing WebSocket message:', error);\n        }\n    }\n\n    /**\n     * Register a message handler\n     *\n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Function} handler Message handler\n     */\n    on(type, topic, handler) {\n        const key = `${type}:${topic}`;\n\n        if (!this.handlers[key]) {\n            this.handlers[key] = [];\n        }\n\n        this.handlers[key].push(handler);\n\n        // Subscribe to topic if not already subscribed\n        if (type !== 'welcome' && type !== 'ack' && type !== 'error') {\n            this.subscribe(topic);\n        }\n    }\n\n    /**\n     * Unregister a message handler\n     *\n     * @param {string} type Message type\n     * @param {string} topic Message topic\n     * @param {Function} handler Message handler\n     */\n    off(type, topic, handler) {\n        const key = `${type}:${topic}`;\n\n        if (!this.handlers[key]) {\n            return;\n        }\n\n        if (handler) {\n            this.handlers[key] = this.handlers[key].filter(h => h !== handler);\n        } else {\n            this.handlers[key] = [];\n        }\n\n        // Unsubscribe from topic if no more handlers\n        if (this.handlers[key].length === 0 && type !== 'welcome' && type !== 'ack' && type !== 'error') {\n            this.unsubscribe(topic);\n        }\n    }\n\n    /**\n     * Get the client ID\n     *\n     * @param {Function} callback Optional callback to call when client ID is available\n     * @returns {string|null} Client ID or null if not connected\n     */\n    getClientId(callback) {\n        if (this.clientId) {\n            // If we already have a client ID, return it immediately\n            if (callback) {\n                callback(this.clientId);\n            }\n            return this.clientId;\n        } else if (callback) {\n            // If we don't have a client ID yet, add the callback to the queue\n            console.log('Client ID not available yet, adding callback to queue');\n            this.clientIdCallbacks.push(callback);\n\n            // Make sure we're connected to get a client ID\n            if (!this.connected && !this.connecting) {\n                console.log('Not connected, connecting now to get client ID');\n                this.connect();\n            }\n            return null;\n        }\n        return null;\n    }\n\n    /**\n     * Add a connection change listener\n     *\n     * @param {Function} listener Function to call when connection state changes\n     */\n    addConnectionChangeListener(listener) {\n        if (typeof listener !== 'function') {\n            console.error('Connection change listener must be a function');\n            return;\n        }\n\n        // Add listener if it doesn't already exist\n        if (!this.connectionChangeListeners.includes(listener)) {\n            this.connectionChangeListeners.push(listener);\n            console.log('Added connection change listener');\n\n            // Call the listener immediately with the current connection state\n            try {\n                listener(this.connected);\n            } catch (error) {\n                console.error('Error in connection change listener:', error);\n            }\n        }\n    }\n\n    /**\n     * Remove a connection change listener\n     *\n     * @param {Function} listener Function to remove\n     */\n    removeConnectionChangeListener(listener) {\n        const index = this.connectionChangeListeners.indexOf(listener);\n        if (index !== -1) {\n            this.connectionChangeListeners.splice(index, 1);\n            console.log('Removed connection change listener');\n        }\n    }\n\n    /**\n     * Notify all connection change listeners\n     *\n     * @param {boolean} connected Whether the connection is established\n     */\n    notifyConnectionChangeListeners(connected) {\n        console.log(`Notifying ${this.connectionChangeListeners.length} connection change listeners: connected=${connected}`);\n\n        for (const listener of this.connectionChangeListeners) {\n            try {\n                listener(connected);\n            } catch (error) {\n                console.error('Error in connection change listener:', error);\n            }\n        }\n    }\n\n    /**\n     * Check if connected to the WebSocket server\n     *\n     * @returns {boolean} Whether connected to the WebSocket server\n     */\n    isConnected() {\n        return this.connected;\n    }\n}\n\n/**\n * BatchDeleteRecordingsClient class\n * Handles batch delete recordings operations via WebSocket\n */\nexport class BatchDeleteRecordingsClient {\n    /**\n     * Create a new BatchDeleteRecordingsClient\n     *\n     * @param {WebSocketClient} wsClient WebSocket client\n     */\n    constructor(wsClient) {\n        this.wsClient = wsClient;\n        this.topic = 'recordings/batch-delete';\n        this.progressHandlers = [];\n        this.resultHandlers = [];\n        this.errorHandlers = [];\n        this._httpFallbackTimeout = null; // Store timeout ID for HTTP fallback\n\n        // Subscribe to topic\n        this.wsClient.subscribe(this.topic);\n\n        // Register handlers\n        this.wsClient.on('progress', this.topic, (payload) => {\n            this.handleProgress(payload);\n        });\n\n        this.wsClient.on('result', this.topic, (payload) => {\n            this.handleResult(payload);\n        });\n\n        this.wsClient.on('error', this.topic, (payload) => {\n            this.handleError(payload);\n        });\n    }\n\n    /**\n     * Delete recordings with progress updates\n     *\n     * @param {Object} params Delete parameters (ids or filter)\n     * @returns {Promise<Object>} Promise that resolves when the operation is complete\n     */\n    deleteWithProgress(params) {\n        return new Promise((resolve, reject) => {\n            console.log('Starting batch delete operation with params:', params);\n\n            // Check if WebSocket is connected\n            if (!this.wsClient.isConnected()) {\n                console.error('WebSocket not connected, attempting to connect');\n                this.wsClient.connect();\n\n                // Wait for connection and retry\n                setTimeout(() => {\n                    if (this.wsClient.isConnected()) {\n                        console.log('WebSocket connected, retrying batch delete');\n                        this.deleteWithProgress(params)\n                            .then(resolve)\n                            .catch(reject);\n                    } else {\n                        console.error('WebSocket still not connected, falling back to HTTP');\n                        // Fallback to HTTP if available\n                        if (typeof batchDeleteRecordingsByHttpRequest === 'function') {\n                            batchDeleteRecordingsByHttpRequest(params)\n                                .then(resolve)\n                                .catch(reject);\n                        } else {\n                            reject(new Error('WebSocket not connected and HTTP fallback not available'));\n                        }\n                    }\n                }, 1000);\n                return;\n            }\n\n            // Get client ID from the WebSocket client\n            // This will either return the client ID immediately or call our callback when it's available\n            const getClientIdAndProceed = (clientId) => {\n                console.log('Using WebSocket client ID for batch delete:', clientId);\n\n                console.log('Registering WebSocket handlers for batch delete');\n\n    // Register one-time result handler\n    const resultHandler = (payload) => {\n        console.log('Batch delete result received:', payload);\n        this.wsClient.off('result', this.topic, resultHandler);\n\n        // Log the full payload details for debugging\n        console.log('Batch delete result details:', JSON.stringify(payload, null, 2));\n\n        // Clear any pending HTTP fallback timeouts\n        if (this._httpFallbackTimeout) {\n            console.log('Clearing HTTP fallback timeout because we received a result');\n            clearTimeout(this._httpFallbackTimeout);\n            this._httpFallbackTimeout = null;\n        }\n\n        resolve(payload);\n    };\n\n    // Register one-time error handler\n    const errorHandler = (payload) => {\n        console.error('Batch delete error received:', payload);\n        this.wsClient.off('error', this.topic, errorHandler);\n\n        // Clear any pending HTTP fallback timeouts\n        if (this._httpFallbackTimeout) {\n            console.log('Clearing HTTP fallback timeout because we received an error');\n            clearTimeout(this._httpFallbackTimeout);\n            this._httpFallbackTimeout = null;\n        }\n\n        reject(new Error(payload.error || 'Unknown error'));\n    };\n\n                // Register handlers for both result and progress\n                this.wsClient.on('result', this.topic, resultHandler);\n                this.wsClient.on('error', this.topic, errorHandler);\n\n                // Make sure we're subscribed to the topic\n                // Use an empty object as payload to avoid issues\n                if (!this.wsClient.subscriptions.has(this.topic)) {\n                    console.log(`Subscribing to ${this.topic} before sending request`);\n\n                    // Create a subscription message with client_id\n                    const subscribePayload = { client_id: clientId };\n                    console.log(`Subscription payload:`, subscribePayload);\n\n                    // Send subscription directly to ensure it works\n                    if (this.wsClient.socket && this.wsClient.socket.readyState === WebSocket.OPEN) {\n                        const subscribeMsg = {\n                            type: 'subscribe',\n                            topic: this.topic,\n                            payload: subscribePayload\n                        };\n                        this.wsClient.socket.send(JSON.stringify(subscribeMsg));\n                        console.log('Subscription sent directly via socket');\n                    } else {\n                        this.wsClient.send('subscribe', this.topic, subscribePayload);\n                    }\n\n                    this.wsClient.subscriptions.add(this.topic);\n\n                    // Add a longer delay to ensure subscription is processed\n                    setTimeout(() => {\n                        // Send the actual delete request with client ID\n                        this.sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler);\n                    }, 1000);\n                } else {\n                    console.log(`Already subscribed to ${this.topic}, sending request immediately`);\n                    // Already subscribed, send request immediately\n                    this.sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler);\n                }\n            };\n\n            // Get the client ID, which will either return it immediately or call our callback when available\n            const clientId = this.wsClient.getClientId(getClientIdAndProceed);\n            if (clientId) {\n                // If we got the client ID immediately, proceed with the operation\n                getClientIdAndProceed(clientId);\n            }\n        });\n    }\n\n    /**\n     * Send the actual delete request\n     *\n     * @param {Object} params Delete parameters\n     * @param {string} clientId Client ID\n     * @param {Function} resolve Promise resolve function\n     * @param {Function} reject Promise reject function\n     * @param {Function} resultHandler Result handler to unregister on failure\n     * @param {Function} errorHandler Error handler to unregister on failure\n     */\n    sendDeleteRequest(params, clientId, resolve, reject, resultHandler, errorHandler) {\n        console.log('Sending batch delete request');\n\n        // Validate params\n        if (!params.ids && !params.filter) {\n            console.error('Missing ids or filter in batch delete params');\n            this.wsClient.off('result', this.topic, resultHandler);\n            this.wsClient.off('error', this.topic, errorHandler);\n            reject(new Error('Missing ids or filter in batch delete params'));\n            return;\n        }\n\n        // Log the IDs if present for debugging\n        if (params.ids) {\n            console.log(`Deleting ${params.ids.length} recordings with IDs:`, params.ids);\n        } else if (params.filter) {\n            console.log('Deleting recordings with filter:', params.filter);\n        }\n\n        // Validate client ID - it should be a pointer value from the server\n        if (!clientId || !clientId.startsWith('0x')) {\n            console.error(`Invalid client ID format: ${clientId}. Expected a pointer value like 0x12345678`);\n            this.wsClient.off('result', this.topic, resultHandler);\n            this.wsClient.off('error', this.topic, errorHandler);\n            reject(new Error('Invalid client ID format. Please try again.'));\n            return;\n        }\n\n        // Include the client ID in the request payload\n        const requestParams = {\n            ...params,\n            client_id: clientId // Add client ID to the request\n        };\n\n        // Log the full request details for debugging\n        console.log('Full request params:', JSON.stringify(requestParams, null, 2));\n\n        // Create the complete message\n        const message = {\n            type: 'request',\n            topic: this.topic,\n            payload: requestParams\n        };\n\n        // Log the complete message\n        console.log('Complete WebSocket message:', JSON.stringify(message, null, 2));\n\n        // Debug the client ID format\n        console.log('Client ID format check:', {\n            clientId,\n            startsWithHex: clientId.startsWith('0x'),\n            length: clientId.length,\n            isValid: clientId.startsWith('0x') && clientId.length > 2\n        });\n\n        // If we have a total count from the filter, simulate an initial progress update\n        // This helps the UI show progress even if the server doesn't send updates\n        if (params.filter && params.totalCount && typeof window.updateBatchDeleteProgress === 'function') {\n            console.log('Simulating initial progress update with total count:', params.totalCount);\n            window.updateBatchDeleteProgress({\n                current: 0,\n                total: params.totalCount,\n                succeeded: 0,\n                failed: 0,\n                status: `Starting batch delete operation for ${params.totalCount} recordings...`,\n                complete: false\n            });\n        } else if (params.ids && typeof window.updateBatchDeleteProgress === 'function') {\n            // Also simulate initial progress for IDs-based delete\n            console.log('Simulating initial progress update with IDs count:', params.ids.length);\n            window.updateBatchDeleteProgress({\n                current: 0,\n                total: params.ids.length,\n                succeeded: 0,\n                failed: 0,\n                status: `Starting batch delete operation for ${params.ids.length} recordings...`,\n                complete: false\n            });\n        }\n\n        // Send the request\n        try {\n            if (this.wsClient.socket && this.wsClient.socket.readyState === WebSocket.OPEN) {\n                // Double check the client ID is included in the payload\n                if (!message.payload.client_id || message.payload.client_id !== clientId) {\n                    console.warn('Client ID missing or incorrect in payload, fixing it');\n                    message.payload.client_id = clientId;\n                }\n\n                // Send directly to ensure it works\n                this.wsClient.socket.send(JSON.stringify(message));\n                console.log('Batch delete request sent successfully via direct socket send');\n\n                // Set a longer timeout to check if we get a response\n                // Some operations might take longer to start processing\n                this._httpFallbackTimeout = setTimeout(() => {\n                    // If we haven't received a response after 30 seconds, try HTTP fallback\n                    console.warn('No response received after 30 seconds, trying HTTP fallback');\n                    this._httpFallbackTimeout = null;\n                    if (typeof batchDeleteRecordingsByHttpRequest === 'function') {\n                        console.log('Falling back to HTTP for batch delete');\n                        batchDeleteRecordingsByHttpRequest(params)\n                            .then(resolve)\n                            .catch(reject);\n                    }\n                }, 30000); // Increased from 10000 to 30000 ms to allow more time for server processing\n\n                return true;\n            } else {\n                // Fall back to the send method\n                const success = this.wsClient.send('request', this.topic, requestParams);\n\n                if (!success) {\n                    console.error('Failed to send batch delete request');\n                    this.wsClient.off('result', this.topic, resultHandler);\n                    this.wsClient.off('error', this.topic, errorHandler);\n\n                    // Try HTTP fallback\n                    if (typeof batchDeleteRecordingsByHttpRequest === 'function') {\n                        console.log('Falling back to HTTP for batch delete');\n                        batchDeleteRecordingsByHttpRequest(params)\n                            .then(resolve)\n                            .catch(reject);\n                    } else {\n                        reject(new Error('Failed to send batch delete request'));\n                    }\n                } else {\n                    console.log('Batch delete request sent successfully via send method');\n                }\n\n                return success;\n            }\n        } catch (error) {\n            console.error('Error sending batch delete request:', error);\n            this.wsClient.off('result', this.topic, resultHandler);\n            this.wsClient.off('error', this.topic, errorHandler);\n            reject(error);\n            return false;\n        }\n    }\n\n    /**\n     * Handle progress update\n     *\n     * @param {Object} payload Progress payload\n     */\n    handleProgress(payload) {\n        console.log('Batch delete progress update received:', payload);\n\n        // Ensure payload is an object\n        let progressData = payload;\n\n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                progressData = JSON.parse(payload);\n                console.log('Parsed progress payload:', progressData);\n            } catch (e) {\n                console.error('Error parsing progress payload:', e);\n                // Keep original payload if parsing fails\n                progressData = { error: 'Failed to parse progress data' };\n            }\n        }\n\n        // If we received a progress update, we know the WebSocket connection is working\n        // Clear any pending HTTP fallback timeouts\n        if (this._httpFallbackTimeout) {\n            console.log('Clearing HTTP fallback timeout because we received a progress update');\n            clearTimeout(this._httpFallbackTimeout);\n            this._httpFallbackTimeout = null;\n        }\n\n        // Directly update the progress UI with the progress data\n        // This ensures the progress bar is updated even if the registered handlers don't work\n        if (typeof window.updateBatchDeleteProgress === 'function' && progressData) {\n            try {\n                console.log('Directly updating progress UI with:', progressData);\n                window.updateBatchDeleteProgress(progressData);\n            } catch (error) {\n                console.error('Error directly updating progress UI:', error);\n            }\n        }\n\n        // Call all registered progress handlers with the progress data\n        for (const handler of this.progressHandlers) {\n            try {\n                handler(progressData);\n            } catch (error) {\n                console.error('Error in progress handler:', error);\n            }\n        }\n    }\n\n    /**\n     * Handle result\n     *\n     * @param {Object} payload Result payload\n     */\n    handleResult(payload) {\n        console.log('Batch delete result received:', payload);\n\n        // If we received a result, we know the WebSocket connection is working\n        // Clear any pending HTTP fallback timeouts\n        if (this._httpFallbackTimeout) {\n            console.log('Clearing HTTP fallback timeout because we received a result');\n            clearTimeout(this._httpFallbackTimeout);\n            this._httpFallbackTimeout = null;\n        }\n\n        // Ensure payload is an object\n        let resultData = payload;\n\n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                resultData = JSON.parse(payload);\n                console.log('Parsed result payload:', resultData);\n            } catch (e) {\n                console.error('Error parsing result payload:', e);\n                // Keep original payload if parsing fails\n                resultData = { error: 'Failed to parse result data' };\n            }\n        }\n\n        // Also update the progress UI with the final result data\n        // This ensures the progress bar shows 100% even if no progress updates were received\n        if (typeof window.updateBatchDeleteProgress === 'function' && resultData) {\n            try {\n                // Create a progress update from the result data\n                const progressUpdate = {\n                    current: resultData.total || 0,\n                    total: resultData.total || 0,\n                    succeeded: resultData.succeeded || 0,\n                    failed: resultData.failed || 0,\n                    status: 'Batch delete operation complete',\n                    complete: true\n                };\n\n                console.log('Updating progress UI with final result:', progressUpdate);\n                window.updateBatchDeleteProgress(progressUpdate);\n            } catch (error) {\n                console.error('Error updating progress UI from result:', error);\n            }\n        }\n\n        // Call all registered result handlers with the result data\n        for (const handler of this.resultHandlers) {\n            try {\n                handler(resultData);\n            } catch (error) {\n                console.error('Error in result handler:', error);\n            }\n        }\n    }\n\n    /**\n     * Handle error\n     *\n     * @param {Object} payload Error payload\n     */\n    handleError(payload) {\n        console.log('Batch delete error received:', payload);\n\n        // If we received an error, we know the WebSocket connection is working\n        // Clear any pending HTTP fallback timeouts\n        if (this._httpFallbackTimeout) {\n            console.log('Clearing HTTP fallback timeout because we received an error');\n            clearTimeout(this._httpFallbackTimeout);\n            this._httpFallbackTimeout = null;\n        }\n\n        // Ensure payload is an object\n        let errorData = payload;\n\n        // If payload is still a string (wasn't parsed in handleMessage), try to parse it here\n        if (typeof payload === 'string') {\n            try {\n                errorData = JSON.parse(payload);\n                console.log('Parsed error payload:', errorData);\n            } catch (e) {\n                console.error('Error parsing error payload:', e);\n                // Keep original payload if parsing fails\n                errorData = { error: typeof payload === 'string' ? payload : 'Unknown error' };\n            }\n        }\n\n        // Update the progress UI to show the error\n        if (typeof window.updateBatchDeleteProgress === 'function') {\n            try {\n                // Create a progress update from the error data\n                const progressUpdate = {\n                    current: 0,\n                    total: 0,\n                    succeeded: 0,\n                    failed: 0,\n                    status: `Error: ${errorData.error || 'Unknown error'}`,\n                    complete: true,\n                    error: true\n                };\n\n                console.log('Updating progress UI with error:', progressUpdate);\n                window.updateBatchDeleteProgress(progressUpdate);\n            } catch (error) {\n                console.error('Error updating progress UI from error:', error);\n            }\n        }\n\n        // Call all registered error handlers with the error data\n        for (const handler of this.errorHandlers) {\n            try {\n                handler(errorData);\n            } catch (error) {\n                console.error('Error in error handler:', error);\n            }\n        }\n    }\n\n    /**\n     * Register progress handler\n     *\n     * @param {Function} handler Progress handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onProgress(handler) {\n        this.progressHandlers.push(handler);\n\n        return () => {\n            this.progressHandlers = this.progressHandlers.filter(h => h !== handler);\n        };\n    }\n\n    /**\n     * Register result handler\n     *\n     * @param {Function} handler Result handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onResult(handler) {\n        this.resultHandlers.push(handler);\n\n        return () => {\n            this.resultHandlers = this.resultHandlers.filter(h => h !== handler);\n        };\n    }\n\n    /**\n     * Register error handler\n     *\n     * @param {Function} handler Error handler\n     * @returns {Function} Function to unregister the handler\n     */\n    onError(handler) {\n        this.errorHandlers.push(handler);\n\n        return () => {\n            this.errorHandlers = this.errorHandlers.filter(h => h !== handler);\n        };\n    }\n}\n","import{options as n}from\"preact\";var t,r,u,i,o=0,f=[],c=n,e=c.__b,a=c.__r,v=c.diffed,l=c.__c,m=c.unmount,s=c.__;function p(n,t){c.__h&&c.__h(r,n,o||t),o=0;var u=r.__H||(r.__H={__:[],__h:[]});return n>=u.__.length&&u.__.push({}),u.__[n]}function d(n){return o=1,h(D,n)}function h(n,u,i){var o=p(t++,2);if(o.t=n,!o.__c&&(o.__=[i?i(u):D(void 0,u),function(n){var t=o.__N?o.__N[0]:o.__[0],r=o.t(t,n);t!==r&&(o.__N=[r,o.__[1]],o.__c.setState({}))}],o.__c=r,!r.__f)){var f=function(n,t,r){if(!o.__c.__H)return!0;var u=o.__c.__H.__.filter(function(n){return!!n.__c});if(u.every(function(n){return!n.__N}))return!c||c.call(this,n,t,r);var i=o.__c.props!==n;return u.forEach(function(n){if(n.__N){var t=n.__[0];n.__=n.__N,n.__N=void 0,t!==n.__[0]&&(i=!0)}}),c&&c.call(this,n,t,r)||i};r.__f=!0;var c=r.shouldComponentUpdate,e=r.componentWillUpdate;r.componentWillUpdate=function(n,t,r){if(this.__e){var u=c;c=void 0,f(n,t,r),c=u}e&&e.call(this,n,t,r)},r.shouldComponentUpdate=f}return o.__N||o.__}function y(n,u){var i=p(t++,3);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__H.__h.push(i))}function _(n,u){var i=p(t++,4);!c.__s&&C(i.__H,u)&&(i.__=n,i.u=u,r.__h.push(i))}function A(n){return o=5,T(function(){return{current:n}},[])}function F(n,t,r){o=6,_(function(){if(\"function\"==typeof n){var r=n(t());return function(){n(null),r&&\"function\"==typeof r&&r()}}if(n)return n.current=t(),function(){return n.current=null}},null==r?r:r.concat(n))}function T(n,r){var u=p(t++,7);return C(u.__H,r)&&(u.__=n(),u.__H=r,u.__h=n),u.__}function q(n,t){return o=8,T(function(){return n},t)}function x(n){var u=r.context[n.__c],i=p(t++,9);return i.c=n,u?(null==i.__&&(i.__=!0,u.sub(r)),u.props.value):n.__}function P(n,t){c.useDebugValue&&c.useDebugValue(t?t(n):n)}function b(n){var u=p(t++,10),i=d();return u.__=n,r.componentDidCatch||(r.componentDidCatch=function(n,t){u.__&&u.__(n,t),i[1](n)}),[i[0],function(){i[1](void 0)}]}function g(){var n=p(t++,11);if(!n.__){for(var u=r.__v;null!==u&&!u.__m&&null!==u.__;)u=u.__;var i=u.__m||(u.__m=[0,0]);n.__=\"P\"+i[0]+\"-\"+i[1]++}return n.__}function j(){for(var n;n=f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(z),n.__H.__h.forEach(B),n.__H.__h=[]}catch(t){n.__H.__h=[],c.__e(t,n.__v)}}c.__b=function(n){r=null,e&&e(n)},c.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),s&&s(n,t)},c.__r=function(n){a&&a(n),t=0;var i=(r=n.__c).__H;i&&(u===r?(i.__h=[],r.__h=[],i.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(i.__h.forEach(z),i.__h.forEach(B),i.__h=[],t=0)),u=r},c.diffed=function(n){v&&v(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(1!==f.push(t)&&i===c.requestAnimationFrame||((i=c.requestAnimationFrame)||w)(j)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),u=r=null},c.__c=function(n,t){t.some(function(n){try{n.__h.forEach(z),n.__h=n.__h.filter(function(n){return!n.__||B(n)})}catch(r){t.some(function(n){n.__h&&(n.__h=[])}),t=[],c.__e(r,n.__v)}}),l&&l(n,t)},c.unmount=function(n){m&&m(n);var t,r=n.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{z(n)}catch(n){t=n}}),r.__H=void 0,t&&c.__e(t,r.__v))};var k=\"function\"==typeof requestAnimationFrame;function w(n){var t,r=function(){clearTimeout(u),k&&cancelAnimationFrame(t),setTimeout(n)},u=setTimeout(r,100);k&&(t=requestAnimationFrame(r))}function z(n){var t=r,u=n.__c;\"function\"==typeof u&&(n.__c=void 0,u()),r=t}function B(n){var t=r;n.__c=n.__(),r=t}function C(n,t){return!n||n.length!==t.length||t.some(function(t,r){return t!==n[r]})}function D(n,t){return\"function\"==typeof t?t(n):t}export{q as useCallback,x as useContext,P as useDebugValue,y as useEffect,b as useErrorBoundary,g as useId,F as useImperativeHandle,_ as useLayoutEffect,T as useMemo,h as useReducer,A as useRef,d as useState};\n//# sourceMappingURL=hooks.module.js.map\n","import{Component as n,createElement as t,options as e,toChildArray as r,Fragment as u,render as o,hydrate as i,createContext as c,createRef as l,cloneElement as f}from\"preact\";export{Component,Fragment,createContext,createElement,createRef}from\"preact\";import{useState as a,useLayoutEffect as s,useEffect as h,useCallback as v,useContext as d,useDebugValue as p,useId as m,useImperativeHandle as y,useMemo as _,useReducer as b,useRef as S}from\"preact/hooks\";export*from\"preact/hooks\";function g(n,t){for(var e in t)n[e]=t[e];return n}function E(n,t){for(var e in n)if(\"__source\"!==e&&!(e in t))return!0;for(var r in t)if(\"__source\"!==r&&n[r]!==t[r])return!0;return!1}function C(n,t){var e=t(),r=a({t:{__:e,u:t}}),u=r[0].t,o=r[1];return s(function(){u.__=e,u.u=t,x(u)&&o({t:u})},[n,e,t]),h(function(){return x(u)&&o({t:u}),n(function(){x(u)&&o({t:u})})},[n]),e}function x(n){var t,e,r=n.u,u=n.__;try{var o=r();return!((t=u)===(e=o)&&(0!==t||1/t==1/e)||t!=t&&e!=e)}catch(n){return!0}}function R(n){n()}function w(n){return n}function k(){return[!1,R]}var I=s;function N(n,t){this.props=n,this.context=t}function M(n,e){function r(n){var t=this.props.ref,r=t==n.ref;return!r&&t&&(t.call?t(null):t.current=null),e?!e(this.props,n)||!r:E(this.props,n)}function u(e){return this.shouldComponentUpdate=r,t(n,e)}return u.displayName=\"Memo(\"+(n.displayName||n.name)+\")\",u.prototype.isReactComponent=!0,u.__f=!0,u}(N.prototype=new n).isPureReactComponent=!0,N.prototype.shouldComponentUpdate=function(n,t){return E(this.props,n)||E(this.state,t)};var T=e.__b;e.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),T&&T(n)};var A=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.forward_ref\")||3911;function D(n){function t(t){var e=g({},t);return delete e.ref,n(e,t.ref||null)}return t.$$typeof=A,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName=\"ForwardRef(\"+(n.displayName||n.name)+\")\",t}var L=function(n,t){return null==n?null:r(r(n).map(t))},O={map:L,forEach:L,count:function(n){return n?r(n).length:0},only:function(n){var t=r(n);if(1!==t.length)throw\"Children.only\";return t[0]},toArray:r},F=e.__e;e.__e=function(n,t,e,r){if(n.then)for(var u,o=t;o=o.__;)if((u=o.__c)&&u.__c)return null==t.__e&&(t.__e=e.__e,t.__k=e.__k),u.__c(n,t);F(n,t,e,r)};var U=e.unmount;function V(n,t,e){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(n){\"function\"==typeof n.__c&&n.__c()}),n.__c.__H=null),null!=(n=g({},n)).__c&&(n.__c.__P===e&&(n.__c.__P=t),n.__c=null),n.__k=n.__k&&n.__k.map(function(n){return V(n,t,e)})),n}function W(n,t,e){return n&&e&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(n){return W(n,t,e)}),n.__c&&n.__c.__P===t&&(n.__e&&e.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=e)),n}function P(){this.__u=0,this.o=null,this.__b=null}function j(n){var t=n.__.__c;return t&&t.__a&&t.__a(n)}function z(n){var e,r,u;function o(o){if(e||(e=n()).then(function(n){r=n.default||n},function(n){u=n}),u)throw u;if(!r)throw e;return t(r,o)}return o.displayName=\"Lazy\",o.__f=!0,o}function B(){this.i=null,this.l=null}e.unmount=function(n){var t=n.__c;t&&t.__R&&t.__R(),t&&32&n.__u&&(n.type=null),U&&U(n)},(P.prototype=new n).__c=function(n,t){var e=t.__c,r=this;null==r.o&&(r.o=[]),r.o.push(e);var u=j(r.__v),o=!1,i=function(){o||(o=!0,e.__R=null,u?u(c):c())};e.__R=i;var c=function(){if(!--r.__u){if(r.state.__a){var n=r.state.__a;r.__v.__k[0]=W(n,n.__c.__P,n.__c.__O)}var t;for(r.setState({__a:r.__b=null});t=r.o.pop();)t.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(i,i)},P.prototype.componentWillUnmount=function(){this.o=[]},P.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var r=document.createElement(\"div\"),o=this.__v.__k[0].__c;this.__v.__k[0]=V(this.__b,r,o.__O=o.__P)}this.__b=null}var i=e.__a&&t(u,null,n.fallback);return i&&(i.__u&=-33),[t(u,null,e.__a?null:n.children),i]};var H=function(n,t,e){if(++e[1]===e[0]&&n.l.delete(t),n.props.revealOrder&&(\"t\"!==n.props.revealOrder[0]||!n.l.size))for(e=n.i;e;){for(;e.length>3;)e.pop()();if(e[1]<e[0])break;n.i=e=e[2]}};function Z(n){return this.getChildContext=function(){return n.context},n.children}function Y(n){var e=this,r=n.h;e.componentWillUnmount=function(){o(null,e.v),e.v=null,e.h=null},e.h&&e.h!==r&&e.componentWillUnmount(),e.v||(e.h=r,e.v={nodeType:1,parentNode:r,childNodes:[],contains:function(){return!0},appendChild:function(n){this.childNodes.push(n),e.h.appendChild(n)},insertBefore:function(n,t){this.childNodes.push(n),e.h.insertBefore(n,t)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.h.removeChild(n)}}),o(t(Z,{context:e.context},n.__v),e.v)}function $(n,e){var r=t(Y,{__v:n,h:e});return r.containerInfo=e,r}(B.prototype=new n).__a=function(n){var t=this,e=j(t.__v),r=t.l.get(n);return r[0]++,function(u){var o=function(){t.props.revealOrder?(r.push(u),H(t,n,r)):u()};e?e(o):o()}},B.prototype.render=function(n){this.i=null,this.l=new Map;var t=r(n.children);n.revealOrder&&\"b\"===n.revealOrder[0]&&t.reverse();for(var e=t.length;e--;)this.l.set(t[e],this.i=[1,0,this.i]);return n.children},B.prototype.componentDidUpdate=B.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(t,e){H(n,e,t)})};var q=\"undefined\"!=typeof Symbol&&Symbol.for&&Symbol.for(\"react.element\")||60103,G=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,J=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,K=/[A-Z0-9]/g,Q=\"undefined\"!=typeof document,X=function(n){return(\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol()?/fil|che|rad/:/fil|che|ra/).test(n)};function nn(n,t,e){return null==t.__k&&(t.textContent=\"\"),o(n,t),\"function\"==typeof e&&e(),n?n.__c:null}function tn(n,t,e){return i(n,t),\"function\"==typeof e&&e(),n?n.__c:null}n.prototype.isReactComponent={},[\"componentWillMount\",\"componentWillReceiveProps\",\"componentWillUpdate\"].forEach(function(t){Object.defineProperty(n.prototype,t,{configurable:!0,get:function(){return this[\"UNSAFE_\"+t]},set:function(n){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:n})}})});var en=e.event;function rn(){}function un(){return this.cancelBubble}function on(){return this.defaultPrevented}e.event=function(n){return en&&(n=en(n)),n.persist=rn,n.isPropagationStopped=un,n.isDefaultPrevented=on,n.nativeEvent=n};var cn,ln={enumerable:!1,configurable:!0,get:function(){return this.class}},fn=e.vnode;e.vnode=function(n){\"string\"==typeof n.type&&function(n){var t=n.props,e=n.type,u={},o=-1===e.indexOf(\"-\");for(var i in t){var c=t[i];if(!(\"value\"===i&&\"defaultValue\"in t&&null==c||Q&&\"children\"===i&&\"noscript\"===e||\"class\"===i||\"className\"===i)){var l=i.toLowerCase();\"defaultValue\"===i&&\"value\"in t&&null==t.value?i=\"value\":\"download\"===i&&!0===c?c=\"\":\"translate\"===l&&\"no\"===c?c=!1:\"o\"===l[0]&&\"n\"===l[1]?\"ondoubleclick\"===l?i=\"ondblclick\":\"onchange\"!==l||\"input\"!==e&&\"textarea\"!==e||X(t.type)?\"onfocus\"===l?i=\"onfocusin\":\"onblur\"===l?i=\"onfocusout\":J.test(i)&&(i=l):l=i=\"oninput\":o&&G.test(i)?i=i.replace(K,\"-$&\").toLowerCase():null===c&&(c=void 0),\"oninput\"===l&&u[i=l]&&(i=\"oninputCapture\"),u[i]=c}}\"select\"==e&&u.multiple&&Array.isArray(u.value)&&(u.value=r(t.children).forEach(function(n){n.props.selected=-1!=u.value.indexOf(n.props.value)})),\"select\"==e&&null!=u.defaultValue&&(u.value=r(t.children).forEach(function(n){n.props.selected=u.multiple?-1!=u.defaultValue.indexOf(n.props.value):u.defaultValue==n.props.value})),t.class&&!t.className?(u.class=t.class,Object.defineProperty(u,\"className\",ln)):(t.className&&!t.class||t.class&&t.className)&&(u.class=u.className=t.className),n.props=u}(n),n.$$typeof=q,fn&&fn(n)};var an=e.__r;e.__r=function(n){an&&an(n),cn=n.__c};var sn=e.diffed;e.diffed=function(n){sn&&sn(n);var t=n.props,e=n.__e;null!=e&&\"textarea\"===n.type&&\"value\"in t&&t.value!==e.value&&(e.value=null==t.value?\"\":t.value),cn=null};var hn={ReactCurrentDispatcher:{current:{readContext:function(n){return cn.__n[n.__c].props.value},useCallback:v,useContext:d,useDebugValue:p,useDeferredValue:w,useEffect:h,useId:m,useImperativeHandle:y,useInsertionEffect:I,useLayoutEffect:s,useMemo:_,useReducer:b,useRef:S,useState:a,useSyncExternalStore:C,useTransition:k}}},vn=\"18.3.1\";function dn(n){return t.bind(null,n)}function pn(n){return!!n&&n.$$typeof===q}function mn(n){return pn(n)&&n.type===u}function yn(n){return!!n&&!!n.displayName&&(\"string\"==typeof n.displayName||n.displayName instanceof String)&&n.displayName.startsWith(\"Memo(\")}function _n(n){return pn(n)?f.apply(null,arguments):n}function bn(n){return!!n.__k&&(o(null,n),!0)}function Sn(n){return n&&(n.base||1===n.nodeType&&n)||null}var gn=function(n,t){return n(t)},En=function(n,t){return n(t)},Cn=u,xn=pn,Rn={useState:a,useId:m,useReducer:b,useEffect:h,useLayoutEffect:s,useInsertionEffect:I,useTransition:k,useDeferredValue:w,useSyncExternalStore:C,startTransition:R,useRef:S,useImperativeHandle:y,useMemo:_,useCallback:v,useContext:d,useDebugValue:p,version:\"18.3.1\",Children:O,render:nn,hydrate:tn,unmountComponentAtNode:bn,createPortal:$,createElement:t,createContext:c,createFactory:dn,cloneElement:_n,createRef:l,Fragment:u,isValidElement:pn,isElement:xn,isFragment:mn,isMemo:yn,findDOMNode:Sn,Component:n,PureComponent:N,memo:M,forwardRef:D,flushSync:En,unstable_batchedUpdates:gn,StrictMode:Cn,Suspense:P,SuspenseList:B,lazy:z,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:hn};export{O as Children,N as PureComponent,Cn as StrictMode,P as Suspense,B as SuspenseList,hn as __SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_n as cloneElement,dn as createFactory,$ as createPortal,Rn as default,Sn as findDOMNode,En as flushSync,D as forwardRef,tn as hydrate,xn as isElement,mn as isFragment,yn as isMemo,pn as isValidElement,z as lazy,M as memo,nn as render,R as startTransition,bn as unmountComponentAtNode,gn as unstable_batchedUpdates,w as useDeferredValue,I as useInsertionEffect,C as useSyncExternalStore,k as useTransition,vn as version};\n//# sourceMappingURL=compat.module.js.map\n","/**\n * LightNVR Web Interface Header Component\n * Preact component for the site header\n */\n\nimport { h } from 'preact';\nimport { useState, useEffect } from 'preact/hooks';\nimport { html } from '../../html-helper.js';\nimport { fetchSystemVersion } from './utils.js';\n\n/**\n * Header component\n * @param {Object} props - Component props\n * @param {string} props.activeNav - ID of the active navigation item\n * @param {string} props.version - System version\n * @returns {JSX.Element} Header component\n */\nexport function Header({ activeNav = '', version = '' }) {\n  const [username, setUsername] = useState('');\n  const [mobileMenuOpen, setMobileMenuOpen] = useState(false);\n\n  // Get the currently logged in username from localStorage\n  useEffect(() => {\n    const auth = localStorage.getItem('auth');\n    if (auth) {\n      try {\n        // Decode the base64 auth string (username:password)\n        const decoded = atob(auth);\n        // Extract the username (everything before the colon)\n        const extractedUsername = decoded.split(':')[0];\n        setUsername(extractedUsername);\n      } catch (error) {\n        console.error('Error decoding auth token:', error);\n        setUsername('User');\n      }\n    } else {\n      setUsername('User');\n    }\n  }, []);\n\n  // Handle logout\n  const handleLogout = (e) => {\n    e.preventDefault();\n\n    // Clear localStorage\n    localStorage.removeItem('auth');\n\n    // Clear cookies\n    document.cookie = \"auth=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict\";\n    document.cookie = \"session=; Path=/; Expires=Thu, 01 Jan 1970 00:00:00 GMT; SameSite=Strict\";\n\n    // Call the logout endpoint to clear browser's basic auth cache\n    fetch('/api/auth/logout', {\n      method: 'POST'\n    }).then(() => {\n      // For Chrome, we need to make a request with invalid credentials to clear the auth cache\n      // Create an iframe to make a request with invalid credentials\n      const iframe = document.createElement('iframe');\n      iframe.style.display = 'none';\n      document.body.appendChild(iframe);\n      \n      // Set a timeout to redirect after attempting to clear auth cache\n      setTimeout(() => {\n        // Redirect to login page with auth_required parameter to prevent auto-redirect\n        window.location.href = 'login.html?auth_required=true&logout=true';\n      }, 100);\n\n      // Try to load a protected resource with invalid credentials in the iframe\n      if (iframe.contentWindow) {\n        iframe.contentWindow.location.href = '/api/auth/verify';\n      }\n    }).catch(() => {\n      // Redirect even if the request fails\n      window.location.href = 'login.html?auth_required=true&logout=true';\n    });\n  };\n\n  // Toggle mobile menu\n  const toggleMobileMenu = () => {\n    setMobileMenuOpen(!mobileMenuOpen);\n  };\n\n  // Special handling for Live View link to handle both index.html and root URL\n  const getLiveViewHref = () => {\n    // Check if we're on the root URL or index.html\n    const isRoot = window.location.pathname === '/' || window.location.pathname.endsWith('/');\n    \n    // If we're on the root URL, stay on the root URL\n    if (isRoot) {\n      return './';\n    }\n    \n    // Otherwise, default to index.html\n    return 'index.html';\n  };\n\n  // Navigation items - don't preserve query parameters when navigating via header\n  const navItems = [\n    { id: 'nav-live', href: getLiveViewHref(), label: 'Live View' },\n    { id: 'nav-recordings', href: 'recordings.html', label: 'Recordings' },\n    { id: 'nav-streams', href: 'streams.html', label: 'Streams' },\n    { id: 'nav-settings', href: 'settings.html', label: 'Settings' },\n    { id: 'nav-users', href: 'users.html', label: 'Users' },\n    { id: 'nav-system', href: 'system.html', label: 'System' }\n  ];\n\n  // Render navigation item\n  const renderNavItem = (item) => {\n    const isActive = activeNav === item.id;\n    const baseClasses = \"text-white no-underline rounded transition-colors\";\n    const desktopClasses = \"px-3 py-2\";\n    const mobileClasses = \"block w-full px-4 py-3 text-left\";\n    const activeClass = isActive ? 'bg-blue-600' : 'hover:bg-blue-700';\n\n    return html`\n      <li class=${mobileMenuOpen ? \"w-full\" : \"mx-1\"}>\n        <a\n          href=\"${item.href}\"\n          id=${item.id}\n          class=${`${baseClasses} ${mobileMenuOpen ? mobileClasses : desktopClasses} ${activeClass}`}\n          onClick=${mobileMenuOpen ? toggleMobileMenu : null}\n        >\n          ${item.label}\n        </a>\n      </li>\n    `;\n  };\n\n  return html`\n    <header class=\"bg-gray-800 text-white py-2 shadow-md mb-4 w-full\">\n      <div class=\"container mx-auto px-4 flex justify-between items-center\">\n        <div class=\"logo flex items-center\">\n          <h1 class=\"text-xl font-bold m-0\">LightNVR</h1>\n          <span class=\"version text-blue-200 text-xs ml-2\">v${version}</span>\n        </div>\n\n        <!-- Desktop Navigation -->\n        <nav class=\"hidden md:block\">\n          <ul class=\"flex list-none m-0 p-0\">\n            ${navItems.map(renderNavItem)}\n          </ul>\n        </nav>\n\n        <!-- User Menu (Desktop) -->\n        <div class=\"user-menu hidden md:flex items-center\">\n          <span class=\"mr-2\">${username}</span>\n          <a href=\"#\" onClick=${handleLogout} class=\"text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors\">Logout</a>\n        </div>\n\n        <!-- Mobile Menu Button -->\n        <button\n          class=\"md:hidden text-white p-2 focus:outline-none\"\n          onClick=${toggleMobileMenu}\n          aria-label=\"Toggle menu\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=${mobileMenuOpen ? \"M6 18L18 6M6 6l12 12\" : \"M4 6h16M4 12h16M4 18h16\"} />\n          </svg>\n        </button>\n      </div>\n\n      <!-- Mobile Navigation -->\n      ${mobileMenuOpen ? html`\n        <div class=\"md:hidden mt-2 border-t border-gray-700 pt-2 container mx-auto px-4\">\n          <ul class=\"list-none m-0 p-0 flex flex-col w-full\">\n            ${navItems.map(renderNavItem)}\n            <li class=\"w-full mt-2 pt-2 border-t border-gray-700\">\n              <div class=\"flex justify-between items-center px-4 py-2\">\n                <span>${username}</span>\n                <a href=\"#\" onClick=${handleLogout} class=\"text-white no-underline hover:bg-blue-700 px-3 py-1 rounded transition-colors\">Logout</a>\n              </div>\n            </li>\n          </ul>\n        </div>\n      ` : null}\n    </header>\n  `;\n}\n\n/**\n * Load header with active navigation item\n * @param {string} activeNav - ID of the active navigation item\n */\nexport function loadHeader(activeNav = '') {\n  const headerContainer = document.getElementById('header-container');\n  if (!headerContainer) return;\n\n  // Get the version\n  const version = fetchSystemVersion();\n\n  // Render the header with version\n  import('preact').then(({ render }) => {\n    render(html`<${Header} activeNav=${activeNav} version=${version} />`, headerContainer);\n  }).catch(error => {\n    console.error('Error importing Preact:', error);\n  });\n}\n","/**\n * LightNVR version information\n * This file is auto-generated from CMakeLists.txt during the build process\n * DO NOT EDIT MANUALLY\n */\n\nexport const VERSION = '0.11.9';\n","/**\n * LightNVR Web Interface Footer Component\n * Preact component for the site footer\n */\n\nimport { h } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { html } from '../../html-helper.js';\nimport { fetchSystemVersion } from './utils.js';\n\n/**\n * Footer component\n * @param {Object} props - Component props\n * @returns {JSX.Element} Footer component\n */\nexport function Footer() {\n  const [year] = useState(new Date().getFullYear());\n\n  return html`\n    <footer class=\"bg-gray-800 text-white py-3 px-4 mt-4 shadow-inner\">\n      <div class=\"container mx-auto flex flex-col sm:flex-row justify-between items-center\">\n        <div class=\"text-center sm:text-left mb-2 sm:mb-0\">\n          <p class=\"text-sm\">© ${year} LightNVR ·\n            <a href=\"https://github.com/opensensor/lightnvr\" class=\"text-blue-300 hover:text-blue-100 text-sm\" target=\"_blank\" rel=\"noopener noreferrer\">GitHub</a>\n          </p>\n          <p class=\"text-xs text-gray-400 mt-1 hidden sm:block\">Lightweight Network Video Recorder</p>\n        </div>\n      </div>\n    </footer>\n  `;\n}\n\n/**\n * Load footer\n */\nexport function loadFooter() {\n  const footerContainer = document.getElementById('footer-container');\n  if (!footerContainer) return;\n\n  // Get the version\n  const version = fetchSystemVersion();\n\n  // Render the footer with version\n  import('preact').then(({ render }) => {\n    render(html`<${Footer} version=${version} />`, footerContainer);\n  }).catch(error => {\n    console.error('Error importing Preact for footer:', error);\n  });\n}","class Subscribable {\n  constructor() {\n    this.listeners = new Set();\n    this.subscribe = this.subscribe.bind(this);\n  }\n\n  subscribe(listener) {\n    const identity = {\n      listener\n    };\n    this.listeners.add(identity);\n    this.onSubscribe();\n    return () => {\n      this.listeners.delete(identity);\n      this.onUnsubscribe();\n    };\n  }\n\n  hasListeners() {\n    return this.listeners.size > 0;\n  }\n\n  onSubscribe() {// Do nothing\n  }\n\n  onUnsubscribe() {// Do nothing\n  }\n\n}\n\nexport { Subscribable };\n//# sourceMappingURL=subscribable.mjs.map\n","// TYPES\n// UTILS\nconst isServer = typeof window === 'undefined' || 'Deno' in window;\nfunction noop() {\n  return undefined;\n}\nfunction functionalUpdate(updater, input) {\n  return typeof updater === 'function' ? updater(input) : updater;\n}\nfunction isValidTimeout(value) {\n  return typeof value === 'number' && value >= 0 && value !== Infinity;\n}\nfunction difference(array1, array2) {\n  return array1.filter(x => !array2.includes(x));\n}\nfunction replaceAt(array, index, value) {\n  const copy = array.slice(0);\n  copy[index] = value;\n  return copy;\n}\nfunction timeUntilStale(updatedAt, staleTime) {\n  return Math.max(updatedAt + (staleTime || 0) - Date.now(), 0);\n}\nfunction parseQueryArgs(arg1, arg2, arg3) {\n  if (!isQueryKey(arg1)) {\n    return arg1;\n  }\n\n  if (typeof arg2 === 'function') {\n    return { ...arg3,\n      queryKey: arg1,\n      queryFn: arg2\n    };\n  }\n\n  return { ...arg2,\n    queryKey: arg1\n  };\n}\nfunction parseMutationArgs(arg1, arg2, arg3) {\n  if (isQueryKey(arg1)) {\n    if (typeof arg2 === 'function') {\n      return { ...arg3,\n        mutationKey: arg1,\n        mutationFn: arg2\n      };\n    }\n\n    return { ...arg2,\n      mutationKey: arg1\n    };\n  }\n\n  if (typeof arg1 === 'function') {\n    return { ...arg2,\n      mutationFn: arg1\n    };\n  }\n\n  return { ...arg1\n  };\n}\nfunction parseFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [{ ...arg2,\n    queryKey: arg1\n  }, arg3] : [arg1 || {}, arg2];\n}\nfunction parseMutationFilterArgs(arg1, arg2, arg3) {\n  return isQueryKey(arg1) ? [{ ...arg2,\n    mutationKey: arg1\n  }, arg3] : [arg1 || {}, arg2];\n}\nfunction matchQuery(filters, query) {\n  const {\n    type = 'all',\n    exact,\n    fetchStatus,\n    predicate,\n    queryKey,\n    stale\n  } = filters;\n\n  if (isQueryKey(queryKey)) {\n    if (exact) {\n      if (query.queryHash !== hashQueryKeyByOptions(queryKey, query.options)) {\n        return false;\n      }\n    } else if (!partialMatchKey(query.queryKey, queryKey)) {\n      return false;\n    }\n  }\n\n  if (type !== 'all') {\n    const isActive = query.isActive();\n\n    if (type === 'active' && !isActive) {\n      return false;\n    }\n\n    if (type === 'inactive' && isActive) {\n      return false;\n    }\n  }\n\n  if (typeof stale === 'boolean' && query.isStale() !== stale) {\n    return false;\n  }\n\n  if (typeof fetchStatus !== 'undefined' && fetchStatus !== query.state.fetchStatus) {\n    return false;\n  }\n\n  if (predicate && !predicate(query)) {\n    return false;\n  }\n\n  return true;\n}\nfunction matchMutation(filters, mutation) {\n  const {\n    exact,\n    fetching,\n    predicate,\n    mutationKey\n  } = filters;\n\n  if (isQueryKey(mutationKey)) {\n    if (!mutation.options.mutationKey) {\n      return false;\n    }\n\n    if (exact) {\n      if (hashQueryKey(mutation.options.mutationKey) !== hashQueryKey(mutationKey)) {\n        return false;\n      }\n    } else if (!partialMatchKey(mutation.options.mutationKey, mutationKey)) {\n      return false;\n    }\n  }\n\n  if (typeof fetching === 'boolean' && mutation.state.status === 'loading' !== fetching) {\n    return false;\n  }\n\n  if (predicate && !predicate(mutation)) {\n    return false;\n  }\n\n  return true;\n}\nfunction hashQueryKeyByOptions(queryKey, options) {\n  const hashFn = (options == null ? void 0 : options.queryKeyHashFn) || hashQueryKey;\n  return hashFn(queryKey);\n}\n/**\n * Default query keys hash function.\n * Hashes the value into a stable hash.\n */\n\nfunction hashQueryKey(queryKey) {\n  return JSON.stringify(queryKey, (_, val) => isPlainObject(val) ? Object.keys(val).sort().reduce((result, key) => {\n    result[key] = val[key];\n    return result;\n  }, {}) : val);\n}\n/**\n * Checks if key `b` partially matches with key `a`.\n */\n\nfunction partialMatchKey(a, b) {\n  return partialDeepEqual(a, b);\n}\n/**\n * Checks if `b` partially matches with `a`.\n */\n\nfunction partialDeepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n\n  if (typeof a !== typeof b) {\n    return false;\n  }\n\n  if (a && b && typeof a === 'object' && typeof b === 'object') {\n    return !Object.keys(b).some(key => !partialDeepEqual(a[key], b[key]));\n  }\n\n  return false;\n}\n/**\n * This function returns `a` if `b` is deeply equal.\n * If not, it will replace any deeply equal children of `b` with those of `a`.\n * This can be used for structural sharing between JSON values for example.\n */\n\nfunction replaceEqualDeep(a, b) {\n  if (a === b) {\n    return a;\n  }\n\n  const array = isPlainArray(a) && isPlainArray(b);\n\n  if (array || isPlainObject(a) && isPlainObject(b)) {\n    const aSize = array ? a.length : Object.keys(a).length;\n    const bItems = array ? b : Object.keys(b);\n    const bSize = bItems.length;\n    const copy = array ? [] : {};\n    let equalItems = 0;\n\n    for (let i = 0; i < bSize; i++) {\n      const key = array ? i : bItems[i];\n      copy[key] = replaceEqualDeep(a[key], b[key]);\n\n      if (copy[key] === a[key]) {\n        equalItems++;\n      }\n    }\n\n    return aSize === bSize && equalItems === aSize ? a : copy;\n  }\n\n  return b;\n}\n/**\n * Shallow compare objects. Only works with objects that always have the same properties.\n */\n\nfunction shallowEqualObjects(a, b) {\n  if (a && !b || b && !a) {\n    return false;\n  }\n\n  for (const key in a) {\n    if (a[key] !== b[key]) {\n      return false;\n    }\n  }\n\n  return true;\n}\nfunction isPlainArray(value) {\n  return Array.isArray(value) && value.length === Object.keys(value).length;\n} // Copied from: https://github.com/jonschlinkert/is-plain-object\n\nfunction isPlainObject(o) {\n  if (!hasObjectPrototype(o)) {\n    return false;\n  } // If has modified constructor\n\n\n  const ctor = o.constructor;\n\n  if (typeof ctor === 'undefined') {\n    return true;\n  } // If has modified prototype\n\n\n  const prot = ctor.prototype;\n\n  if (!hasObjectPrototype(prot)) {\n    return false;\n  } // If constructor does not have an Object-specific method\n\n\n  if (!prot.hasOwnProperty('isPrototypeOf')) {\n    return false;\n  } // Most likely a plain Object\n\n\n  return true;\n}\n\nfunction hasObjectPrototype(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isQueryKey(value) {\n  return Array.isArray(value);\n}\nfunction isError(value) {\n  return value instanceof Error;\n}\nfunction sleep(timeout) {\n  return new Promise(resolve => {\n    setTimeout(resolve, timeout);\n  });\n}\n/**\n * Schedules a microtask.\n * This can be useful to schedule state updates after rendering.\n */\n\nfunction scheduleMicrotask(callback) {\n  sleep(0).then(callback);\n}\nfunction getAbortController() {\n  if (typeof AbortController === 'function') {\n    return new AbortController();\n  }\n\n  return;\n}\nfunction replaceData(prevData, data, options) {\n  // Use prev data if an isDataEqual function is defined and returns `true`\n  if (options.isDataEqual != null && options.isDataEqual(prevData, data)) {\n    return prevData;\n  } else if (typeof options.structuralSharing === 'function') {\n    return options.structuralSharing(prevData, data);\n  } else if (options.structuralSharing !== false) {\n    // Structurally share data between prev and new data if needed\n    return replaceEqualDeep(prevData, data);\n  }\n\n  return data;\n}\n\nexport { difference, functionalUpdate, getAbortController, hashQueryKey, hashQueryKeyByOptions, isError, isPlainArray, isPlainObject, isQueryKey, isServer, isValidTimeout, matchMutation, matchQuery, noop, parseFilterArgs, parseMutationArgs, parseMutationFilterArgs, parseQueryArgs, partialDeepEqual, partialMatchKey, replaceAt, replaceData, replaceEqualDeep, scheduleMicrotask, shallowEqualObjects, sleep, timeUntilStale };\n//# sourceMappingURL=utils.mjs.map\n","import { Subscribable } from './subscribable.mjs';\nimport { isServer } from './utils.mjs';\n\nclass FocusManager extends Subscribable {\n  constructor() {\n    super();\n\n    this.setup = onFocus => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onFocus(); // Listen to visibillitychange and focus\n\n\n        window.addEventListener('visibilitychange', listener, false);\n        window.addEventListener('focus', listener, false);\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          window.removeEventListener('visibilitychange', listener);\n          window.removeEventListener('focus', listener);\n        };\n      }\n\n      return;\n    };\n  }\n\n  onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  }\n\n  setEventListener(setup) {\n    var _this$cleanup2;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(focused => {\n      if (typeof focused === 'boolean') {\n        this.setFocused(focused);\n      } else {\n        this.onFocus();\n      }\n    });\n  }\n\n  setFocused(focused) {\n    const changed = this.focused !== focused;\n\n    if (changed) {\n      this.focused = focused;\n      this.onFocus();\n    }\n  }\n\n  onFocus() {\n    this.listeners.forEach(({\n      listener\n    }) => {\n      listener();\n    });\n  }\n\n  isFocused() {\n    if (typeof this.focused === 'boolean') {\n      return this.focused;\n    } // document global can be unavailable in react native\n\n\n    if (typeof document === 'undefined') {\n      return true;\n    }\n\n    return [undefined, 'visible', 'prerender'].includes(document.visibilityState);\n  }\n\n}\nconst focusManager = new FocusManager();\n\nexport { FocusManager, focusManager };\n//# sourceMappingURL=focusManager.mjs.map\n","import { Subscribable } from './subscribable.mjs';\nimport { isServer } from './utils.mjs';\n\nconst onlineEvents = ['online', 'offline'];\nclass OnlineManager extends Subscribable {\n  constructor() {\n    super();\n\n    this.setup = onOnline => {\n      // addEventListener does not exist in React Native, but window does\n      // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n      if (!isServer && window.addEventListener) {\n        const listener = () => onOnline(); // Listen to online\n\n\n        onlineEvents.forEach(event => {\n          window.addEventListener(event, listener, false);\n        });\n        return () => {\n          // Be sure to unsubscribe if a new handler is set\n          onlineEvents.forEach(event => {\n            window.removeEventListener(event, listener);\n          });\n        };\n      }\n\n      return;\n    };\n  }\n\n  onSubscribe() {\n    if (!this.cleanup) {\n      this.setEventListener(this.setup);\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$cleanup;\n\n      (_this$cleanup = this.cleanup) == null ? void 0 : _this$cleanup.call(this);\n      this.cleanup = undefined;\n    }\n  }\n\n  setEventListener(setup) {\n    var _this$cleanup2;\n\n    this.setup = setup;\n    (_this$cleanup2 = this.cleanup) == null ? void 0 : _this$cleanup2.call(this);\n    this.cleanup = setup(online => {\n      if (typeof online === 'boolean') {\n        this.setOnline(online);\n      } else {\n        this.onOnline();\n      }\n    });\n  }\n\n  setOnline(online) {\n    const changed = this.online !== online;\n\n    if (changed) {\n      this.online = online;\n      this.onOnline();\n    }\n  }\n\n  onOnline() {\n    this.listeners.forEach(({\n      listener\n    }) => {\n      listener();\n    });\n  }\n\n  isOnline() {\n    if (typeof this.online === 'boolean') {\n      return this.online;\n    }\n\n    if (typeof navigator === 'undefined' || typeof navigator.onLine === 'undefined') {\n      return true;\n    }\n\n    return navigator.onLine;\n  }\n\n}\nconst onlineManager = new OnlineManager();\n\nexport { OnlineManager, onlineManager };\n//# sourceMappingURL=onlineManager.mjs.map\n","import { focusManager } from './focusManager.mjs';\nimport { onlineManager } from './onlineManager.mjs';\nimport { sleep } from './utils.mjs';\n\nfunction defaultRetryDelay(failureCount) {\n  return Math.min(1000 * 2 ** failureCount, 30000);\n}\n\nfunction canFetch(networkMode) {\n  return (networkMode != null ? networkMode : 'online') === 'online' ? onlineManager.isOnline() : true;\n}\nclass CancelledError {\n  constructor(options) {\n    this.revert = options == null ? void 0 : options.revert;\n    this.silent = options == null ? void 0 : options.silent;\n  }\n\n}\nfunction isCancelledError(value) {\n  return value instanceof CancelledError;\n}\nfunction createRetryer(config) {\n  let isRetryCancelled = false;\n  let failureCount = 0;\n  let isResolved = false;\n  let continueFn;\n  let promiseResolve;\n  let promiseReject;\n  const promise = new Promise((outerResolve, outerReject) => {\n    promiseResolve = outerResolve;\n    promiseReject = outerReject;\n  });\n\n  const cancel = cancelOptions => {\n    if (!isResolved) {\n      reject(new CancelledError(cancelOptions));\n      config.abort == null ? void 0 : config.abort();\n    }\n  };\n\n  const cancelRetry = () => {\n    isRetryCancelled = true;\n  };\n\n  const continueRetry = () => {\n    isRetryCancelled = false;\n  };\n\n  const shouldPause = () => !focusManager.isFocused() || config.networkMode !== 'always' && !onlineManager.isOnline();\n\n  const resolve = value => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onSuccess == null ? void 0 : config.onSuccess(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseResolve(value);\n    }\n  };\n\n  const reject = value => {\n    if (!isResolved) {\n      isResolved = true;\n      config.onError == null ? void 0 : config.onError(value);\n      continueFn == null ? void 0 : continueFn();\n      promiseReject(value);\n    }\n  };\n\n  const pause = () => {\n    return new Promise(continueResolve => {\n      continueFn = value => {\n        const canContinue = isResolved || !shouldPause();\n\n        if (canContinue) {\n          continueResolve(value);\n        }\n\n        return canContinue;\n      };\n\n      config.onPause == null ? void 0 : config.onPause();\n    }).then(() => {\n      continueFn = undefined;\n\n      if (!isResolved) {\n        config.onContinue == null ? void 0 : config.onContinue();\n      }\n    });\n  }; // Create loop function\n\n\n  const run = () => {\n    // Do nothing if already resolved\n    if (isResolved) {\n      return;\n    }\n\n    let promiseOrValue; // Execute query\n\n    try {\n      promiseOrValue = config.fn();\n    } catch (error) {\n      promiseOrValue = Promise.reject(error);\n    }\n\n    Promise.resolve(promiseOrValue).then(resolve).catch(error => {\n      var _config$retry, _config$retryDelay;\n\n      // Stop if the fetch is already resolved\n      if (isResolved) {\n        return;\n      } // Do we need to retry the request?\n\n\n      const retry = (_config$retry = config.retry) != null ? _config$retry : 3;\n      const retryDelay = (_config$retryDelay = config.retryDelay) != null ? _config$retryDelay : defaultRetryDelay;\n      const delay = typeof retryDelay === 'function' ? retryDelay(failureCount, error) : retryDelay;\n      const shouldRetry = retry === true || typeof retry === 'number' && failureCount < retry || typeof retry === 'function' && retry(failureCount, error);\n\n      if (isRetryCancelled || !shouldRetry) {\n        // We are done if the query does not need to be retried\n        reject(error);\n        return;\n      }\n\n      failureCount++; // Notify on fail\n\n      config.onFail == null ? void 0 : config.onFail(failureCount, error); // Delay\n\n      sleep(delay) // Pause if the document is not visible or when the device is offline\n      .then(() => {\n        if (shouldPause()) {\n          return pause();\n        }\n\n        return;\n      }).then(() => {\n        if (isRetryCancelled) {\n          reject(error);\n        } else {\n          run();\n        }\n      });\n    });\n  }; // Start loop\n\n\n  if (canFetch(config.networkMode)) {\n    run();\n  } else {\n    pause().then(run);\n  }\n\n  return {\n    promise,\n    cancel,\n    continue: () => {\n      const didContinue = continueFn == null ? void 0 : continueFn();\n      return didContinue ? promise : Promise.resolve();\n    },\n    cancelRetry,\n    continueRetry\n  };\n}\n\nexport { CancelledError, canFetch, createRetryer, isCancelledError };\n//# sourceMappingURL=retryer.mjs.map\n","const defaultLogger = console;\n\nexport { defaultLogger };\n//# sourceMappingURL=logger.mjs.map\n","import { scheduleMicrotask } from './utils.mjs';\n\nfunction createNotifyManager() {\n  let queue = [];\n  let transactions = 0;\n\n  let notifyFn = callback => {\n    callback();\n  };\n\n  let batchNotifyFn = callback => {\n    callback();\n  };\n\n  const batch = callback => {\n    let result;\n    transactions++;\n\n    try {\n      result = callback();\n    } finally {\n      transactions--;\n\n      if (!transactions) {\n        flush();\n      }\n    }\n\n    return result;\n  };\n\n  const schedule = callback => {\n    if (transactions) {\n      queue.push(callback);\n    } else {\n      scheduleMicrotask(() => {\n        notifyFn(callback);\n      });\n    }\n  };\n  /**\n   * All calls to the wrapped function will be batched.\n   */\n\n\n  const batchCalls = callback => {\n    return (...args) => {\n      schedule(() => {\n        callback(...args);\n      });\n    };\n  };\n\n  const flush = () => {\n    const originalQueue = queue;\n    queue = [];\n\n    if (originalQueue.length) {\n      scheduleMicrotask(() => {\n        batchNotifyFn(() => {\n          originalQueue.forEach(callback => {\n            notifyFn(callback);\n          });\n        });\n      });\n    }\n  };\n  /**\n   * Use this method to set a custom notify function.\n   * This can be used to for example wrap notifications with `React.act` while running tests.\n   */\n\n\n  const setNotifyFunction = fn => {\n    notifyFn = fn;\n  };\n  /**\n   * Use this method to set a custom function to batch notifications together into a single tick.\n   * By default React Query will use the batch function provided by ReactDOM or React Native.\n   */\n\n\n  const setBatchNotifyFunction = fn => {\n    batchNotifyFn = fn;\n  };\n\n  return {\n    batch,\n    batchCalls,\n    schedule,\n    setNotifyFunction,\n    setBatchNotifyFunction\n  };\n} // SINGLETON\n\nconst notifyManager = createNotifyManager();\n\nexport { createNotifyManager, notifyManager };\n//# sourceMappingURL=notifyManager.mjs.map\n","import { isValidTimeout, isServer } from './utils.mjs';\n\nclass Removable {\n  destroy() {\n    this.clearGcTimeout();\n  }\n\n  scheduleGc() {\n    this.clearGcTimeout();\n\n    if (isValidTimeout(this.cacheTime)) {\n      this.gcTimeout = setTimeout(() => {\n        this.optionalRemove();\n      }, this.cacheTime);\n    }\n  }\n\n  updateCacheTime(newCacheTime) {\n    // Default to 5 minutes (Infinity for server-side) if no cache time is set\n    this.cacheTime = Math.max(this.cacheTime || 0, newCacheTime != null ? newCacheTime : isServer ? Infinity : 5 * 60 * 1000);\n  }\n\n  clearGcTimeout() {\n    if (this.gcTimeout) {\n      clearTimeout(this.gcTimeout);\n      this.gcTimeout = undefined;\n    }\n  }\n\n}\n\nexport { Removable };\n//# sourceMappingURL=removable.mjs.map\n","import { replaceData, noop, timeUntilStale, getAbortController } from './utils.mjs';\nimport { defaultLogger } from './logger.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { createRetryer, isCancelledError, canFetch } from './retryer.mjs';\nimport { Removable } from './removable.mjs';\n\n// CLASS\nclass Query extends Removable {\n  constructor(config) {\n    super();\n    this.abortSignalConsumed = false;\n    this.defaultOptions = config.defaultOptions;\n    this.setOptions(config.options);\n    this.observers = [];\n    this.cache = config.cache;\n    this.logger = config.logger || defaultLogger;\n    this.queryKey = config.queryKey;\n    this.queryHash = config.queryHash;\n    this.initialState = config.state || getDefaultState(this.options);\n    this.state = this.initialState;\n    this.scheduleGc();\n  }\n\n  get meta() {\n    return this.options.meta;\n  }\n\n  setOptions(options) {\n    this.options = { ...this.defaultOptions,\n      ...options\n    };\n    this.updateCacheTime(this.options.cacheTime);\n  }\n\n  optionalRemove() {\n    if (!this.observers.length && this.state.fetchStatus === 'idle') {\n      this.cache.remove(this);\n    }\n  }\n\n  setData(newData, options) {\n    const data = replaceData(this.state.data, newData, this.options); // Set data and mark it as cached\n\n    this.dispatch({\n      data,\n      type: 'success',\n      dataUpdatedAt: options == null ? void 0 : options.updatedAt,\n      manual: options == null ? void 0 : options.manual\n    });\n    return data;\n  }\n\n  setState(state, setStateOptions) {\n    this.dispatch({\n      type: 'setState',\n      state,\n      setStateOptions\n    });\n  }\n\n  cancel(options) {\n    var _this$retryer;\n\n    const promise = this.promise;\n    (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.cancel(options);\n    return promise ? promise.then(noop).catch(noop) : Promise.resolve();\n  }\n\n  destroy() {\n    super.destroy();\n    this.cancel({\n      silent: true\n    });\n  }\n\n  reset() {\n    this.destroy();\n    this.setState(this.initialState);\n  }\n\n  isActive() {\n    return this.observers.some(observer => observer.options.enabled !== false);\n  }\n\n  isDisabled() {\n    return this.getObserversCount() > 0 && !this.isActive();\n  }\n\n  isStale() {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || this.observers.some(observer => observer.getCurrentResult().isStale);\n  }\n\n  isStaleByTime(staleTime = 0) {\n    return this.state.isInvalidated || !this.state.dataUpdatedAt || !timeUntilStale(this.state.dataUpdatedAt, staleTime);\n  }\n\n  onFocus() {\n    var _this$retryer2;\n\n    const observer = this.observers.find(x => x.shouldFetchOnWindowFocus());\n\n    if (observer) {\n      observer.refetch({\n        cancelRefetch: false\n      });\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer2 = this.retryer) == null ? void 0 : _this$retryer2.continue();\n  }\n\n  onOnline() {\n    var _this$retryer3;\n\n    const observer = this.observers.find(x => x.shouldFetchOnReconnect());\n\n    if (observer) {\n      observer.refetch({\n        cancelRefetch: false\n      });\n    } // Continue fetch if currently paused\n\n\n    (_this$retryer3 = this.retryer) == null ? void 0 : _this$retryer3.continue();\n  }\n\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer); // Stop the query from being garbage collected\n\n      this.clearGcTimeout();\n      this.cache.notify({\n        type: 'observerAdded',\n        query: this,\n        observer\n      });\n    }\n  }\n\n  removeObserver(observer) {\n    if (this.observers.includes(observer)) {\n      this.observers = this.observers.filter(x => x !== observer);\n\n      if (!this.observers.length) {\n        // If the transport layer does not support cancellation\n        // we'll let the query continue so the result can be cached\n        if (this.retryer) {\n          if (this.abortSignalConsumed) {\n            this.retryer.cancel({\n              revert: true\n            });\n          } else {\n            this.retryer.cancelRetry();\n          }\n        }\n\n        this.scheduleGc();\n      }\n\n      this.cache.notify({\n        type: 'observerRemoved',\n        query: this,\n        observer\n      });\n    }\n  }\n\n  getObserversCount() {\n    return this.observers.length;\n  }\n\n  invalidate() {\n    if (!this.state.isInvalidated) {\n      this.dispatch({\n        type: 'invalidate'\n      });\n    }\n  }\n\n  fetch(options, fetchOptions) {\n    var _this$options$behavio, _context$fetchOptions;\n\n    if (this.state.fetchStatus !== 'idle') {\n      if (this.state.dataUpdatedAt && fetchOptions != null && fetchOptions.cancelRefetch) {\n        // Silently cancel current fetch if the user wants to cancel refetches\n        this.cancel({\n          silent: true\n        });\n      } else if (this.promise) {\n        var _this$retryer4;\n\n        // make sure that retries that were potentially cancelled due to unmounts can continue\n        (_this$retryer4 = this.retryer) == null ? void 0 : _this$retryer4.continueRetry(); // Return current promise if we are already fetching\n\n        return this.promise;\n      }\n    } // Update config if passed, otherwise the config from the last execution is used\n\n\n    if (options) {\n      this.setOptions(options);\n    } // Use the options from the first observer with a query function if no function is found.\n    // This can happen when the query is hydrated or created with setQueryData.\n\n\n    if (!this.options.queryFn) {\n      const observer = this.observers.find(x => x.options.queryFn);\n\n      if (observer) {\n        this.setOptions(observer.options);\n      }\n    }\n\n    if (!Array.isArray(this.options.queryKey)) {\n      if (process.env.NODE_ENV !== 'production') {\n        this.logger.error(\"As of v4, queryKey needs to be an Array. If you are using a string like 'repoData', please change it to an Array, e.g. ['repoData']\");\n      }\n    }\n\n    const abortController = getAbortController(); // Create query function context\n\n    const queryFnContext = {\n      queryKey: this.queryKey,\n      pageParam: undefined,\n      meta: this.meta\n    }; // Adds an enumerable signal property to the object that\n    // which sets abortSignalConsumed to true when the signal\n    // is read.\n\n    const addSignalProperty = object => {\n      Object.defineProperty(object, 'signal', {\n        enumerable: true,\n        get: () => {\n          if (abortController) {\n            this.abortSignalConsumed = true;\n            return abortController.signal;\n          }\n\n          return undefined;\n        }\n      });\n    };\n\n    addSignalProperty(queryFnContext); // Create fetch function\n\n    const fetchFn = () => {\n      if (!this.options.queryFn) {\n        return Promise.reject(\"Missing queryFn for queryKey '\" + this.options.queryHash + \"'\");\n      }\n\n      this.abortSignalConsumed = false;\n      return this.options.queryFn(queryFnContext);\n    }; // Trigger behavior hook\n\n\n    const context = {\n      fetchOptions,\n      options: this.options,\n      queryKey: this.queryKey,\n      state: this.state,\n      fetchFn\n    };\n    addSignalProperty(context);\n    (_this$options$behavio = this.options.behavior) == null ? void 0 : _this$options$behavio.onFetch(context); // Store state in case the current fetch needs to be reverted\n\n    this.revertState = this.state; // Set to fetching state if not already in it\n\n    if (this.state.fetchStatus === 'idle' || this.state.fetchMeta !== ((_context$fetchOptions = context.fetchOptions) == null ? void 0 : _context$fetchOptions.meta)) {\n      var _context$fetchOptions2;\n\n      this.dispatch({\n        type: 'fetch',\n        meta: (_context$fetchOptions2 = context.fetchOptions) == null ? void 0 : _context$fetchOptions2.meta\n      });\n    }\n\n    const onError = error => {\n      // Optimistically update state if needed\n      if (!(isCancelledError(error) && error.silent)) {\n        this.dispatch({\n          type: 'error',\n          error: error\n        });\n      }\n\n      if (!isCancelledError(error)) {\n        var _this$cache$config$on, _this$cache$config, _this$cache$config$on2, _this$cache$config2;\n\n        // Notify cache callback\n        (_this$cache$config$on = (_this$cache$config = this.cache.config).onError) == null ? void 0 : _this$cache$config$on.call(_this$cache$config, error, this);\n        (_this$cache$config$on2 = (_this$cache$config2 = this.cache.config).onSettled) == null ? void 0 : _this$cache$config$on2.call(_this$cache$config2, this.state.data, error, this);\n\n        if (process.env.NODE_ENV !== 'production') {\n          this.logger.error(error);\n        }\n      }\n\n      if (!this.isFetchingOptimistic) {\n        // Schedule query gc after fetching\n        this.scheduleGc();\n      }\n\n      this.isFetchingOptimistic = false;\n    }; // Try to fetch the data\n\n\n    this.retryer = createRetryer({\n      fn: context.fetchFn,\n      abort: abortController == null ? void 0 : abortController.abort.bind(abortController),\n      onSuccess: data => {\n        var _this$cache$config$on3, _this$cache$config3, _this$cache$config$on4, _this$cache$config4;\n\n        if (typeof data === 'undefined') {\n          if (process.env.NODE_ENV !== 'production') {\n            this.logger.error(\"Query data cannot be undefined. Please make sure to return a value other than undefined from your query function. Affected query key: \" + this.queryHash);\n          }\n\n          onError(new Error(this.queryHash + \" data is undefined\"));\n          return;\n        }\n\n        this.setData(data); // Notify cache callback\n\n        (_this$cache$config$on3 = (_this$cache$config3 = this.cache.config).onSuccess) == null ? void 0 : _this$cache$config$on3.call(_this$cache$config3, data, this);\n        (_this$cache$config$on4 = (_this$cache$config4 = this.cache.config).onSettled) == null ? void 0 : _this$cache$config$on4.call(_this$cache$config4, data, this.state.error, this);\n\n        if (!this.isFetchingOptimistic) {\n          // Schedule query gc after fetching\n          this.scheduleGc();\n        }\n\n        this.isFetchingOptimistic = false;\n      },\n      onError,\n      onFail: (failureCount, error) => {\n        this.dispatch({\n          type: 'failed',\n          failureCount,\n          error\n        });\n      },\n      onPause: () => {\n        this.dispatch({\n          type: 'pause'\n        });\n      },\n      onContinue: () => {\n        this.dispatch({\n          type: 'continue'\n        });\n      },\n      retry: context.options.retry,\n      retryDelay: context.options.retryDelay,\n      networkMode: context.options.networkMode\n    });\n    this.promise = this.retryer.promise;\n    return this.promise;\n  }\n\n  dispatch(action) {\n    const reducer = state => {\n      var _action$meta, _action$dataUpdatedAt;\n\n      switch (action.type) {\n        case 'failed':\n          return { ...state,\n            fetchFailureCount: action.failureCount,\n            fetchFailureReason: action.error\n          };\n\n        case 'pause':\n          return { ...state,\n            fetchStatus: 'paused'\n          };\n\n        case 'continue':\n          return { ...state,\n            fetchStatus: 'fetching'\n          };\n\n        case 'fetch':\n          return { ...state,\n            fetchFailureCount: 0,\n            fetchFailureReason: null,\n            fetchMeta: (_action$meta = action.meta) != null ? _action$meta : null,\n            fetchStatus: canFetch(this.options.networkMode) ? 'fetching' : 'paused',\n            ...(!state.dataUpdatedAt && {\n              error: null,\n              status: 'loading'\n            })\n          };\n\n        case 'success':\n          return { ...state,\n            data: action.data,\n            dataUpdateCount: state.dataUpdateCount + 1,\n            dataUpdatedAt: (_action$dataUpdatedAt = action.dataUpdatedAt) != null ? _action$dataUpdatedAt : Date.now(),\n            error: null,\n            isInvalidated: false,\n            status: 'success',\n            ...(!action.manual && {\n              fetchStatus: 'idle',\n              fetchFailureCount: 0,\n              fetchFailureReason: null\n            })\n          };\n\n        case 'error':\n          const error = action.error;\n\n          if (isCancelledError(error) && error.revert && this.revertState) {\n            return { ...this.revertState\n            };\n          }\n\n          return { ...state,\n            error: error,\n            errorUpdateCount: state.errorUpdateCount + 1,\n            errorUpdatedAt: Date.now(),\n            fetchFailureCount: state.fetchFailureCount + 1,\n            fetchFailureReason: error,\n            fetchStatus: 'idle',\n            status: 'error'\n          };\n\n        case 'invalidate':\n          return { ...state,\n            isInvalidated: true\n          };\n\n        case 'setState':\n          return { ...state,\n            ...action.state\n          };\n      }\n    };\n\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach(observer => {\n        observer.onQueryUpdate(action);\n      });\n      this.cache.notify({\n        query: this,\n        type: 'updated',\n        action\n      });\n    });\n  }\n\n}\n\nfunction getDefaultState(options) {\n  const data = typeof options.initialData === 'function' ? options.initialData() : options.initialData;\n  const hasData = typeof data !== 'undefined';\n  const initialDataUpdatedAt = hasData ? typeof options.initialDataUpdatedAt === 'function' ? options.initialDataUpdatedAt() : options.initialDataUpdatedAt : 0;\n  return {\n    data,\n    dataUpdateCount: 0,\n    dataUpdatedAt: hasData ? initialDataUpdatedAt != null ? initialDataUpdatedAt : Date.now() : 0,\n    error: null,\n    errorUpdateCount: 0,\n    errorUpdatedAt: 0,\n    fetchFailureCount: 0,\n    fetchFailureReason: null,\n    fetchMeta: null,\n    isInvalidated: false,\n    status: hasData ? 'success' : 'loading',\n    fetchStatus: 'idle'\n  };\n}\n\nexport { Query };\n//# sourceMappingURL=query.mjs.map\n","import { hashQueryKeyByOptions, parseFilterArgs, matchQuery } from './utils.mjs';\nimport { Query } from './query.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { Subscribable } from './subscribable.mjs';\n\n// CLASS\nclass QueryCache extends Subscribable {\n  constructor(config) {\n    super();\n    this.config = config || {};\n    this.queries = [];\n    this.queriesMap = {};\n  }\n\n  build(client, options, state) {\n    var _options$queryHash;\n\n    const queryKey = options.queryKey;\n    const queryHash = (_options$queryHash = options.queryHash) != null ? _options$queryHash : hashQueryKeyByOptions(queryKey, options);\n    let query = this.get(queryHash);\n\n    if (!query) {\n      query = new Query({\n        cache: this,\n        logger: client.getLogger(),\n        queryKey,\n        queryHash,\n        options: client.defaultQueryOptions(options),\n        state,\n        defaultOptions: client.getQueryDefaults(queryKey)\n      });\n      this.add(query);\n    }\n\n    return query;\n  }\n\n  add(query) {\n    if (!this.queriesMap[query.queryHash]) {\n      this.queriesMap[query.queryHash] = query;\n      this.queries.push(query);\n      this.notify({\n        type: 'added',\n        query\n      });\n    }\n  }\n\n  remove(query) {\n    const queryInMap = this.queriesMap[query.queryHash];\n\n    if (queryInMap) {\n      query.destroy();\n      this.queries = this.queries.filter(x => x !== query);\n\n      if (queryInMap === query) {\n        delete this.queriesMap[query.queryHash];\n      }\n\n      this.notify({\n        type: 'removed',\n        query\n      });\n    }\n  }\n\n  clear() {\n    notifyManager.batch(() => {\n      this.queries.forEach(query => {\n        this.remove(query);\n      });\n    });\n  }\n\n  get(queryHash) {\n    return this.queriesMap[queryHash];\n  }\n\n  getAll() {\n    return this.queries;\n  }\n\n  find(arg1, arg2) {\n    const [filters] = parseFilterArgs(arg1, arg2);\n\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.queries.find(query => matchQuery(filters, query));\n  }\n\n  findAll(arg1, arg2) {\n    const [filters] = parseFilterArgs(arg1, arg2);\n    return Object.keys(filters).length > 0 ? this.queries.filter(query => matchQuery(filters, query)) : this.queries;\n  }\n\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach(({\n        listener\n      }) => {\n        listener(event);\n      });\n    });\n  }\n\n  onFocus() {\n    notifyManager.batch(() => {\n      this.queries.forEach(query => {\n        query.onFocus();\n      });\n    });\n  }\n\n  onOnline() {\n    notifyManager.batch(() => {\n      this.queries.forEach(query => {\n        query.onOnline();\n      });\n    });\n  }\n\n}\n\nexport { QueryCache };\n//# sourceMappingURL=queryCache.mjs.map\n","import { defaultLogger } from './logger.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { Removable } from './removable.mjs';\nimport { createRetryer, canFetch } from './retryer.mjs';\n\n// CLASS\nclass Mutation extends Removable {\n  constructor(config) {\n    super();\n    this.defaultOptions = config.defaultOptions;\n    this.mutationId = config.mutationId;\n    this.mutationCache = config.mutationCache;\n    this.logger = config.logger || defaultLogger;\n    this.observers = [];\n    this.state = config.state || getDefaultState();\n    this.setOptions(config.options);\n    this.scheduleGc();\n  }\n\n  setOptions(options) {\n    this.options = { ...this.defaultOptions,\n      ...options\n    };\n    this.updateCacheTime(this.options.cacheTime);\n  }\n\n  get meta() {\n    return this.options.meta;\n  }\n\n  setState(state) {\n    this.dispatch({\n      type: 'setState',\n      state\n    });\n  }\n\n  addObserver(observer) {\n    if (!this.observers.includes(observer)) {\n      this.observers.push(observer); // Stop the mutation from being garbage collected\n\n      this.clearGcTimeout();\n      this.mutationCache.notify({\n        type: 'observerAdded',\n        mutation: this,\n        observer\n      });\n    }\n  }\n\n  removeObserver(observer) {\n    this.observers = this.observers.filter(x => x !== observer);\n    this.scheduleGc();\n    this.mutationCache.notify({\n      type: 'observerRemoved',\n      mutation: this,\n      observer\n    });\n  }\n\n  optionalRemove() {\n    if (!this.observers.length) {\n      if (this.state.status === 'loading') {\n        this.scheduleGc();\n      } else {\n        this.mutationCache.remove(this);\n      }\n    }\n  }\n\n  continue() {\n    var _this$retryer$continu, _this$retryer;\n\n    return (_this$retryer$continu = (_this$retryer = this.retryer) == null ? void 0 : _this$retryer.continue()) != null ? _this$retryer$continu : this.execute();\n  }\n\n  async execute() {\n    const executeMutation = () => {\n      var _this$options$retry;\n\n      this.retryer = createRetryer({\n        fn: () => {\n          if (!this.options.mutationFn) {\n            return Promise.reject('No mutationFn found');\n          }\n\n          return this.options.mutationFn(this.state.variables);\n        },\n        onFail: (failureCount, error) => {\n          this.dispatch({\n            type: 'failed',\n            failureCount,\n            error\n          });\n        },\n        onPause: () => {\n          this.dispatch({\n            type: 'pause'\n          });\n        },\n        onContinue: () => {\n          this.dispatch({\n            type: 'continue'\n          });\n        },\n        retry: (_this$options$retry = this.options.retry) != null ? _this$options$retry : 0,\n        retryDelay: this.options.retryDelay,\n        networkMode: this.options.networkMode\n      });\n      return this.retryer.promise;\n    };\n\n    const restored = this.state.status === 'loading';\n\n    try {\n      var _this$mutationCache$c3, _this$mutationCache$c4, _this$options$onSucce, _this$options2, _this$mutationCache$c5, _this$mutationCache$c6, _this$options$onSettl, _this$options3;\n\n      if (!restored) {\n        var _this$mutationCache$c, _this$mutationCache$c2, _this$options$onMutat, _this$options;\n\n        this.dispatch({\n          type: 'loading',\n          variables: this.options.variables\n        }); // Notify cache callback\n\n        await ((_this$mutationCache$c = (_this$mutationCache$c2 = this.mutationCache.config).onMutate) == null ? void 0 : _this$mutationCache$c.call(_this$mutationCache$c2, this.state.variables, this));\n        const context = await ((_this$options$onMutat = (_this$options = this.options).onMutate) == null ? void 0 : _this$options$onMutat.call(_this$options, this.state.variables));\n\n        if (context !== this.state.context) {\n          this.dispatch({\n            type: 'loading',\n            context,\n            variables: this.state.variables\n          });\n        }\n      }\n\n      const data = await executeMutation(); // Notify cache callback\n\n      await ((_this$mutationCache$c3 = (_this$mutationCache$c4 = this.mutationCache.config).onSuccess) == null ? void 0 : _this$mutationCache$c3.call(_this$mutationCache$c4, data, this.state.variables, this.state.context, this));\n      await ((_this$options$onSucce = (_this$options2 = this.options).onSuccess) == null ? void 0 : _this$options$onSucce.call(_this$options2, data, this.state.variables, this.state.context)); // Notify cache callback\n\n      await ((_this$mutationCache$c5 = (_this$mutationCache$c6 = this.mutationCache.config).onSettled) == null ? void 0 : _this$mutationCache$c5.call(_this$mutationCache$c6, data, null, this.state.variables, this.state.context, this));\n      await ((_this$options$onSettl = (_this$options3 = this.options).onSettled) == null ? void 0 : _this$options$onSettl.call(_this$options3, data, null, this.state.variables, this.state.context));\n      this.dispatch({\n        type: 'success',\n        data\n      });\n      return data;\n    } catch (error) {\n      try {\n        var _this$mutationCache$c7, _this$mutationCache$c8, _this$options$onError, _this$options4, _this$mutationCache$c9, _this$mutationCache$c10, _this$options$onSettl2, _this$options5;\n\n        // Notify cache callback\n        await ((_this$mutationCache$c7 = (_this$mutationCache$c8 = this.mutationCache.config).onError) == null ? void 0 : _this$mutationCache$c7.call(_this$mutationCache$c8, error, this.state.variables, this.state.context, this));\n\n        if (process.env.NODE_ENV !== 'production') {\n          this.logger.error(error);\n        }\n\n        await ((_this$options$onError = (_this$options4 = this.options).onError) == null ? void 0 : _this$options$onError.call(_this$options4, error, this.state.variables, this.state.context)); // Notify cache callback\n\n        await ((_this$mutationCache$c9 = (_this$mutationCache$c10 = this.mutationCache.config).onSettled) == null ? void 0 : _this$mutationCache$c9.call(_this$mutationCache$c10, undefined, error, this.state.variables, this.state.context, this));\n        await ((_this$options$onSettl2 = (_this$options5 = this.options).onSettled) == null ? void 0 : _this$options$onSettl2.call(_this$options5, undefined, error, this.state.variables, this.state.context));\n        throw error;\n      } finally {\n        this.dispatch({\n          type: 'error',\n          error: error\n        });\n      }\n    }\n  }\n\n  dispatch(action) {\n    const reducer = state => {\n      switch (action.type) {\n        case 'failed':\n          return { ...state,\n            failureCount: action.failureCount,\n            failureReason: action.error\n          };\n\n        case 'pause':\n          return { ...state,\n            isPaused: true\n          };\n\n        case 'continue':\n          return { ...state,\n            isPaused: false\n          };\n\n        case 'loading':\n          return { ...state,\n            context: action.context,\n            data: undefined,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            isPaused: !canFetch(this.options.networkMode),\n            status: 'loading',\n            variables: action.variables\n          };\n\n        case 'success':\n          return { ...state,\n            data: action.data,\n            failureCount: 0,\n            failureReason: null,\n            error: null,\n            status: 'success',\n            isPaused: false\n          };\n\n        case 'error':\n          return { ...state,\n            data: undefined,\n            error: action.error,\n            failureCount: state.failureCount + 1,\n            failureReason: action.error,\n            isPaused: false,\n            status: 'error'\n          };\n\n        case 'setState':\n          return { ...state,\n            ...action.state\n          };\n      }\n    };\n\n    this.state = reducer(this.state);\n    notifyManager.batch(() => {\n      this.observers.forEach(observer => {\n        observer.onMutationUpdate(action);\n      });\n      this.mutationCache.notify({\n        mutation: this,\n        type: 'updated',\n        action\n      });\n    });\n  }\n\n}\nfunction getDefaultState() {\n  return {\n    context: undefined,\n    data: undefined,\n    error: null,\n    failureCount: 0,\n    failureReason: null,\n    isPaused: false,\n    status: 'idle',\n    variables: undefined\n  };\n}\n\nexport { Mutation, getDefaultState };\n//# sourceMappingURL=mutation.mjs.map\n","import { notifyManager } from './notifyManager.mjs';\nimport { Mutation } from './mutation.mjs';\nimport { matchMutation, noop } from './utils.mjs';\nimport { Subscribable } from './subscribable.mjs';\n\n// CLASS\nclass MutationCache extends Subscribable {\n  constructor(config) {\n    super();\n    this.config = config || {};\n    this.mutations = [];\n    this.mutationId = 0;\n  }\n\n  build(client, options, state) {\n    const mutation = new Mutation({\n      mutationCache: this,\n      logger: client.getLogger(),\n      mutationId: ++this.mutationId,\n      options: client.defaultMutationOptions(options),\n      state,\n      defaultOptions: options.mutationKey ? client.getMutationDefaults(options.mutationKey) : undefined\n    });\n    this.add(mutation);\n    return mutation;\n  }\n\n  add(mutation) {\n    this.mutations.push(mutation);\n    this.notify({\n      type: 'added',\n      mutation\n    });\n  }\n\n  remove(mutation) {\n    this.mutations = this.mutations.filter(x => x !== mutation);\n    this.notify({\n      type: 'removed',\n      mutation\n    });\n  }\n\n  clear() {\n    notifyManager.batch(() => {\n      this.mutations.forEach(mutation => {\n        this.remove(mutation);\n      });\n    });\n  }\n\n  getAll() {\n    return this.mutations;\n  }\n\n  find(filters) {\n    if (typeof filters.exact === 'undefined') {\n      filters.exact = true;\n    }\n\n    return this.mutations.find(mutation => matchMutation(filters, mutation));\n  }\n\n  findAll(filters) {\n    return this.mutations.filter(mutation => matchMutation(filters, mutation));\n  }\n\n  notify(event) {\n    notifyManager.batch(() => {\n      this.listeners.forEach(({\n        listener\n      }) => {\n        listener(event);\n      });\n    });\n  }\n\n  resumePausedMutations() {\n    var _this$resuming;\n\n    this.resuming = ((_this$resuming = this.resuming) != null ? _this$resuming : Promise.resolve()).then(() => {\n      const pausedMutations = this.mutations.filter(x => x.state.isPaused);\n      return notifyManager.batch(() => pausedMutations.reduce((promise, mutation) => promise.then(() => mutation.continue().catch(noop)), Promise.resolve()));\n    }).then(() => {\n      this.resuming = undefined;\n    });\n    return this.resuming;\n  }\n\n}\n\nexport { MutationCache };\n//# sourceMappingURL=mutationCache.mjs.map\n","function infiniteQueryBehavior() {\n  return {\n    onFetch: context => {\n      context.fetchFn = () => {\n        var _context$fetchOptions, _context$fetchOptions2, _context$fetchOptions3, _context$fetchOptions4, _context$state$data, _context$state$data2;\n\n        const refetchPage = (_context$fetchOptions = context.fetchOptions) == null ? void 0 : (_context$fetchOptions2 = _context$fetchOptions.meta) == null ? void 0 : _context$fetchOptions2.refetchPage;\n        const fetchMore = (_context$fetchOptions3 = context.fetchOptions) == null ? void 0 : (_context$fetchOptions4 = _context$fetchOptions3.meta) == null ? void 0 : _context$fetchOptions4.fetchMore;\n        const pageParam = fetchMore == null ? void 0 : fetchMore.pageParam;\n        const isFetchingNextPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'forward';\n        const isFetchingPreviousPage = (fetchMore == null ? void 0 : fetchMore.direction) === 'backward';\n        const oldPages = ((_context$state$data = context.state.data) == null ? void 0 : _context$state$data.pages) || [];\n        const oldPageParams = ((_context$state$data2 = context.state.data) == null ? void 0 : _context$state$data2.pageParams) || [];\n        let newPageParams = oldPageParams;\n        let cancelled = false;\n\n        const addSignalProperty = object => {\n          Object.defineProperty(object, 'signal', {\n            enumerable: true,\n            get: () => {\n              var _context$signal;\n\n              if ((_context$signal = context.signal) != null && _context$signal.aborted) {\n                cancelled = true;\n              } else {\n                var _context$signal2;\n\n                (_context$signal2 = context.signal) == null ? void 0 : _context$signal2.addEventListener('abort', () => {\n                  cancelled = true;\n                });\n              }\n\n              return context.signal;\n            }\n          });\n        }; // Get query function\n\n\n        const queryFn = context.options.queryFn || (() => Promise.reject(\"Missing queryFn for queryKey '\" + context.options.queryHash + \"'\"));\n\n        const buildNewPages = (pages, param, page, previous) => {\n          newPageParams = previous ? [param, ...newPageParams] : [...newPageParams, param];\n          return previous ? [page, ...pages] : [...pages, page];\n        }; // Create function to fetch a page\n\n\n        const fetchPage = (pages, manual, param, previous) => {\n          if (cancelled) {\n            return Promise.reject('Cancelled');\n          }\n\n          if (typeof param === 'undefined' && !manual && pages.length) {\n            return Promise.resolve(pages);\n          }\n\n          const queryFnContext = {\n            queryKey: context.queryKey,\n            pageParam: param,\n            meta: context.options.meta\n          };\n          addSignalProperty(queryFnContext);\n          const queryFnResult = queryFn(queryFnContext);\n          const promise = Promise.resolve(queryFnResult).then(page => buildNewPages(pages, param, page, previous));\n          return promise;\n        };\n\n        let promise; // Fetch first page?\n\n        if (!oldPages.length) {\n          promise = fetchPage([]);\n        } // Fetch next page?\n        else if (isFetchingNextPage) {\n          const manual = typeof pageParam !== 'undefined';\n          const param = manual ? pageParam : getNextPageParam(context.options, oldPages);\n          promise = fetchPage(oldPages, manual, param);\n        } // Fetch previous page?\n        else if (isFetchingPreviousPage) {\n          const manual = typeof pageParam !== 'undefined';\n          const param = manual ? pageParam : getPreviousPageParam(context.options, oldPages);\n          promise = fetchPage(oldPages, manual, param, true);\n        } // Refetch pages\n        else {\n          newPageParams = [];\n          const manual = typeof context.options.getNextPageParam === 'undefined';\n          const shouldFetchFirstPage = refetchPage && oldPages[0] ? refetchPage(oldPages[0], 0, oldPages) : true; // Fetch first page\n\n          promise = shouldFetchFirstPage ? fetchPage([], manual, oldPageParams[0]) : Promise.resolve(buildNewPages([], oldPageParams[0], oldPages[0])); // Fetch remaining pages\n\n          for (let i = 1; i < oldPages.length; i++) {\n            promise = promise.then(pages => {\n              const shouldFetchNextPage = refetchPage && oldPages[i] ? refetchPage(oldPages[i], i, oldPages) : true;\n\n              if (shouldFetchNextPage) {\n                const param = manual ? oldPageParams[i] : getNextPageParam(context.options, pages);\n                return fetchPage(pages, manual, param);\n              }\n\n              return Promise.resolve(buildNewPages(pages, oldPageParams[i], oldPages[i]));\n            });\n          }\n        }\n\n        const finalPromise = promise.then(pages => ({\n          pages,\n          pageParams: newPageParams\n        }));\n        return finalPromise;\n      };\n    }\n  };\n}\nfunction getNextPageParam(options, pages) {\n  return options.getNextPageParam == null ? void 0 : options.getNextPageParam(pages[pages.length - 1], pages);\n}\nfunction getPreviousPageParam(options, pages) {\n  return options.getPreviousPageParam == null ? void 0 : options.getPreviousPageParam(pages[0], pages);\n}\n/**\n * Checks if there is a next page.\n * Returns `undefined` if it cannot be determined.\n */\n\nfunction hasNextPage(options, pages) {\n  if (options.getNextPageParam && Array.isArray(pages)) {\n    const nextPageParam = getNextPageParam(options, pages);\n    return typeof nextPageParam !== 'undefined' && nextPageParam !== null && nextPageParam !== false;\n  }\n\n  return;\n}\n/**\n * Checks if there is a previous page.\n * Returns `undefined` if it cannot be determined.\n */\n\nfunction hasPreviousPage(options, pages) {\n  if (options.getPreviousPageParam && Array.isArray(pages)) {\n    const previousPageParam = getPreviousPageParam(options, pages);\n    return typeof previousPageParam !== 'undefined' && previousPageParam !== null && previousPageParam !== false;\n  }\n\n  return;\n}\n\nexport { getNextPageParam, getPreviousPageParam, hasNextPage, hasPreviousPage, infiniteQueryBehavior };\n//# sourceMappingURL=infiniteQueryBehavior.mjs.map\n","import { parseFilterArgs, parseQueryArgs, functionalUpdate, noop, hashQueryKey, partialMatchKey, hashQueryKeyByOptions } from './utils.mjs';\nimport { QueryCache } from './queryCache.mjs';\nimport { MutationCache } from './mutationCache.mjs';\nimport { focusManager } from './focusManager.mjs';\nimport { onlineManager } from './onlineManager.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { infiniteQueryBehavior } from './infiniteQueryBehavior.mjs';\nimport { defaultLogger } from './logger.mjs';\n\n// CLASS\nclass QueryClient {\n  constructor(config = {}) {\n    this.queryCache = config.queryCache || new QueryCache();\n    this.mutationCache = config.mutationCache || new MutationCache();\n    this.logger = config.logger || defaultLogger;\n    this.defaultOptions = config.defaultOptions || {};\n    this.queryDefaults = [];\n    this.mutationDefaults = [];\n    this.mountCount = 0;\n\n    if (process.env.NODE_ENV !== 'production' && config.logger) {\n      this.logger.error(\"Passing a custom logger has been deprecated and will be removed in the next major version.\");\n    }\n  }\n\n  mount() {\n    this.mountCount++;\n    if (this.mountCount !== 1) return;\n    this.unsubscribeFocus = focusManager.subscribe(() => {\n      if (focusManager.isFocused()) {\n        this.resumePausedMutations();\n        this.queryCache.onFocus();\n      }\n    });\n    this.unsubscribeOnline = onlineManager.subscribe(() => {\n      if (onlineManager.isOnline()) {\n        this.resumePausedMutations();\n        this.queryCache.onOnline();\n      }\n    });\n  }\n\n  unmount() {\n    var _this$unsubscribeFocu, _this$unsubscribeOnli;\n\n    this.mountCount--;\n    if (this.mountCount !== 0) return;\n    (_this$unsubscribeFocu = this.unsubscribeFocus) == null ? void 0 : _this$unsubscribeFocu.call(this);\n    this.unsubscribeFocus = undefined;\n    (_this$unsubscribeOnli = this.unsubscribeOnline) == null ? void 0 : _this$unsubscribeOnli.call(this);\n    this.unsubscribeOnline = undefined;\n  }\n\n  isFetching(arg1, arg2) {\n    const [filters] = parseFilterArgs(arg1, arg2);\n    filters.fetchStatus = 'fetching';\n    return this.queryCache.findAll(filters).length;\n  }\n\n  isMutating(filters) {\n    return this.mutationCache.findAll({ ...filters,\n      fetching: true\n    }).length;\n  }\n\n  getQueryData(queryKey, filters) {\n    var _this$queryCache$find;\n\n    return (_this$queryCache$find = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find.state.data;\n  }\n\n  ensureQueryData(arg1, arg2, arg3) {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    const cachedData = this.getQueryData(parsedOptions.queryKey);\n    return cachedData ? Promise.resolve(cachedData) : this.fetchQuery(parsedOptions);\n  }\n\n  getQueriesData(queryKeyOrFilters) {\n    return this.getQueryCache().findAll(queryKeyOrFilters).map(({\n      queryKey,\n      state\n    }) => {\n      const data = state.data;\n      return [queryKey, data];\n    });\n  }\n\n  setQueryData(queryKey, updater, options) {\n    const query = this.queryCache.find(queryKey);\n    const prevData = query == null ? void 0 : query.state.data;\n    const data = functionalUpdate(updater, prevData);\n\n    if (typeof data === 'undefined') {\n      return undefined;\n    }\n\n    const parsedOptions = parseQueryArgs(queryKey);\n    const defaultedOptions = this.defaultQueryOptions(parsedOptions);\n    return this.queryCache.build(this, defaultedOptions).setData(data, { ...options,\n      manual: true\n    });\n  }\n\n  setQueriesData(queryKeyOrFilters, updater, options) {\n    return notifyManager.batch(() => this.getQueryCache().findAll(queryKeyOrFilters).map(({\n      queryKey\n    }) => [queryKey, this.setQueryData(queryKey, updater, options)]));\n  }\n\n  getQueryState(queryKey, filters) {\n    var _this$queryCache$find2;\n\n    return (_this$queryCache$find2 = this.queryCache.find(queryKey, filters)) == null ? void 0 : _this$queryCache$find2.state;\n  }\n\n  removeQueries(arg1, arg2) {\n    const [filters] = parseFilterArgs(arg1, arg2);\n    const queryCache = this.queryCache;\n    notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach(query => {\n        queryCache.remove(query);\n      });\n    });\n  }\n\n  resetQueries(arg1, arg2, arg3) {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3);\n    const queryCache = this.queryCache;\n    const refetchFilters = {\n      type: 'active',\n      ...filters\n    };\n    return notifyManager.batch(() => {\n      queryCache.findAll(filters).forEach(query => {\n        query.reset();\n      });\n      return this.refetchQueries(refetchFilters, options);\n    });\n  }\n\n  cancelQueries(arg1, arg2, arg3) {\n    const [filters, cancelOptions = {}] = parseFilterArgs(arg1, arg2, arg3);\n\n    if (typeof cancelOptions.revert === 'undefined') {\n      cancelOptions.revert = true;\n    }\n\n    const promises = notifyManager.batch(() => this.queryCache.findAll(filters).map(query => query.cancel(cancelOptions)));\n    return Promise.all(promises).then(noop).catch(noop);\n  }\n\n  invalidateQueries(arg1, arg2, arg3) {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3);\n    return notifyManager.batch(() => {\n      var _ref, _filters$refetchType;\n\n      this.queryCache.findAll(filters).forEach(query => {\n        query.invalidate();\n      });\n\n      if (filters.refetchType === 'none') {\n        return Promise.resolve();\n      }\n\n      const refetchFilters = { ...filters,\n        type: (_ref = (_filters$refetchType = filters.refetchType) != null ? _filters$refetchType : filters.type) != null ? _ref : 'active'\n      };\n      return this.refetchQueries(refetchFilters, options);\n    });\n  }\n\n  refetchQueries(arg1, arg2, arg3) {\n    const [filters, options] = parseFilterArgs(arg1, arg2, arg3);\n    const promises = notifyManager.batch(() => this.queryCache.findAll(filters).filter(query => !query.isDisabled()).map(query => {\n      var _options$cancelRefetc;\n\n      return query.fetch(undefined, { ...options,\n        cancelRefetch: (_options$cancelRefetc = options == null ? void 0 : options.cancelRefetch) != null ? _options$cancelRefetc : true,\n        meta: {\n          refetchPage: filters.refetchPage\n        }\n      });\n    }));\n    let promise = Promise.all(promises).then(noop);\n\n    if (!(options != null && options.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  }\n\n  fetchQuery(arg1, arg2, arg3) {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    const defaultedOptions = this.defaultQueryOptions(parsedOptions); // https://github.com/tannerlinsley/react-query/issues/652\n\n    if (typeof defaultedOptions.retry === 'undefined') {\n      defaultedOptions.retry = false;\n    }\n\n    const query = this.queryCache.build(this, defaultedOptions);\n    return query.isStaleByTime(defaultedOptions.staleTime) ? query.fetch(defaultedOptions) : Promise.resolve(query.state.data);\n  }\n\n  prefetchQuery(arg1, arg2, arg3) {\n    return this.fetchQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  }\n\n  fetchInfiniteQuery(arg1, arg2, arg3) {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    parsedOptions.behavior = infiniteQueryBehavior();\n    return this.fetchQuery(parsedOptions);\n  }\n\n  prefetchInfiniteQuery(arg1, arg2, arg3) {\n    return this.fetchInfiniteQuery(arg1, arg2, arg3).then(noop).catch(noop);\n  }\n\n  resumePausedMutations() {\n    return this.mutationCache.resumePausedMutations();\n  }\n\n  getQueryCache() {\n    return this.queryCache;\n  }\n\n  getMutationCache() {\n    return this.mutationCache;\n  }\n\n  getLogger() {\n    return this.logger;\n  }\n\n  getDefaultOptions() {\n    return this.defaultOptions;\n  }\n\n  setDefaultOptions(options) {\n    this.defaultOptions = options;\n  }\n\n  setQueryDefaults(queryKey, options) {\n    const result = this.queryDefaults.find(x => hashQueryKey(queryKey) === hashQueryKey(x.queryKey));\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.queryDefaults.push({\n        queryKey,\n        defaultOptions: options\n      });\n    }\n  }\n\n  getQueryDefaults(queryKey) {\n    if (!queryKey) {\n      return undefined;\n    } // Get the first matching defaults\n\n\n    const firstMatchingDefaults = this.queryDefaults.find(x => partialMatchKey(queryKey, x.queryKey)); // Additional checks and error in dev mode\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Retrieve all matching defaults for the given key\n      const matchingDefaults = this.queryDefaults.filter(x => partialMatchKey(queryKey, x.queryKey)); // It is ok not having defaults, but it is error prone to have more than 1 default for a given key\n\n      if (matchingDefaults.length > 1) {\n        this.logger.error(\"[QueryClient] Several query defaults match with key '\" + JSON.stringify(queryKey) + \"'. The first matching query defaults are used. Please check how query defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetquerydefaults.\");\n      }\n    }\n\n    return firstMatchingDefaults == null ? void 0 : firstMatchingDefaults.defaultOptions;\n  }\n\n  setMutationDefaults(mutationKey, options) {\n    const result = this.mutationDefaults.find(x => hashQueryKey(mutationKey) === hashQueryKey(x.mutationKey));\n\n    if (result) {\n      result.defaultOptions = options;\n    } else {\n      this.mutationDefaults.push({\n        mutationKey,\n        defaultOptions: options\n      });\n    }\n  }\n\n  getMutationDefaults(mutationKey) {\n    if (!mutationKey) {\n      return undefined;\n    } // Get the first matching defaults\n\n\n    const firstMatchingDefaults = this.mutationDefaults.find(x => partialMatchKey(mutationKey, x.mutationKey)); // Additional checks and error in dev mode\n\n    if (process.env.NODE_ENV !== 'production') {\n      // Retrieve all matching defaults for the given key\n      const matchingDefaults = this.mutationDefaults.filter(x => partialMatchKey(mutationKey, x.mutationKey)); // It is ok not having defaults, but it is error prone to have more than 1 default for a given key\n\n      if (matchingDefaults.length > 1) {\n        this.logger.error(\"[QueryClient] Several mutation defaults match with key '\" + JSON.stringify(mutationKey) + \"'. The first matching mutation defaults are used. Please check how mutation defaults are registered. Order does matter here. cf. https://react-query.tanstack.com/reference/QueryClient#queryclientsetmutationdefaults.\");\n      }\n    }\n\n    return firstMatchingDefaults == null ? void 0 : firstMatchingDefaults.defaultOptions;\n  }\n\n  defaultQueryOptions(options) {\n    if (options != null && options._defaulted) {\n      return options;\n    }\n\n    const defaultedOptions = { ...this.defaultOptions.queries,\n      ...this.getQueryDefaults(options == null ? void 0 : options.queryKey),\n      ...options,\n      _defaulted: true\n    };\n\n    if (!defaultedOptions.queryHash && defaultedOptions.queryKey) {\n      defaultedOptions.queryHash = hashQueryKeyByOptions(defaultedOptions.queryKey, defaultedOptions);\n    } // dependent default values\n\n\n    if (typeof defaultedOptions.refetchOnReconnect === 'undefined') {\n      defaultedOptions.refetchOnReconnect = defaultedOptions.networkMode !== 'always';\n    }\n\n    if (typeof defaultedOptions.useErrorBoundary === 'undefined') {\n      defaultedOptions.useErrorBoundary = !!defaultedOptions.suspense;\n    }\n\n    return defaultedOptions;\n  }\n\n  defaultMutationOptions(options) {\n    if (options != null && options._defaulted) {\n      return options;\n    }\n\n    return { ...this.defaultOptions.mutations,\n      ...this.getMutationDefaults(options == null ? void 0 : options.mutationKey),\n      ...options,\n      _defaulted: true\n    };\n  }\n\n  clear() {\n    this.queryCache.clear();\n    this.mutationCache.clear();\n  }\n\n}\n\nexport { QueryClient };\n//# sourceMappingURL=queryClient.mjs.map\n","import { shallowEqualObjects, noop, isServer, isValidTimeout, timeUntilStale, replaceData } from './utils.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { focusManager } from './focusManager.mjs';\nimport { Subscribable } from './subscribable.mjs';\nimport { canFetch, isCancelledError } from './retryer.mjs';\n\nclass QueryObserver extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.client = client;\n    this.options = options;\n    this.trackedProps = new Set();\n    this.selectError = null;\n    this.bindMethods();\n    this.setOptions(options);\n  }\n\n  bindMethods() {\n    this.remove = this.remove.bind(this);\n    this.refetch = this.refetch.bind(this);\n  }\n\n  onSubscribe() {\n    if (this.listeners.size === 1) {\n      this.currentQuery.addObserver(this);\n\n      if (shouldFetchOnMount(this.currentQuery, this.options)) {\n        this.executeFetch();\n      }\n\n      this.updateTimers();\n    }\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      this.destroy();\n    }\n  }\n\n  shouldFetchOnReconnect() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnReconnect);\n  }\n\n  shouldFetchOnWindowFocus() {\n    return shouldFetchOn(this.currentQuery, this.options, this.options.refetchOnWindowFocus);\n  }\n\n  destroy() {\n    this.listeners = new Set();\n    this.clearStaleTimeout();\n    this.clearRefetchInterval();\n    this.currentQuery.removeObserver(this);\n  }\n\n  setOptions(options, notifyOptions) {\n    const prevOptions = this.options;\n    const prevQuery = this.currentQuery;\n    this.options = this.client.defaultQueryOptions(options);\n\n    if (process.env.NODE_ENV !== 'production' && typeof (options == null ? void 0 : options.isDataEqual) !== 'undefined') {\n      this.client.getLogger().error(\"The isDataEqual option has been deprecated and will be removed in the next major version. You can achieve the same functionality by passing a function as the structuralSharing option\");\n    }\n\n    if (!shallowEqualObjects(prevOptions, this.options)) {\n      this.client.getQueryCache().notify({\n        type: 'observerOptionsUpdated',\n        query: this.currentQuery,\n        observer: this\n      });\n    }\n\n    if (typeof this.options.enabled !== 'undefined' && typeof this.options.enabled !== 'boolean') {\n      throw new Error('Expected enabled to be a boolean');\n    } // Keep previous query key if the user does not supply one\n\n\n    if (!this.options.queryKey) {\n      this.options.queryKey = prevOptions.queryKey;\n    }\n\n    this.updateQuery();\n    const mounted = this.hasListeners(); // Fetch if there are subscribers\n\n    if (mounted && shouldFetchOptionally(this.currentQuery, prevQuery, this.options, prevOptions)) {\n      this.executeFetch();\n    } // Update result\n\n\n    this.updateResult(notifyOptions); // Update stale interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || this.options.staleTime !== prevOptions.staleTime)) {\n      this.updateStaleTimeout();\n    }\n\n    const nextRefetchInterval = this.computeRefetchInterval(); // Update refetch interval if needed\n\n    if (mounted && (this.currentQuery !== prevQuery || this.options.enabled !== prevOptions.enabled || nextRefetchInterval !== this.currentRefetchInterval)) {\n      this.updateRefetchInterval(nextRefetchInterval);\n    }\n  }\n\n  getOptimisticResult(options) {\n    const query = this.client.getQueryCache().build(this.client, options);\n    const result = this.createResult(query, options);\n\n    if (shouldAssignObserverCurrentProperties(this, result, options)) {\n      // this assigns the optimistic result to the current Observer\n      // because if the query function changes, useQuery will be performing\n      // an effect where it would fetch again.\n      // When the fetch finishes, we perform a deep data cloning in order\n      // to reuse objects references. This deep data clone is performed against\n      // the `observer.currentResult.data` property\n      // When QueryKey changes, we refresh the query and get new `optimistic`\n      // result, while we leave the `observer.currentResult`, so when new data\n      // arrives, it finds the old `observer.currentResult` which is related\n      // to the old QueryKey. Which means that currentResult and selectData are\n      // out of sync already.\n      // To solve this, we move the cursor of the currentResult everytime\n      // an observer reads an optimistic value.\n      // When keeping the previous data, the result doesn't change until new\n      // data arrives.\n      this.currentResult = result;\n      this.currentResultOptions = this.options;\n      this.currentResultState = this.currentQuery.state;\n    }\n\n    return result;\n  }\n\n  getCurrentResult() {\n    return this.currentResult;\n  }\n\n  trackResult(result) {\n    const trackedResult = {};\n    Object.keys(result).forEach(key => {\n      Object.defineProperty(trackedResult, key, {\n        configurable: false,\n        enumerable: true,\n        get: () => {\n          this.trackedProps.add(key);\n          return result[key];\n        }\n      });\n    });\n    return trackedResult;\n  }\n\n  getCurrentQuery() {\n    return this.currentQuery;\n  }\n\n  remove() {\n    this.client.getQueryCache().remove(this.currentQuery);\n  }\n\n  refetch({\n    refetchPage,\n    ...options\n  } = {}) {\n    return this.fetch({ ...options,\n      meta: {\n        refetchPage\n      }\n    });\n  }\n\n  fetchOptimistic(options) {\n    const defaultedOptions = this.client.defaultQueryOptions(options);\n    const query = this.client.getQueryCache().build(this.client, defaultedOptions);\n    query.isFetchingOptimistic = true;\n    return query.fetch().then(() => this.createResult(query, defaultedOptions));\n  }\n\n  fetch(fetchOptions) {\n    var _fetchOptions$cancelR;\n\n    return this.executeFetch({ ...fetchOptions,\n      cancelRefetch: (_fetchOptions$cancelR = fetchOptions.cancelRefetch) != null ? _fetchOptions$cancelR : true\n    }).then(() => {\n      this.updateResult();\n      return this.currentResult;\n    });\n  }\n\n  executeFetch(fetchOptions) {\n    // Make sure we reference the latest query as the current one might have been removed\n    this.updateQuery(); // Fetch\n\n    let promise = this.currentQuery.fetch(this.options, fetchOptions);\n\n    if (!(fetchOptions != null && fetchOptions.throwOnError)) {\n      promise = promise.catch(noop);\n    }\n\n    return promise;\n  }\n\n  updateStaleTimeout() {\n    this.clearStaleTimeout();\n\n    if (isServer || this.currentResult.isStale || !isValidTimeout(this.options.staleTime)) {\n      return;\n    }\n\n    const time = timeUntilStale(this.currentResult.dataUpdatedAt, this.options.staleTime); // The timeout is sometimes triggered 1 ms before the stale time expiration.\n    // To mitigate this issue we always add 1 ms to the timeout.\n\n    const timeout = time + 1;\n    this.staleTimeoutId = setTimeout(() => {\n      if (!this.currentResult.isStale) {\n        this.updateResult();\n      }\n    }, timeout);\n  }\n\n  computeRefetchInterval() {\n    var _this$options$refetch;\n\n    return typeof this.options.refetchInterval === 'function' ? this.options.refetchInterval(this.currentResult.data, this.currentQuery) : (_this$options$refetch = this.options.refetchInterval) != null ? _this$options$refetch : false;\n  }\n\n  updateRefetchInterval(nextInterval) {\n    this.clearRefetchInterval();\n    this.currentRefetchInterval = nextInterval;\n\n    if (isServer || this.options.enabled === false || !isValidTimeout(this.currentRefetchInterval) || this.currentRefetchInterval === 0) {\n      return;\n    }\n\n    this.refetchIntervalId = setInterval(() => {\n      if (this.options.refetchIntervalInBackground || focusManager.isFocused()) {\n        this.executeFetch();\n      }\n    }, this.currentRefetchInterval);\n  }\n\n  updateTimers() {\n    this.updateStaleTimeout();\n    this.updateRefetchInterval(this.computeRefetchInterval());\n  }\n\n  clearStaleTimeout() {\n    if (this.staleTimeoutId) {\n      clearTimeout(this.staleTimeoutId);\n      this.staleTimeoutId = undefined;\n    }\n  }\n\n  clearRefetchInterval() {\n    if (this.refetchIntervalId) {\n      clearInterval(this.refetchIntervalId);\n      this.refetchIntervalId = undefined;\n    }\n  }\n\n  createResult(query, options) {\n    const prevQuery = this.currentQuery;\n    const prevOptions = this.options;\n    const prevResult = this.currentResult;\n    const prevResultState = this.currentResultState;\n    const prevResultOptions = this.currentResultOptions;\n    const queryChange = query !== prevQuery;\n    const queryInitialState = queryChange ? query.state : this.currentQueryInitialState;\n    const prevQueryResult = queryChange ? this.currentResult : this.previousQueryResult;\n    const {\n      state\n    } = query;\n    let {\n      dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      fetchStatus,\n      status\n    } = state;\n    let isPreviousData = false;\n    let isPlaceholderData = false;\n    let data; // Optimistically set result in fetching state if needed\n\n    if (options._optimisticResults) {\n      const mounted = this.hasListeners();\n      const fetchOnMount = !mounted && shouldFetchOnMount(query, options);\n      const fetchOptionally = mounted && shouldFetchOptionally(query, prevQuery, options, prevOptions);\n\n      if (fetchOnMount || fetchOptionally) {\n        fetchStatus = canFetch(query.options.networkMode) ? 'fetching' : 'paused';\n\n        if (!dataUpdatedAt) {\n          status = 'loading';\n        }\n      }\n\n      if (options._optimisticResults === 'isRestoring') {\n        fetchStatus = 'idle';\n      }\n    } // Keep previous data if needed\n\n\n    if (options.keepPreviousData && !state.dataUpdatedAt && prevQueryResult != null && prevQueryResult.isSuccess && status !== 'error') {\n      data = prevQueryResult.data;\n      dataUpdatedAt = prevQueryResult.dataUpdatedAt;\n      status = prevQueryResult.status;\n      isPreviousData = true;\n    } // Select data if needed\n    else if (options.select && typeof state.data !== 'undefined') {\n      // Memoize select result\n      if (prevResult && state.data === (prevResultState == null ? void 0 : prevResultState.data) && options.select === this.selectFn) {\n        data = this.selectResult;\n      } else {\n        try {\n          this.selectFn = options.select;\n          data = options.select(state.data);\n          data = replaceData(prevResult == null ? void 0 : prevResult.data, data, options);\n          this.selectResult = data;\n          this.selectError = null;\n        } catch (selectError) {\n          if (process.env.NODE_ENV !== 'production') {\n            this.client.getLogger().error(selectError);\n          }\n\n          this.selectError = selectError;\n        }\n      }\n    } // Use query data\n    else {\n      data = state.data;\n    } // Show placeholder data if needed\n\n\n    if (typeof options.placeholderData !== 'undefined' && typeof data === 'undefined' && status === 'loading') {\n      let placeholderData; // Memoize placeholder data\n\n      if (prevResult != null && prevResult.isPlaceholderData && options.placeholderData === (prevResultOptions == null ? void 0 : prevResultOptions.placeholderData)) {\n        placeholderData = prevResult.data;\n      } else {\n        placeholderData = typeof options.placeholderData === 'function' ? options.placeholderData() : options.placeholderData;\n\n        if (options.select && typeof placeholderData !== 'undefined') {\n          try {\n            placeholderData = options.select(placeholderData);\n            this.selectError = null;\n          } catch (selectError) {\n            if (process.env.NODE_ENV !== 'production') {\n              this.client.getLogger().error(selectError);\n            }\n\n            this.selectError = selectError;\n          }\n        }\n      }\n\n      if (typeof placeholderData !== 'undefined') {\n        status = 'success';\n        data = replaceData(prevResult == null ? void 0 : prevResult.data, placeholderData, options);\n        isPlaceholderData = true;\n      }\n    }\n\n    if (this.selectError) {\n      error = this.selectError;\n      data = this.selectResult;\n      errorUpdatedAt = Date.now();\n      status = 'error';\n    }\n\n    const isFetching = fetchStatus === 'fetching';\n    const isLoading = status === 'loading';\n    const isError = status === 'error';\n    const result = {\n      status,\n      fetchStatus,\n      isLoading,\n      isSuccess: status === 'success',\n      isError,\n      isInitialLoading: isLoading && isFetching,\n      data,\n      dataUpdatedAt,\n      error,\n      errorUpdatedAt,\n      failureCount: state.fetchFailureCount,\n      failureReason: state.fetchFailureReason,\n      errorUpdateCount: state.errorUpdateCount,\n      isFetched: state.dataUpdateCount > 0 || state.errorUpdateCount > 0,\n      isFetchedAfterMount: state.dataUpdateCount > queryInitialState.dataUpdateCount || state.errorUpdateCount > queryInitialState.errorUpdateCount,\n      isFetching,\n      isRefetching: isFetching && !isLoading,\n      isLoadingError: isError && state.dataUpdatedAt === 0,\n      isPaused: fetchStatus === 'paused',\n      isPlaceholderData,\n      isPreviousData,\n      isRefetchError: isError && state.dataUpdatedAt !== 0,\n      isStale: isStale(query, options),\n      refetch: this.refetch,\n      remove: this.remove\n    };\n    return result;\n  }\n\n  updateResult(notifyOptions) {\n    const prevResult = this.currentResult;\n    const nextResult = this.createResult(this.currentQuery, this.options);\n    this.currentResultState = this.currentQuery.state;\n    this.currentResultOptions = this.options; // Only notify and update result if something has changed\n\n    if (shallowEqualObjects(nextResult, prevResult)) {\n      return;\n    }\n\n    this.currentResult = nextResult; // Determine which callbacks to trigger\n\n    const defaultNotifyOptions = {\n      cache: true\n    };\n\n    const shouldNotifyListeners = () => {\n      if (!prevResult) {\n        return true;\n      }\n\n      const {\n        notifyOnChangeProps\n      } = this.options;\n\n      if (notifyOnChangeProps === 'all' || !notifyOnChangeProps && !this.trackedProps.size) {\n        return true;\n      }\n\n      const includedProps = new Set(notifyOnChangeProps != null ? notifyOnChangeProps : this.trackedProps);\n\n      if (this.options.useErrorBoundary) {\n        includedProps.add('error');\n      }\n\n      return Object.keys(this.currentResult).some(key => {\n        const typedKey = key;\n        const changed = this.currentResult[typedKey] !== prevResult[typedKey];\n        return changed && includedProps.has(typedKey);\n      });\n    };\n\n    if ((notifyOptions == null ? void 0 : notifyOptions.listeners) !== false && shouldNotifyListeners()) {\n      defaultNotifyOptions.listeners = true;\n    }\n\n    this.notify({ ...defaultNotifyOptions,\n      ...notifyOptions\n    });\n  }\n\n  updateQuery() {\n    const query = this.client.getQueryCache().build(this.client, this.options);\n\n    if (query === this.currentQuery) {\n      return;\n    }\n\n    const prevQuery = this.currentQuery;\n    this.currentQuery = query;\n    this.currentQueryInitialState = query.state;\n    this.previousQueryResult = this.currentResult;\n\n    if (this.hasListeners()) {\n      prevQuery == null ? void 0 : prevQuery.removeObserver(this);\n      query.addObserver(this);\n    }\n  }\n\n  onQueryUpdate(action) {\n    const notifyOptions = {};\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = !action.manual;\n    } else if (action.type === 'error' && !isCancelledError(action.error)) {\n      notifyOptions.onError = true;\n    }\n\n    this.updateResult(notifyOptions);\n\n    if (this.hasListeners()) {\n      this.updateTimers();\n    }\n  }\n\n  notify(notifyOptions) {\n    notifyManager.batch(() => {\n      // First trigger the configuration callbacks\n      if (notifyOptions.onSuccess) {\n        var _this$options$onSucce, _this$options, _this$options$onSettl, _this$options2;\n\n        (_this$options$onSucce = (_this$options = this.options).onSuccess) == null ? void 0 : _this$options$onSucce.call(_this$options, this.currentResult.data);\n        (_this$options$onSettl = (_this$options2 = this.options).onSettled) == null ? void 0 : _this$options$onSettl.call(_this$options2, this.currentResult.data, null);\n      } else if (notifyOptions.onError) {\n        var _this$options$onError, _this$options3, _this$options$onSettl2, _this$options4;\n\n        (_this$options$onError = (_this$options3 = this.options).onError) == null ? void 0 : _this$options$onError.call(_this$options3, this.currentResult.error);\n        (_this$options$onSettl2 = (_this$options4 = this.options).onSettled) == null ? void 0 : _this$options$onSettl2.call(_this$options4, undefined, this.currentResult.error);\n      } // Then trigger the listeners\n\n\n      if (notifyOptions.listeners) {\n        this.listeners.forEach(({\n          listener\n        }) => {\n          listener(this.currentResult);\n        });\n      } // Then the cache listeners\n\n\n      if (notifyOptions.cache) {\n        this.client.getQueryCache().notify({\n          query: this.currentQuery,\n          type: 'observerResultsUpdated'\n        });\n      }\n    });\n  }\n\n}\n\nfunction shouldLoadOnMount(query, options) {\n  return options.enabled !== false && !query.state.dataUpdatedAt && !(query.state.status === 'error' && options.retryOnMount === false);\n}\n\nfunction shouldFetchOnMount(query, options) {\n  return shouldLoadOnMount(query, options) || query.state.dataUpdatedAt > 0 && shouldFetchOn(query, options, options.refetchOnMount);\n}\n\nfunction shouldFetchOn(query, options, field) {\n  if (options.enabled !== false) {\n    const value = typeof field === 'function' ? field(query) : field;\n    return value === 'always' || value !== false && isStale(query, options);\n  }\n\n  return false;\n}\n\nfunction shouldFetchOptionally(query, prevQuery, options, prevOptions) {\n  return options.enabled !== false && (query !== prevQuery || prevOptions.enabled === false) && (!options.suspense || query.state.status !== 'error') && isStale(query, options);\n}\n\nfunction isStale(query, options) {\n  return query.isStaleByTime(options.staleTime);\n} // this function would decide if we will update the observer's 'current'\n// properties after an optimistic reading via getOptimisticResult\n\n\nfunction shouldAssignObserverCurrentProperties(observer, optimisticResult, options) {\n  // it is important to keep this condition like this for three reasons:\n  // 1. It will get removed in the v5\n  // 2. it reads: don't update the properties if we want to keep the previous\n  // data.\n  // 3. The opposite condition (!options.keepPreviousData) would fallthrough\n  // and will result in a bad decision\n  if (options.keepPreviousData) {\n    return false;\n  } // this means we want to put some placeholder data when pending and queryKey\n  // changed.\n\n\n  if (options.placeholderData !== undefined) {\n    // re-assign properties only if current data is placeholder data\n    // which means that data did not arrive yet, so, if there is some cached data\n    // we need to \"prepare\" to receive it\n    return optimisticResult.isPlaceholderData;\n  } // if the newly created result isn't what the observer is holding as current,\n  // then we'll need to update the properties as well\n\n\n  if (observer.getCurrentResult() !== optimisticResult) {\n    return true;\n  } // basically, just keep previous properties if nothing changed\n\n\n  return false;\n}\n\nexport { QueryObserver };\n//# sourceMappingURL=queryObserver.mjs.map\n","import { getDefaultState } from './mutation.mjs';\nimport { notifyManager } from './notifyManager.mjs';\nimport { Subscribable } from './subscribable.mjs';\nimport { shallowEqualObjects } from './utils.mjs';\n\n// CLASS\nclass MutationObserver extends Subscribable {\n  constructor(client, options) {\n    super();\n    this.client = client;\n    this.setOptions(options);\n    this.bindMethods();\n    this.updateResult();\n  }\n\n  bindMethods() {\n    this.mutate = this.mutate.bind(this);\n    this.reset = this.reset.bind(this);\n  }\n\n  setOptions(options) {\n    var _this$currentMutation;\n\n    const prevOptions = this.options;\n    this.options = this.client.defaultMutationOptions(options);\n\n    if (!shallowEqualObjects(prevOptions, this.options)) {\n      this.client.getMutationCache().notify({\n        type: 'observerOptionsUpdated',\n        mutation: this.currentMutation,\n        observer: this\n      });\n    }\n\n    (_this$currentMutation = this.currentMutation) == null ? void 0 : _this$currentMutation.setOptions(this.options);\n  }\n\n  onUnsubscribe() {\n    if (!this.hasListeners()) {\n      var _this$currentMutation2;\n\n      (_this$currentMutation2 = this.currentMutation) == null ? void 0 : _this$currentMutation2.removeObserver(this);\n    }\n  }\n\n  onMutationUpdate(action) {\n    this.updateResult(); // Determine which callbacks to trigger\n\n    const notifyOptions = {\n      listeners: true\n    };\n\n    if (action.type === 'success') {\n      notifyOptions.onSuccess = true;\n    } else if (action.type === 'error') {\n      notifyOptions.onError = true;\n    }\n\n    this.notify(notifyOptions);\n  }\n\n  getCurrentResult() {\n    return this.currentResult;\n  }\n\n  reset() {\n    this.currentMutation = undefined;\n    this.updateResult();\n    this.notify({\n      listeners: true\n    });\n  }\n\n  mutate(variables, options) {\n    this.mutateOptions = options;\n\n    if (this.currentMutation) {\n      this.currentMutation.removeObserver(this);\n    }\n\n    this.currentMutation = this.client.getMutationCache().build(this.client, { ...this.options,\n      variables: typeof variables !== 'undefined' ? variables : this.options.variables\n    });\n    this.currentMutation.addObserver(this);\n    return this.currentMutation.execute();\n  }\n\n  updateResult() {\n    const state = this.currentMutation ? this.currentMutation.state : getDefaultState();\n    const result = { ...state,\n      isLoading: state.status === 'loading',\n      isSuccess: state.status === 'success',\n      isError: state.status === 'error',\n      isIdle: state.status === 'idle',\n      mutate: this.mutate,\n      reset: this.reset\n    };\n    this.currentResult = result;\n  }\n\n  notify(options) {\n    notifyManager.batch(() => {\n      // First trigger the mutate callbacks\n      if (this.mutateOptions && this.hasListeners()) {\n        if (options.onSuccess) {\n          var _this$mutateOptions$o, _this$mutateOptions, _this$mutateOptions$o2, _this$mutateOptions2;\n\n          (_this$mutateOptions$o = (_this$mutateOptions = this.mutateOptions).onSuccess) == null ? void 0 : _this$mutateOptions$o.call(_this$mutateOptions, this.currentResult.data, this.currentResult.variables, this.currentResult.context);\n          (_this$mutateOptions$o2 = (_this$mutateOptions2 = this.mutateOptions).onSettled) == null ? void 0 : _this$mutateOptions$o2.call(_this$mutateOptions2, this.currentResult.data, null, this.currentResult.variables, this.currentResult.context);\n        } else if (options.onError) {\n          var _this$mutateOptions$o3, _this$mutateOptions3, _this$mutateOptions$o4, _this$mutateOptions4;\n\n          (_this$mutateOptions$o3 = (_this$mutateOptions3 = this.mutateOptions).onError) == null ? void 0 : _this$mutateOptions$o3.call(_this$mutateOptions3, this.currentResult.error, this.currentResult.variables, this.currentResult.context);\n          (_this$mutateOptions$o4 = (_this$mutateOptions4 = this.mutateOptions).onSettled) == null ? void 0 : _this$mutateOptions$o4.call(_this$mutateOptions4, undefined, this.currentResult.error, this.currentResult.variables, this.currentResult.context);\n        }\n      } // Then trigger the listeners\n\n\n      if (options.listeners) {\n        this.listeners.forEach(({\n          listener\n        }) => {\n          listener(this.currentResult);\n        });\n      }\n    });\n  }\n\n}\n\nexport { MutationObserver };\n//# sourceMappingURL=mutationObserver.mjs.map\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('../cjs/use-sync-external-store-shim.production.js');\n} else {\n  module.exports = require('../cjs/use-sync-external-store-shim.development.js');\n}\n","/**\n * @license React\n * use-sync-external-store-shim.production.js\n *\n * Copyright (c) Meta Platforms, Inc. and affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\"use strict\";\nvar React = require(\"react\");\nfunction is(x, y) {\n  return (x === y && (0 !== x || 1 / x === 1 / y)) || (x !== x && y !== y);\n}\nvar objectIs = \"function\" === typeof Object.is ? Object.is : is,\n  useState = React.useState,\n  useEffect = React.useEffect,\n  useLayoutEffect = React.useLayoutEffect,\n  useDebugValue = React.useDebugValue;\nfunction useSyncExternalStore$2(subscribe, getSnapshot) {\n  var value = getSnapshot(),\n    _useState = useState({ inst: { value: value, getSnapshot: getSnapshot } }),\n    inst = _useState[0].inst,\n    forceUpdate = _useState[1];\n  useLayoutEffect(\n    function () {\n      inst.value = value;\n      inst.getSnapshot = getSnapshot;\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n    },\n    [subscribe, value, getSnapshot]\n  );\n  useEffect(\n    function () {\n      checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      return subscribe(function () {\n        checkIfSnapshotChanged(inst) && forceUpdate({ inst: inst });\n      });\n    },\n    [subscribe]\n  );\n  useDebugValue(value);\n  return value;\n}\nfunction checkIfSnapshotChanged(inst) {\n  var latestGetSnapshot = inst.getSnapshot;\n  inst = inst.value;\n  try {\n    var nextValue = latestGetSnapshot();\n    return !objectIs(inst, nextValue);\n  } catch (error) {\n    return !0;\n  }\n}\nfunction useSyncExternalStore$1(subscribe, getSnapshot) {\n  return getSnapshot();\n}\nvar shim =\n  \"undefined\" === typeof window ||\n  \"undefined\" === typeof window.document ||\n  \"undefined\" === typeof window.document.createElement\n    ? useSyncExternalStore$1\n    : useSyncExternalStore$2;\nexports.useSyncExternalStore =\n  void 0 !== React.useSyncExternalStore ? React.useSyncExternalStore : shim;\n","\"use client\";\n// Temporary workaround due to an issue with react-native uSES - https://github.com/TanStack/query/pull/3601\nimport { useSyncExternalStore as uSES } from \"use-sync-external-store/shim/index.js\";\nexport const useSyncExternalStore = uSES;\n//# sourceMappingURL=useSyncExternalStore.js.map","\"use client\";\nimport * as React from \"react\";\nimport { useSignalOfState } from \"@preact-signals/utils/hooks\";\nexport const defaultContext = React.createContext(undefined);\n// export const signalContext = React.createContext<\n//   ReadonlySignal<QueryClient> | undefined\n// >(undefined);\nconst QueryClientSharingContext = React.createContext(false);\n// If we are given a context, we will use it.\n// Otherwise, if contextSharing is on, we share the first and at least one\n// instance of the context across the window\n// to ensure that if React Query is used across\n// different bundles or microfrontends they will\n// all use the same **instance** of context, regardless\n// of module scoping.\nfunction getQueryClientContext(context, contextSharing) {\n    if (context) {\n        return context;\n    }\n    if (contextSharing && typeof window !== \"undefined\") {\n        if (!window.ReactQueryClientContext) {\n            window.ReactQueryClientContext = defaultContext;\n        }\n        return window.ReactQueryClientContext;\n    }\n    return defaultContext;\n}\nexport const useQueryClient = ({ context } = {}) => {\n    const queryClient = React.useContext(getQueryClientContext(context, React.useContext(QueryClientSharingContext)));\n    if (!queryClient) {\n        throw new Error(\"No QueryClient set, use QueryClientProvider to set one\");\n    }\n    return queryClient;\n};\nexport const useQueryClient$ = (options) => useSignalOfState(useQueryClient(options));\nexport const QueryClientProvider = ({ client, children, context, contextSharing = false, }) => {\n    React.useEffect(() => {\n        client.mount();\n        return () => {\n            client.unmount();\n        };\n    }, [client]);\n    if (process.env.NODE_ENV !== \"production\" && contextSharing) {\n        client\n            .getLogger()\n            .error(`The contextSharing option has been deprecated and will be removed in the next major version`);\n    }\n    // const $client = useSignalOfState(client);\n    // const $context = useSignalOfState(context);\n    // const $contextSharing = useSignalOfState(contextSharing);\n    const Context = getQueryClientContext(context, contextSharing);\n    return (React.createElement(QueryClientSharingContext.Provider, { value: !context && contextSharing },\n        React.createElement(Context.Provider, { value: client }, children)));\n};\n//# sourceMappingURL=QueryClientProvider.js.map","\"use client\";\nimport { useSignalContext } from \"@preact-signals/utils/hooks\";\nimport * as React from \"react\";\nconst IsRestoringContext = React.createContext(false);\nexport const useIsRestoring$ = () => useSignalContext(IsRestoringContext);\nexport const useIsRestoring = () => React.useContext(IsRestoringContext);\nexport const IsRestoringProvider = IsRestoringContext.Provider;\n//# sourceMappingURL=isRestoring.js.map","\"use client\";\nimport { useSignalContext } from \"@preact-signals/utils/hooks\";\nimport * as React from \"react\";\nfunction createValue() {\n    let isReset = false;\n    return {\n        clearReset: () => {\n            isReset = false;\n        },\n        reset: () => {\n            isReset = true;\n        },\n        isReset: () => {\n            return isReset;\n        },\n    };\n}\nconst QueryErrorResetBoundaryContext = React.createContext(createValue());\n// HOOK\nexport const useQueryErrorResetBoundary$ = () => useSignalContext(QueryErrorResetBoundaryContext);\nexport const useQueryErrorResetBoundary = () => React.useContext(QueryErrorResetBoundaryContext);\nexport const QueryErrorResetBoundary = ({ children, }) => {\n    const [value] = React.useState(() => createValue());\n    return (React.createElement(QueryErrorResetBoundaryContext.Provider, { value: value }, typeof children === \"function\"\n        ? children(value)\n        : children));\n};\n//# sourceMappingURL=QueryErrorResetBoundary.js.map","export function shouldThrowError(_useErrorBoundary, params) {\n    // Allow useErrorBoundary function to override throwing behavior on a per-error basis\n    if (typeof _useErrorBoundary === 'function') {\n        return _useErrorBoundary(...params);\n    }\n    return !!_useErrorBoundary;\n}\n//# sourceMappingURL=utils.js.map","\"use client\";\nimport { useSignalEffectOnce, useSignalOfReactive, } from \"@preact-signals/utils/hooks\";\nimport * as React from \"react\";\nimport { shouldThrowError } from \"./utils\";\nexport const ensurePreventErrorBoundaryRetry = (options, errorResetBoundary) => {\n    if (options.suspense || options.useErrorBoundary) {\n        // Prevent retrying failed query if the error boundary has not been reset yet\n        if (!errorResetBoundary.isReset()) {\n            options.retryOnMount = false;\n        }\n    }\n};\nexport const useClearResetErrorBoundary = (errorResetBoundary) => {\n    React.useEffect(() => {\n        errorResetBoundary.clearReset();\n    }, [errorResetBoundary]);\n};\nexport const useClearResetErrorBoundary$ = (errorResetBoundary) => {\n    const $boundary = useSignalOfReactive(errorResetBoundary);\n    useSignalEffectOnce(() => {\n        $boundary.value.clearReset();\n    });\n};\nexport const getHasError = ({ result, errorResetBoundary, useErrorBoundary, query, }) => {\n    return (result.isError &&\n        !errorResetBoundary.isReset() &&\n        !result.isFetching &&\n        shouldThrowError(useErrorBoundary, [result.error, query]));\n};\n//# sourceMappingURL=errorBoundaryUtils.js.map","export const ensureStaleTime = (defaultedOptions) => {\n    if (defaultedOptions.suspense) {\n        // Always set stale time when using suspense to prevent\n        // fetching again when directly mounting after suspending\n        if (typeof defaultedOptions.staleTime !== 'number') {\n            defaultedOptions.staleTime = 1000;\n        }\n    }\n};\nexport const willFetch = (result, isRestoring) => result.isLoading && result.isFetching && !isRestoring;\nexport const shouldSuspend = (defaultedOptions, result, isRestoring) => defaultedOptions?.suspense && willFetch(result, isRestoring);\nexport const fetchOptimistic = (defaultedOptions, observer, errorResetBoundary) => observer\n    .fetchOptimistic(defaultedOptions)\n    .then(({ data }) => {\n    defaultedOptions.onSuccess?.(data);\n    defaultedOptions.onSettled?.(data, null);\n})\n    .catch((error) => {\n    errorResetBoundary.clearReset();\n    defaultedOptions.onError?.(error);\n    defaultedOptions.onSettled?.(undefined, error);\n});\n//# sourceMappingURL=suspense.js.map","'use client';\nimport { parseQueryArgs, QueryObserver } from '@tanstack/query-core';\nimport { useBaseQuery } from './useBaseQuery';\nexport function useQuery(arg1, arg2, arg3) {\n    const parsedOptions = parseQueryArgs(arg1, arg2, arg3);\n    return useBaseQuery(parsedOptions, QueryObserver);\n}\n//# sourceMappingURL=useQuery.js.map","\"use client\";\nimport * as React from \"react\";\nimport { useSyncExternalStore } from \"./useSyncExternalStore\";\nimport { notifyManager } from \"@tanstack/query-core\";\nimport { useQueryClient } from \"./QueryClientProvider\";\nimport { useQueryErrorResetBoundary } from \"./QueryErrorResetBoundary\";\nimport { ensurePreventErrorBoundaryRetry, getHasError, useClearResetErrorBoundary, } from \"./errorBoundaryUtils\";\nimport { useIsRestoring } from \"./isRestoring\";\nimport { ensureStaleTime, fetchOptimistic, shouldSuspend } from \"./suspense\";\nexport function useBaseQuery(options, Observer) {\n    const queryClient = useQueryClient({ context: options.context });\n    const isRestoring = useIsRestoring();\n    const errorResetBoundary = useQueryErrorResetBoundary();\n    const defaultedOptions = queryClient.defaultQueryOptions(options);\n    // Make sure results are optimistically set in fetching state before subscribing or updating options\n    defaultedOptions._optimisticResults = isRestoring\n        ? \"isRestoring\"\n        : \"optimistic\";\n    // Include callbacks in batch renders\n    if (defaultedOptions.onError) {\n        defaultedOptions.onError = notifyManager.batchCalls(defaultedOptions.onError);\n    }\n    if (defaultedOptions.onSuccess) {\n        defaultedOptions.onSuccess = notifyManager.batchCalls(defaultedOptions.onSuccess);\n    }\n    if (defaultedOptions.onSettled) {\n        defaultedOptions.onSettled = notifyManager.batchCalls(defaultedOptions.onSettled);\n    }\n    ensureStaleTime(defaultedOptions);\n    ensurePreventErrorBoundaryRetry(defaultedOptions, errorResetBoundary);\n    useClearResetErrorBoundary(errorResetBoundary);\n    const [observer] = React.useState(() => new Observer(queryClient, defaultedOptions));\n    const result = observer.getOptimisticResult(defaultedOptions);\n    useSyncExternalStore(React.useCallback((onStoreChange) => {\n        const unsubscribe = isRestoring\n            ? () => undefined\n            : observer.subscribe(notifyManager.batchCalls(onStoreChange));\n        // Update result to make sure we did not miss any query updates\n        // between creating the observer and subscribing to it.\n        observer.updateResult();\n        return unsubscribe;\n    }, [observer, isRestoring]), () => observer.getCurrentResult(), () => observer.getCurrentResult());\n    React.useEffect(() => {\n        // Do not notify on updates because of changes in the options because\n        // these changes should already be reflected in the optimistic result.\n        observer.setOptions(defaultedOptions, { listeners: false });\n    }, [defaultedOptions, observer]);\n    // Handle suspense\n    if (shouldSuspend(defaultedOptions, result, isRestoring)) {\n        throw fetchOptimistic(defaultedOptions, observer, errorResetBoundary);\n    }\n    // Handle error boundary\n    if (getHasError({\n        result,\n        errorResetBoundary,\n        useErrorBoundary: defaultedOptions.useErrorBoundary,\n        query: observer.getCurrentQuery(),\n    })) {\n        throw result.error;\n    }\n    // Handle result property usage tracking\n    return !defaultedOptions.notifyOnChangeProps\n        ? observer.trackResult(result)\n        : result;\n}\n//# sourceMappingURL=useBaseQuery.js.map","'use client';\nimport * as React from 'react';\nimport { useSyncExternalStore } from './useSyncExternalStore';\nimport { notifyManager, parseMutationArgs, MutationObserver, } from '@tanstack/query-core';\nimport { useQueryClient } from './QueryClientProvider';\nimport { shouldThrowError } from './utils';\nexport function useMutation(arg1, arg2, arg3) {\n    const options = parseMutationArgs(arg1, arg2, arg3);\n    const queryClient = useQueryClient({ context: options.context });\n    const [observer] = React.useState(() => new MutationObserver(queryClient, options));\n    React.useEffect(() => {\n        observer.setOptions(options);\n    }, [observer, options]);\n    const result = useSyncExternalStore(React.useCallback((onStoreChange) => observer.subscribe(notifyManager.batchCalls(onStoreChange)), [observer]), () => observer.getCurrentResult(), () => observer.getCurrentResult());\n    const mutate = React.useCallback((variables, mutateOptions) => {\n        observer.mutate(variables, mutateOptions).catch(noop);\n    }, [observer]);\n    if (result.error &&\n        shouldThrowError(observer.options.useErrorBoundary, [result.error])) {\n        throw result.error;\n    }\n    return { ...result, mutate, mutateAsync: result.mutate };\n}\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nfunction noop() { }\n//# sourceMappingURL=useMutation.js.map","/**\n * LightNVR Web Interface Fetch Utilities\n * Enhanced fetch API with timeout, cancellation, and retry capabilities\n */\n\n/**\n * Enhanced fetch function with timeout, retries and error handling\n * @param {string} url - URL to fetch\n * @param {Object} options - Fetch options\n * @returns {Promise<Response>} - Fetch response\n */\nexport async function enhancedFetch(url, options = {}) {\n  const {\n    timeout = 30000,\n    retries = 1,\n    retryDelay = 1000,\n    signal: externalSignal,\n    ...fetchOptions\n  } = options;\n\n  // Log the request details\n  console.log(`enhancedFetch: ${fetchOptions.method || 'GET'} ${url}`);\n  console.debug('enhancedFetch options:', {\n    timeout,\n    retries,\n    retryDelay,\n    ...fetchOptions\n  });\n\n  // Create a timeout controller if timeout is specified\n  const timeoutController = new AbortController();\n  let timeoutId;\n\n  if (timeout) {\n    timeoutId = setTimeout(() => {\n      console.warn(`enhancedFetch: Timeout reached for ${url}, aborting request`);\n      timeoutController.abort();\n    }, timeout);\n  }\n\n  // Create a combined signal if an external signal is provided\n  const signal = externalSignal\n    ? combineSignals(externalSignal, timeoutController.signal)\n    : timeoutController.signal;\n\n  // Add the signal to fetch options\n  const optionsWithSignal = {\n    ...fetchOptions,\n    signal\n  };\n\n  let lastError;\n  let attempt = 0;\n\n  while (attempt <= retries) {\n    try {\n      console.debug(`enhancedFetch: Attempt ${attempt + 1}/${retries + 1} for ${url}`);\n      const response = await fetch(url, optionsWithSignal);\n\n      // Clear the timeout\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n\n      // Log the response\n      console.log(`enhancedFetch response: ${response.status} ${response.statusText} for ${url}`);\n\n      // Check if the response is ok\n      if (!response.ok) {\n        throw new Error(`HTTP error ${response.status}: ${response.statusText}`);\n      }\n\n      return response;\n    } catch (error) {\n      lastError = error;\n\n      // Clear the timeout\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n\n      // Log the error\n      console.error(`enhancedFetch error (attempt ${attempt + 1}/${retries + 1}):`, error);\n\n      // If the request was aborted, don't retry\n      if (error.name === 'AbortError') {\n        if (externalSignal && externalSignal.aborted) {\n          console.warn(`enhancedFetch: Request was cancelled by external signal for ${url}`);\n          throw new Error('Request was cancelled');\n        } else {\n          console.warn(`enhancedFetch: Request timed out for ${url}`);\n          throw new Error('Request timed out');\n        }\n      }\n\n      // If this was the last retry, throw the error\n      if (attempt >= retries) {\n        console.error(`enhancedFetch: All ${retries + 1} attempts failed for ${url}`);\n        break;\n      }\n\n      // Wait before retrying\n      console.log(`enhancedFetch: Waiting ${retryDelay}ms before retry ${attempt + 1} for ${url}`);\n      await new Promise(resolve => setTimeout(resolve, retryDelay));\n\n      // Reset the timeout for the next attempt\n      if (timeout) {\n        timeoutController.abort(); // Abort the previous timeout\n        const newTimeoutController = new AbortController();\n        timeoutId = setTimeout(() => {\n          newTimeoutController.abort();\n        }, timeout);\n      }\n\n      attempt++;\n    }\n  }\n\n  throw lastError;\n}\n\n/**\n * Combine multiple AbortSignals into one\n * @param {...AbortSignal} signals - Signals to combine\n * @returns {AbortSignal} - Combined signal\n */\nfunction combineSignals(...signals) {\n  const controller = new AbortController();\n  \n  const onAbort = () => {\n    controller.abort();\n    signals.forEach(signal => {\n      signal.removeEventListener('abort', onAbort);\n    });\n  };\n  \n  signals.forEach(signal => {\n    if (signal.aborted) {\n      onAbort();\n    } else {\n      signal.addEventListener('abort', onAbort);\n    }\n  });\n  \n  return controller.signal;\n}\n\n/**\n * Create a request controller for managing fetch requests\n * @returns {Object} - Request controller object\n */\nexport function createRequestController() {\n  const controller = new AbortController();\n  \n  return {\n    signal: controller.signal,\n    abort: () => controller.abort(),\n    isAborted: () => controller.signal.aborted\n  };\n}\n\n/**\n * Fetch JSON data with enhanced fetch\n * @param {string} url - The URL to fetch\n * @param {Object} options - Fetch options\n * @returns {Promise<any>} - Parsed JSON data\n */\nexport async function fetchJSON(url, options = {}) {\n  try {\n    const response = await enhancedFetch(url, options);\n    console.log(`fetchJSON: Parsing JSON response from ${url}`);\n    const data = await response.json();\n    return data;\n  } catch (error) {\n    console.error(`fetchJSON: Error fetching or parsing JSON from ${url}:`, error);\n    throw error;\n  }\n}","/**\n * LightNVR Web Interface Query Client\n * TanStack Query (Preact Query) integration for Preact\n */\n\n// Import from preact/compat to ensure Preact compatibility\nimport {h, createElement} from 'preact';\nimport { \n  QueryClient, \n  QueryClientProvider,\n  useQuery as originalUseQuery,\n  useMutation as originalUseMutation,\n  useQueryClient as originalUseQueryClient\n} from '@preact-signals/query';\n\nimport { fetchJSON, enhancedFetch, createRequestController } from './fetch-utils.js';\n\n// Export QueryClient class, QueryClientProvider, and fetchJSON\nexport { QueryClient, QueryClientProvider, fetchJSON };\n\n// Create a QueryClient instance\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 30000, // 30 seconds\n      cacheTime: 5 * 60 * 1000, // 5 minutes\n      retry: 1,\n      refetchOnWindowFocus: false,\n    },\n  },\n});\n\n// Custom hook to use the QueryClient\nexport function useQueryClient() {\n  return originalUseQueryClient();\n}\n\n/**\n * Custom hook for data fetching with Preact Query\n * @param {string|Object} queryKeyOrOptions - Unique key for the query or options object\n * @param {string} [url] - URL to fetch (only used if first param is a string)\n * @param {Object} [options] - Fetch options (only used if first param is a string)\n * @param {Object} [queryOptions] - Preact Query options (only used if first param is a string)\n * @returns {Object} - Query result\n */\nexport function useQuery(queryKeyOrOptions, url, options = {}, queryOptions = {}) {\n  // Check if the first parameter is an object (old style) or a string/array (new style)\n  if (typeof queryKeyOrOptions === 'object' && !Array.isArray(queryKeyOrOptions) && queryKeyOrOptions !== null) {\n    // Old style: useQuery({ queryKey, queryFn, ...options })\n    return originalUseQuery(queryKeyOrOptions);\n  } else {\n    // New style: useQuery(queryKey, url, options, queryOptions)\n    return originalUseQuery({\n      queryKey: Array.isArray(queryKeyOrOptions) ? queryKeyOrOptions : [queryKeyOrOptions],\n      queryFn: async () => {\n        const controller = createRequestController();\n        const fetchOptions = {\n          ...options,\n          signal: controller.signal\n        };\n        \n        try {\n          return await fetchJSON(url, fetchOptions);\n        } catch (error) {\n          console.error(`useQuery error for ${url}:`, error);\n          throw error;\n        }\n      },\n      ...queryOptions\n    });\n  }\n}\n\n/**\n * Custom hook for mutations with Preact Query\n * @param {Object} options - Mutation options\n * @returns {Object} - Mutation result\n */\nexport function useMutation(options) {\n  return originalUseMutation({\n    ...options\n  });\n}\n\n/**\n * Custom hook for POST mutations\n * @param {string} url - URL to post to\n * @param {Object} options - Fetch options\n * @param {Object} mutationOptions - Preact Query mutation options\n * @returns {Object} - Mutation result\n */\nexport function usePostMutation(url, options = {}, mutationOptions = {}) {\n  return useMutation({\n    mutationFn: async (data) => {\n      const controller = createRequestController();\n      const fetchOptions = {\n        ...options,\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        body: JSON.stringify(data),\n        signal: controller.signal\n      };\n      \n      try {\n        return await fetchJSON(url, fetchOptions);\n      } catch (error) {\n        console.error(`usePostMutation error for ${url}:`, error);\n        throw error;\n      }\n    },\n    ...mutationOptions\n  });\n}\n\n/**\n * Custom hook for PUT mutations\n * @param {string} url - URL to put to\n * @param {Object} options - Fetch options\n * @param {Object} mutationOptions - Preact Query mutation options\n * @returns {Object} - Mutation result\n */\nexport function usePutMutation(url, options = {}, mutationOptions = {}) {\n  return useMutation({\n    mutationFn: async (data) => {\n      const controller = createRequestController();\n      const fetchOptions = {\n        ...options,\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...options.headers\n        },\n        body: JSON.stringify(data),\n        signal: controller.signal\n      };\n      \n      try {\n        return await fetchJSON(url, fetchOptions);\n      } catch (error) {\n        console.error(`usePutMutation error for ${url}:`, error);\n        throw error;\n      }\n    },\n    ...mutationOptions\n  });\n}\n\n/**\n * Custom hook for DELETE mutations\n * @param {string} url - URL to delete from\n * @param {Object} options - Fetch options\n * @param {Object} mutationOptions - Preact Query mutation options\n * @returns {Object} - Mutation result\n */\nexport function useDeleteMutation(url, options = {}, mutationOptions = {}) {\n  return useMutation({\n    mutationFn: async (data) => {\n      const controller = createRequestController();\n      const fetchOptions = {\n        ...options,\n        method: 'DELETE',\n        signal: controller.signal,\n        ...(data && {\n          headers: {\n            'Content-Type': 'application/json',\n            ...options.headers\n          },\n          body: JSON.stringify(data)\n        })\n      };\n      \n      try {\n        return await fetchJSON(url, fetchOptions);\n      } catch (error) {\n        console.error(`useDeleteMutation error for ${url}:`, error);\n        throw error;\n      }\n    },\n    ...mutationOptions\n  });\n}\n\n/**\n * Invalidate queries by key pattern\n * @param {string|Array} queryKey - Query key or pattern to invalidate\n */\nexport function invalidateQueries(queryKey) {\n  queryClient.invalidateQueries({\n    queryKey: Array.isArray(queryKey) ? queryKey : [queryKey]\n  });\n}\n\n/**\n * Prefetch a query\n * @param {string|Array} queryKey - Query key\n * @param {string} url - URL to fetch\n * @param {Object} options - Fetch options\n * @param {Object} queryOptions - Preact Query options\n */\nexport function prefetchQuery(queryKey, url, options = {}, queryOptions = {}) {\n  queryClient.prefetchQuery({\n    queryKey: Array.isArray(queryKey) ? queryKey : [queryKey],\n    queryFn: async () => {\n      try {\n        return await fetchJSON(url, options);\n      } catch (error) {\n        console.error(`prefetchQuery error for ${url}:`, error);\n        throw error;\n      }\n    },\n    ...queryOptions\n  });\n}\n\n/**\n * Set query data directly\n * @param {string|Array} queryKey - Query key\n * @param {any} data - Data to set\n */\nexport function setQueryData(queryKey, data) {\n  queryClient.setQueryData(\n    Array.isArray(queryKey) ? queryKey : [queryKey],\n    data\n  );\n}\n\n/**\n * Get query data directly\n * @param {string|Array} queryKey - Query key\n * @returns {any} - Query data\n */\nexport function getQueryData(queryKey) {\n  return queryClient.getQueryData(\n    Array.isArray(queryKey) ? queryKey : [queryKey]\n  );\n}\n","/**\n * LightNVR Web Interface Preact App\n * Main entry point for the Preact application\n */\n\n// Import from preact for better compatibility\nimport { createElement as h, render } from 'preact';\nimport { html } from './html-helper.js';\n// Import WebSocketClient class directly\nimport { WebSocketClient, BatchDeleteRecordingsClient } from './websocket-client.js';\n// Add React compatibility layer\nimport * as React from '@preact/compat';\nwindow.React = React; // Make React available globally\n\nimport { loadHeader } from './components/preact/Header.js';\nimport { loadFooter } from './components/preact/Footer.js';\nimport { setupModals, addStatusMessageStyles, addModalStyles } from './components/preact/UI.js';\nimport { QueryClientProvider, queryClient } from './query-client.js';\n\n// Initialize WebSocket client at the parent level\n// This ensures a single WebSocket connection is shared across all components\nif (typeof WebSocketClient !== 'undefined') {\n  // Create a global WebSocket client instance\n  window.wsClient = new WebSocketClient();\n  console.log('WebSocket client initialized at application level');\n\n  // Add additional event listeners for debugging\n  if (window.wsClient) {\n    // Log initial connection state\n    console.log('Initial WebSocket connection state:', {\n      connected: window.wsClient.isConnected(),\n      clientId: window.wsClient.getClientId()\n    });\n\n    // Add socket event listeners when socket is created\n    const originalConnect = window.wsClient.connect;\n    window.wsClient.connect = function() {\n      const result = originalConnect.apply(this, arguments);\n\n      // Add event listeners to the new socket\n      if (this.socket) {\n        const originalOnOpen = this.socket.onopen;\n        this.socket.onopen = (event) => {\n          console.log('WebSocket connection opened at application level');\n          if (originalOnOpen) originalOnOpen.call(this, event);\n        };\n\n        const originalOnError = this.socket.onerror;\n        this.socket.onerror = (error) => {\n          console.error('WebSocket error at application level:', error);\n          if (originalOnError) originalOnError.call(this, error);\n        };\n\n        const originalOnClose = this.socket.onclose;\n        this.socket.onclose = (event) => {\n          console.log(`WebSocket connection closed at application level: ${event.code} ${event.reason}`);\n          if (originalOnClose) originalOnClose.call(this, event);\n        };\n\n        const originalOnMessage = this.socket.onmessage;\n        this.socket.onmessage = (event) => {\n          // Only log non-welcome messages at application level to reduce noise\n          if (!event.data.includes('\"type\":\"welcome\"')) {\n            console.log('WebSocket message received at application level');\n          }\n          if (originalOnMessage) originalOnMessage.call(this, event);\n        };\n      }\n\n      return result;\n    };\n\n    // Override handleMessage to log when client ID is set\n    const originalHandleMessage = window.wsClient.handleMessage;\n    window.wsClient.handleMessage = function(data) {\n      const clientIdBefore = this.clientId;\n      originalHandleMessage.call(this, data);\n      const clientIdAfter = this.clientId;\n\n      // Log when client ID changes\n      if (clientIdBefore !== clientIdAfter && clientIdAfter) {\n        console.log(`WebSocket client ID changed at application level: ${clientIdAfter}`);\n      }\n    };\n  }\n\n  // Initialize batch delete client if needed\n  if (typeof BatchDeleteRecordingsClient !== 'undefined') {\n    window.batchDeleteClient = new BatchDeleteRecordingsClient(window.wsClient);\n    console.log('Batch delete client initialized');\n  }\n}\n\n/**\n * Simple store implementation for state management\n * @param {Object} initialState - Initial state\n * @returns {Object} Store object with getState, setState, and subscribe methods\n */\nfunction createStore(initialState = {}) {\n  let state = { ...initialState };\n  const listeners = new Set();\n\n  return {\n    getState: () => state,\n    setState: (newState) => {\n      if (typeof newState === 'function') {\n        state = newState(state);\n      } else {\n        state = { ...state, ...newState };\n      }\n\n      // Notify listeners\n      listeners.forEach(listener => listener(state));\n    },\n    subscribe: (listener) => {\n      listeners.add(listener);\n\n      // Return unsubscribe function\n      return () => {\n        listeners.delete(listener);\n      };\n    }\n  };\n}\n\n// Create stores for UI state\nexport const statusMessageStore = createStore({\n  message: '',\n  visible: false,\n  timeout: null,\n  type: 'success'\n});\n\nexport const snapshotModalStore = createStore({\n  imageUrl: '',\n  title: ''\n});\n\nexport const videoModalStore = createStore({\n  videoUrl: '',\n  title: '',\n  downloadUrl: ''\n});\n\n// Create a store for WebSocket state\nexport const websocketStore = createStore({\n  client: window.wsClient || null,\n  connected: window.wsClient ? window.wsClient.isConnected() : false,\n  clientId: window.wsClient ? window.wsClient.getClientId() : null\n});\n\n// Update websocket store when connection status changes\nif (window.wsClient) {\n  // Set up a periodic check for WebSocket status\n  setInterval(() => {\n    if (window.wsClient) {\n      const connected = window.wsClient.isConnected();\n      const clientId = window.wsClient.getClientId();\n\n      websocketStore.setState({\n        connected,\n        clientId\n      });\n\n      // If not connected and not already reconnecting, try to reconnect\n      if (!connected && !window.wsClient.connecting && window.wsClient.reconnectAttempts < window.wsClient.maxReconnectAttempts) {\n        console.log('WebSocket not connected, attempting to reconnect from application level');\n        window.wsClient.connect();\n      }\n    }\n  }, 5000); // Check every 5 seconds\n}\n\n/**\n * Set up global fetch error handler for authentication\n */\nfunction setupGlobalAuthHandler() {\n  // Override fetch to handle 401 responses globally\n  const originalFetch = window.fetch;\n  window.fetch = async function(url, options) {\n    const response = await originalFetch.apply(this, arguments);\n\n  if (response.status === 401 && !window.location.pathname.includes('login.html')) {\n    console.log('401 detected, redirecting to login');\n    const currentPath = window.location.pathname + window.location.search;\n    window.location.href = '/login.html?redirect=' + encodeURIComponent(currentPath) + '&from_redirect=true';\n  }\n\n    return response;\n  };\n}\n\n/**\n * Initialize the application\n */\nfunction initApp() {\n  // Set up global authentication handler\n  setupGlobalAuthHandler();\n\n  // Get current page and query parameters\n  const currentPage = window.location.pathname.split('/').pop();\n  const currentQuery = window.location.search;\n\n  // Load header with active navigation\n  let activeNav = '';\n\n  switch (currentPage) {\n    case 'index.html':\n    case '': // Handle root URL (/) as index.html\n      activeNav = 'nav-live';\n      break;\n    case 'recordings.html':\n    case 'timeline.html':\n      activeNav = 'nav-recordings';\n      break;\n    case 'streams.html':\n      activeNav = 'nav-streams';\n      break;\n    case 'settings.html':\n      activeNav = 'nav-settings';\n      break;\n    case 'users.html':\n      activeNav = 'nav-users';\n      break;\n    case 'system.html':\n      activeNav = 'nav-system';\n      break;\n  }\n\n  // Ensure we have an app-root element\n  let appRoot = document.getElementById('app-root');\n  if (!appRoot) {\n    // Create app-root if it doesn't exist\n    appRoot = document.createElement('div');\n    appRoot.id = 'app-root';\n    const mainContent = document.getElementById('main-content');\n    if (mainContent) {\n      mainContent.appendChild(appRoot);\n    } else {\n      document.body.appendChild(appRoot);\n    }\n    console.log('Created app-root element for Preact Query provider');\n  }\n\n  // Wrap the app with QueryClientProvider\n  render(\n    h(QueryClientProvider, { client: queryClient },\n      h('div', { id: 'app-content' })\n    ),\n    appRoot\n  );\n\n  // Load header and footer\n  loadHeader(activeNav);\n  loadFooter();\n\n  // Load page-specific content using dynamic imports\n  if (currentPage === 'index.html') {\n    // Ensure the QueryClientProvider is fully initialized before loading WebRTCView\n    setTimeout(() => {\n      import('./components/preact/WebRTCView.js').then(module => {\n        module.loadWebRTCView();\n      }).catch(error => {\n        console.error('Error loading WebRTCView:', error);\n      });\n    }, 300); // Small delay to ensure proper initialization\n  } else if (currentPage === 'hls.html') {\n    import('./components/preact/LiveViewQuery.js').then(module => {\n      module.loadLiveView();\n    });\n  } else if (currentPage === 'recordings.html') {\n    import('./components/preact/RecordingsView.js').then(module => {\n      module.loadRecordingsView();\n    });\n  } else if (currentPage === 'timeline.html') {\n    import('./components/preact/timeline/TimelineView.js').then(module => {\n      module.loadTimelineView();\n    });\n  } else if (currentPage === 'settings.html') {\n    import('./components/preact/SettingsView.js').then(module => {\n      module.loadSettingsView();\n    });\n  } else if (currentPage === 'streams.html') {\n    import('./components/preact/StreamsView.js').then(module => {\n      module.loadStreamsView();\n    });\n  } else if (currentPage === 'system.html') {\n    import('./components/preact/SystemView.js').then(module => {\n      module.loadSystemView();\n    });\n  } else if (currentPage === 'login.html') {\n    import('./components/preact/LoginView.js').then(module => {\n      module.loadLoginView();\n    });\n  } else if (currentPage === 'users.html') {\n    import('./components/preact/UsersView.js').then(module => {\n      module.loadUsersView();\n    });\n  } else if (currentPage === '') {\n    import('./components/preact/WebRTCView.js').then(module => {\n      module.loadWebRTCView();\n    });\n  }\n\n  // Setup UI components\n  setupModals();\n  addStatusMessageStyles();\n  addModalStyles();\n\n  // Initialize toast container\n  import('./components/preact/toast.js').then(({ initToastContainer }) => {\n    // Initialize the toast container without showing a test message\n    initToastContainer(false);\n\n    // Log success\n    console.log('Toast container initialized from preact-app.js');\n\n    // Add a global function to test toasts\n    window.testToastFromApp = (type = 'info') => {\n      const message = `App test ${type} toast at ${new Date().toLocaleTimeString()}`;\n\n      if (window.showToast) {\n        window.showToast(message, type);\n      }\n\n      return 'App toast triggered';\n    };\n  }).catch(error => {\n    console.error('Error initializing toast container:', error);\n  });\n}\n\n// Initialize the app when the DOM is loaded\ndocument.addEventListener('DOMContentLoaded', initApp);\n\n// Export for use in other modules\nexport { h, render, html };\n"],"names":["props","isOpen","onClose","onConfirm","mode","count","title","message","html","e","target","currentTarget","key","imageData","streamName","snapshotModal","document","getElementById","console","error","snapshotTitle","snapshotImage","snapshotDownloadBtn","snapshotCloseBtn","closeButtons","querySelectorAll","modalContent","querySelector","closeModal","classList","add","remove","textContent","dataset","src","style","display","onload","log","onerror","onclick","forEach","button","event","addEventListener","contains","storedImageData","storedStreamName","showStatusMessage","length","canvas","createElement","img","Image","width","height","newWidth","newHeight","ctx","getContext","fillStyle","fillRect","drawImage","optimizedJpegData","toDataURL","filename","Date","toISOString","replace","iframe","body","appendChild","iframeDoc","contentWindow","open","write","close","window","onMessage","data","removeEventListener","removeChild","once","setTimeout","iframeError","tryDirectLinkDownload","canvasError","dataUrl","link","href","download","rel","click","linkError","videoUrl","downloadUrl","overlay","className","id","modalContainer","header","titleElement","closeButton","innerHTML","videoContainer","video","controls","autoplay","controlsContainer","heading","controlsGrid","speedControlsSection","speedHeading","speedButtonsContainer","speed","setAttribute","playbackRate","btn","getAttribute","toString","currentSpeedIndicator","detectionSection","detectionHeading","detectionControlsContainer","detectionCheckboxContainer","detectionCheckbox","type","detectionCheckboxLabel","htmlFor","sensitivityContainer","sensitivityLabel","sensitivityValue","sensitivitySlider","min","max","step","value","timeWindow","parseInt","detectionOverlayEnabled","drawDetections","detectionStatusIndicator","downloadSection","downloadButton","now","footer","canvasContainer","position","detectionCanvas","top","left","pointerEvents","recordingData","detections","recordingIdMatch","match","recordingId","queryContainer","__vitePreload","async","render","h","Promise","resolve","then","preact_module","module","meta","url","QueryClientProvider","client","queryClient","RecordingDataFetcher","recording","isLoading","isLoadingRecording","recordingError","useQuery","startTime","endTime","detectionQueryEnabled","stream","start_time","end_time","Math","floor","getTime","detectionData","isLoadingDetections","detectionError","enabled","disabled","catch","err","fetch","response","json","params","URLSearchParams","start","end","Error","videoWidth","videoHeight","requestAnimationFrame","clearRect","currentTime","currentTimestamp","visibleDetections","filter","detection","timestamp","abs","x","y","strokeStyle","lineWidth","strokeRect","labelText","label","round","confidence","labelWidth","measureText","font","fillText","paused","ended","checked","lastDrawnTime","handleEscape","n","l","t","i","r","o","f","c","s","a","p","v","d","Array","isArray","w","g","parentNode","_","u","arguments","children","call","defaultProps","m","ref","__k","__","__b","__e","__c","constructor","__v","__i","__u","vnode","b","current","k","this","context","S","C","base","M","__d","push","$","__r","debounceRendering","sort","shift","__P","O","__n","namespaceURI","z","I","String","L","B","P","q","A","nextSibling","insertBefore","nodeType","H","some","T","setProperty","test","j","cssText","toLowerCase","slice","removeAttribute","F","prototype","contextType","__E","D","sub","state","__h","_sb","__s","getDerivedStateFromProps","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","getChildContext","getSnapshotBeforeUpdate","N","indexOf","V","diffed","map","localName","createTextNode","createElementNS","is","__m","childNodes","attributes","name","__html","content","unmount","componentWillUnmount","E","documentElement","firstChild","G","J","K","Set","delete","Provider","__l","Consumer","getDerivedStateFromError","setState","componentDidCatch","forceUpdate","bind","Object","assign","apply","Map","exports","get","set","WebSocketClient","generateUUID","random","socket","clientId","connected","reconnectAttempts","maxReconnectAttempts","reconnectDelay","handlers","subscriptions","pendingSubscriptions","messageQueue","connecting","subscriptionParams","clientIdCallbacks","connectionChangeListeners","connect","disconnect","reconnect","send","subscribe","unsubscribe","handleMessage","processMessageQueue","addConnectionChangeListener","removeConnectionChangeListener","notifyConnectionChangeListeners","readyState","WebSocket","OPEN","CONNECTING","wsUrl","location","protocol","host","fallbackToHttp","connectTimeout","onopen","clearTimeout","undefined","bufferedAmount","clear","processPendingSubscriptions","onmessage","onclose","code","reason","warn","usingHttpFallback","fallbackEvent","CustomEvent","detail","usingHttp","dispatchEvent","size","delay","pow","topic","payload","JSON","stringify","queue","has","client_id","success","parse","parsedPayload","callbacks","callback","handler","on","off","getClientId","listener","includes","index","splice","isConnected","BatchDeleteRecordingsClient","wsClient","progressHandlers","resultHandlers","errorHandlers","_httpFallbackTimeout","handleProgress","handleResult","handleError","deleteWithProgress","reject","batchDeleteRecordingsByHttpRequest","getClientIdAndProceed","resultHandler","errorHandler","sendDeleteRequest","subscribePayload","subscribeMsg","ids","startsWith","requestParams","startsWithHex","isValid","totalCount","updateBatchDeleteProgress","total","succeeded","failed","status","complete","progressData","resultData","progressUpdate","errorData","onProgress","onResult","onError","__H","__N","__f","every","concat","useDebugValue","cancelAnimationFrame","R","displayName","isReactComponent","isPureReactComponent","Symbol","for","$$typeof","only","toArray","U","W","__a","default","__R","__O","pop","fallback","revealOrder","Z","Y","containerInfo","reverse","Q","X","nn","tn","defineProperty","configurable","writable","en","rn","un","cancelBubble","defaultPrevented","persist","isPropagationStopped","isDefaultPrevented","nativeEvent","cn","ln","enumerable","class","fn","multiple","selected","defaultValue","an","sn","hn","ReactCurrentDispatcher","readContext","useCallback","useContext","useDeferredValue","useEffect","useId","useImperativeHandle","useInsertionEffect","useLayoutEffect","useMemo","useReducer","useRef","useState","useSyncExternalStore","useTransition","dn","pn","mn","yn","_n","bn","Sn","gn","En","Cn","xn","Rn","startTransition","version","Children","hydrate","unmountComponentAtNode","createPortal","createContext","createFactory","cloneElement","createRef","Fragment","isValidElement","isElement","isFragment","isMemo","findDOMNode","Component","PureComponent","memo","forwardRef","flushSync","unstable_batchedUpdates","StrictMode","Suspense","SuspenseList","lazy","__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED","Header","activeNav","username","setUsername","mobileMenuOpen","setMobileMenuOpen","auth","localStorage","getItem","extractedUsername","atob","split","handleLogout","preventDefault","removeItem","cookie","method","toggleMobileMenu","navItems","pathname","endsWith","renderNavItem","item","activeClass","loadHeader","headerContainer","Footer","year","getFullYear","loadFooter","footerContainer","Subscribable","listeners","identity","onSubscribe","onUnsubscribe","hasListeners","isServer","noop","isValidTimeout","Infinity","timeUntilStale","updatedAt","staleTime","parseQueryArgs","arg1","arg2","arg3","isQueryKey","queryKey","queryFn","parseFilterArgs","matchQuery","filters","query","exact","fetchStatus","predicate","stale","queryHash","hashQueryKeyByOptions","options","partialMatchKey","isActive","isStale","matchMutation","mutation","fetching","mutationKey","hashQueryKey","queryKeyHashFn","val","isPlainObject","keys","reduce","result","partialDeepEqual","replaceEqualDeep","array","isPlainArray","aSize","bItems","bSize","copy","equalItems","shallowEqualObjects","hasObjectPrototype","ctor","prot","hasOwnProperty","sleep","timeout","scheduleMicrotask","replaceData","prevData","isDataEqual","structuralSharing","focusManager","super","setup","onFocus","cleanup","setEventListener","_this$cleanup","_this$cleanup2","focused","setFocused","isFocused","visibilityState","onlineEvents","onlineManager","onOnline","online","setOnline","isOnline","navigator","onLine","defaultRetryDelay","failureCount","canFetch","networkMode","CancelledError","revert","silent","isCancelledError","createRetryer","config","continueFn","promiseResolve","promiseReject","isRetryCancelled","isResolved","promise","outerResolve","outerReject","shouldPause","onSuccess","pause","continueResolve","canContinue","onPause","onContinue","run","promiseOrValue","_config$retry","_config$retryDelay","retry","retryDelay","shouldRetry","onFail","cancel","cancelOptions","abort","continue","cancelRetry","continueRetry","defaultLogger","notifyManager","transactions","notifyFn","batchNotifyFn","schedule","flush","originalQueue","batch","batchCalls","args","setNotifyFunction","setBatchNotifyFunction","createNotifyManager","Removable","destroy","clearGcTimeout","scheduleGc","cacheTime","gcTimeout","optionalRemove","updateCacheTime","newCacheTime","Query","abortSignalConsumed","defaultOptions","setOptions","observers","cache","logger","initialState","initialData","hasData","initialDataUpdatedAt","dataUpdateCount","dataUpdatedAt","errorUpdateCount","errorUpdatedAt","fetchFailureCount","fetchFailureReason","fetchMeta","isInvalidated","getDefaultState","setData","newData","dispatch","manual","setStateOptions","_this$retryer","retryer","reset","observer","isDisabled","getObserversCount","getCurrentResult","isStaleByTime","_this$retryer2","find","shouldFetchOnWindowFocus","refetch","cancelRefetch","_this$retryer3","shouldFetchOnReconnect","addObserver","notify","removeObserver","invalidate","fetchOptions","_this$options$behavio","_context$fetchOptions","_this$retryer4","abortController","AbortController","getAbortController","queryFnContext","pageParam","addSignalProperty","object","signal","fetchFn","_context$fetchOptions2","behavior","onFetch","revertState","_this$cache$config$on","_this$cache$config","_this$cache$config$on2","_this$cache$config2","onSettled","isFetchingOptimistic","_this$cache$config$on3","_this$cache$config3","_this$cache$config$on4","_this$cache$config4","action","_action$meta","_action$dataUpdatedAt","reducer","onQueryUpdate","QueryCache","queries","queriesMap","build","_options$queryHash","getLogger","defaultQueryOptions","getQueryDefaults","queryInMap","getAll","findAll","Mutation","mutationId","mutationCache","failureReason","isPaused","variables","_this$retryer$continu","execute","executeMutation","_this$options$retry","mutationFn","restored","_this$mutationCache$c3","_this$mutationCache$c4","_this$options$onSucce","_this$options2","_this$mutationCache$c5","_this$mutationCache$c6","_this$options$onSettl","_this$options3","_this$mutationCache$c","_this$mutationCache$c2","_this$options$onMutat","_this$options","onMutate","_this$mutationCache$c7","_this$mutationCache$c8","_this$options$onError","_this$options4","_this$mutationCache$c9","_this$mutationCache$c10","_this$options$onSettl2","_this$options5","onMutationUpdate","MutationCache","mutations","defaultMutationOptions","getMutationDefaults","resumePausedMutations","_this$resuming","resuming","pausedMutations","infiniteQueryBehavior","_context$fetchOptions3","_context$fetchOptions4","_context$state$data","_context$state$data2","refetchPage","fetchMore","isFetchingNextPage","direction","isFetchingPreviousPage","oldPages","pages","oldPageParams","pageParams","newPageParams","cancelled","buildNewPages","param","page","previous","fetchPage","_context$signal","_context$signal2","aborted","queryFnResult","getNextPageParam","getPreviousPageParam","finalPromise","QueryClient","queryCache","queryDefaults","mutationDefaults","mountCount","mount","unsubscribeFocus","unsubscribeOnline","_this$unsubscribeFocu","_this$unsubscribeOnli","isFetching","isMutating","getQueryData","_this$queryCache$find","ensureQueryData","parsedOptions","cachedData","fetchQuery","getQueriesData","queryKeyOrFilters","getQueryCache","setQueryData","updater","input","functionalUpdate","defaultedOptions","setQueriesData","getQueryState","_this$queryCache$find2","removeQueries","resetQueries","refetchFilters","refetchQueries","cancelQueries","promises","all","invalidateQueries","_ref","_filters$refetchType","refetchType","_options$cancelRefetc","throwOnError","prefetchQuery","fetchInfiniteQuery","prefetchInfiniteQuery","getMutationCache","getDefaultOptions","setDefaultOptions","setQueryDefaults","firstMatchingDefaults","setMutationDefaults","_defaulted","refetchOnReconnect","useErrorBoundary","suspense","QueryObserver","trackedProps","selectError","bindMethods","currentQuery","shouldFetchOnMount","executeFetch","updateTimers","shouldFetchOn","refetchOnWindowFocus","clearStaleTimeout","clearRefetchInterval","notifyOptions","prevOptions","prevQuery","updateQuery","mounted","shouldFetchOptionally","updateResult","updateStaleTimeout","nextRefetchInterval","computeRefetchInterval","currentRefetchInterval","updateRefetchInterval","getOptimisticResult","createResult","optimisticResult","keepPreviousData","placeholderData","isPlaceholderData","shouldAssignObserverCurrentProperties","currentResult","currentResultOptions","currentResultState","trackResult","trackedResult","getCurrentQuery","fetchOptimistic","_fetchOptions$cancelR","staleTimeoutId","_this$options$refetch","refetchInterval","nextInterval","refetchIntervalId","setInterval","refetchIntervalInBackground","clearInterval","prevResult","prevResultState","prevResultOptions","queryChange","queryInitialState","currentQueryInitialState","prevQueryResult","previousQueryResult","isPreviousData","_optimisticResults","fetchOnMount","fetchOptionally","isSuccess","select","selectFn","selectResult","isError","isInitialLoading","isFetched","isFetchedAfterMount","isRefetching","isLoadingError","isRefetchError","nextResult","defaultNotifyOptions","shouldNotifyListeners","notifyOnChangeProps","includedProps","typedKey","retryOnMount","shouldLoadOnMount","refetchOnMount","field","mutate","_this$currentMutation","currentMutation","_this$currentMutation2","mutateOptions","isIdle","_this$mutateOptions$o","_this$mutateOptions","_this$mutateOptions$o2","_this$mutateOptions2","_this$mutateOptions$o3","_this$mutateOptions3","_this$mutateOptions$o4","_this$mutateOptions4","shimModule","React","require$$0","objectIs","checkIfSnapshotChanged","inst","latestGetSnapshot","getSnapshot","nextValue","shim","_useState","useSyncExternalStoreShim_production","uSES","defaultContext","React.createContext","QueryClientSharingContext","getQueryClientContext","contextSharing","ReactQueryClientContext","useQueryClient","useQueryClient$1","React.useContext","React.useEffect","Context","React.createElement","IsRestoringContext","useIsRestoring","QueryErrorResetBoundaryContext","isReset","clearReset","createValue","useQueryErrorResetBoundary","shouldThrowError","_useErrorBoundary","ensurePreventErrorBoundaryRetry","errorResetBoundary","useClearResetErrorBoundary","getHasError","ensureStaleTime","shouldSuspend","isRestoring","willFetch","Observer","React.useState","React.useCallback","onStoreChange","useBaseQuery","useMutation","parseMutationArgs","MutationObserver","mutateAsync","enhancedFetch","retries","externalSignal","debug","timeoutController","timeoutId","signals","controller","onAbort","combineSignals","optionsWithSignal","lastError","attempt","statusText","ok","newTimeoutController","createRequestController","isAborted","fetchJSON","originalUseQueryClient","queryKeyOrOptions","queryOptions","originalUseQuery","originalUseMutation","usePostMutation","mutationOptions","headers","setupModals","snapshotModalContainer","videoModalContainer","videoModal","modal","addStatusMessageStyles","initToastContainer","import","head","addModalStyles","duration","showToast","statusContainer","messageElement","typeClass","originalConnect","originalOnOpen","originalOnError","originalOnClose","originalOnMessage","originalHandleMessage","clientIdBefore","clientIdAfter","batchDeleteClient","createStore","getState","newState","visible","imageUrl","websocketStore","originalFetch","currentPath","search","encodeURIComponent","setupGlobalAuthHandler","currentPage","appRoot","mainContent","loadWebRTCView","loadLiveView","loadRecordingsView","loadTimelineView","loadSettingsView","loadStreamsView","loadSystemView","loadLoginView","loadUsersView","testToastFromApp","toLocaleTimeString"],"mappings":"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","x_google_ignoreList":[1,2,5,6,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37]}