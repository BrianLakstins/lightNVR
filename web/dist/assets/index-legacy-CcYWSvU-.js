System.register(["./query-client-legacy-BljCN6fF.js","./layout-legacy-BJPDh9kM.js","./LiveView-legacy-BG-UkTZg.js","./UI-legacy-BRvu-Wy1.js","./LoadingIndicator-legacy-D9Q5iI8j.js","./Footer-legacy-DgsiK_Ux.js"],(function(e,r){"use strict";var t,n,o,a,s,l,c,i,d,u,m,g,h,f,p,b,w,y,v,x,C,k,S,R,N,I,T,$;return{setters:[e=>{t=e.d,n=e.A,o=e.q,a=e.y,s=e.u,l=e.a,c=e.b,i=e.s,d=e.T,u=e.E,m=e.c,g=e.Q,h=e.e,f=e.k},null,e=>{p=e.D,b=e.t,w=e.u,y=e.F,v=e.L},e=>{x=e.S,C=e.s,k=e.u,S=e.a,R=e.b,N=e.c},e=>{I=e.L},e=>{T=e.H,$=e.F}],execute:function(){function e({stream:e,streamId:r,onToggleFullscreen:l}){const[c,i]=t(!0),[d,u]=t(null),[m,g]=t(!1),[h,f]=t(0),[w,y]=t(Date.now()),v=n(null),k=n(null),S=n(null),R=n(null),N=n([]),T=n(null),$=n(""),E=n(Date.now()),_=n(null),L=o((()=>{N.current.forEach((e=>clearTimeout(e))),N.current=[]}),[]),P=o(((e,r)=>{const t=setTimeout(e,r);return N.current.push(t),t}),[]),j=o((()=>{if(console.log(`Cleaning up WebRTC connection for stream ${e?.name}`),L(),R.current){try{R.current.abort()}catch(r){console.error(`Error aborting fetch for stream ${e?.name}:`,r)}R.current=null}if(T.current=null,v.current){const r=v.current;if(r.onloadeddata=null,r.onplaying=null,r.onerror=null,r.onstalled=null,r.ontimeout=null,r.srcObject){try{r.srcObject.getTracks().forEach((r=>{try{r.stop()}catch(t){console.warn(`Error stopping track for stream ${e?.name}:`,t)}}))}catch(t){console.warn(`Error accessing tracks for stream ${e?.name}:`,t)}r.srcObject=null}}if(S.current){try{const e=S.current;e.onicecandidate&&(e.onicecandidate=null),e.oniceconnectionstatechange&&(e.oniceconnectionstatechange=null),e.onconnectionstatechange&&(e.onconnectionstatechange=null),e.ontrack&&(e.ontrack=null),e.close()}catch(n){console.warn(`Error closing connection for stream ${e?.name}:`,n)}S.current=null}console.log(`WebRTC connection cleanup completed for stream ${e?.name}`)}),[L]),W=o((async(e,r)=>{try{R.current=new AbortController;const n=R.current.signal,o={type:r.type,sdp:r.sdp};console.log(`Sending WebRTC offer for stream ${e}`);const a=localStorage.getItem("auth"),s=await fetch(`/api/webrtc?src=${encodeURIComponent(e)}`,{method:"POST",headers:{"Content-Type":"application/json",...a?{Authorization:"Basic "+a}:{}},body:JSON.stringify(o),signal:n});if(!s.ok)throw new Error(`Failed to send offer: ${s.status} ${s.statusText}`);const l=await s.text();try{return JSON.parse(l)}catch(t){throw console.error(`Error parsing JSON for stream ${e}:`,t),console.log(`Raw response text: ${l}`),new Error(`Failed to parse WebRTC answer: ${t.message}`)}}catch(n){if("AbortError"===n.name)return console.log(`WebRTC offer request for stream ${e} was aborted`),Promise.reject(new Error("Request aborted"));throw console.error(`Error sending offer for stream ${e}:`,n),n}}),[]),M=o((()=>{if(!e||!v.current)return void console.error("Cannot initialize WebRTC: missing stream or DOM elements");console.log(`Initializing WebRTC connection for stream ${e.name}`),i(!0),j();const r=new RTCPeerConnection({iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],iceTransportPolicy:"all",bundlePolicy:"balanced",rtcpMuxPolicy:"require",sdpSemantics:"unified-plan"});S.current=r,r.ontrack=r=>{if(console.log(`Track received for stream ${e.name}:`,r),"video"===r.track.kind){const t=v.current;if(!t)return;t.srcObject=r.streams[0],t.onloadeddata=()=>{console.log(`Video data loaded for stream ${e.name}`)},t.onplaying=()=>{console.log(`Video playing for stream ${e.name}`),i(!1),g(!0),y(Date.now()),E.current=Date.now()},t.onerror=r=>{console.error(`Video error for stream ${e.name}:`,r),u("Video playback error: "+(r.message||"Unknown error")),i(!1)},t.onstalled=()=>{console.warn(`Video stalled for stream ${e.name}`)}}},r.onicecandidate=r=>{r.candidate&&console.log(`ICE candidate for stream ${e.name}:`,r.candidate)},r.oniceconnectionstatechange=()=>{console.log(`ICE connection state for stream ${e.name}:`,r.iceConnectionState),"failed"===r.iceConnectionState&&S.current===r?(console.warn(`ICE failed for stream ${e.name}`),u("WebRTC ICE connection failed"),i(!1)):"disconnected"===r.iceConnectionState&&(console.warn(`ICE disconnected for stream ${e.name}`),P((()=>{"disconnected"===r.iceConnectionState&&S.current===r&&(console.warn(`ICE still disconnected for stream ${e.name} after timeout`),h<3?(console.log(`Auto-reconnecting stream ${e.name} (attempt ${h+1})`),f((e=>e+1)),M()):(u("WebRTC connection disconnected"),g(!1),i(!1)))}),8e3))},r.onconnectionstatechange=()=>{console.log(`Connection state changed for stream ${e.name}:`,r.connectionState),"failed"===r.connectionState&&S.current===r&&(console.warn(`Connection failed for stream ${e.name}`),u("WebRTC connection failed"),i(!1))},r.addTransceiver("video",{direction:"recvonly"}),r.addTransceiver("audio",{direction:"recvonly"}),r.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then((e=>{if(S.current!==r)throw new Error("Connection was cleaned up during offer creation");return r.setLocalDescription(e)})).then((()=>{if(S.current!==r)throw new Error("Connection was cleaned up after setting local description");return W(e.name,r.localDescription)})).then((e=>{if(S.current!==r)throw new Error("Connection was cleaned up after receiving answer");return r.setRemoteDescription(new RTCSessionDescription(e))})).catch((t=>{S.current===r?(console.error(`Error setting up WebRTC for stream ${e.name}:`,t),u(t.message||"Failed to establish WebRTC connection"),i(!1)):console.log(`WebRTC setup for stream ${e.name} was cancelled: ${t.message}`)}))}),[e.name,j,W,P]);a((()=>{e&&e.name&&(e.name!==$.current&&(console.log(`WebRTCVideoCell: Stream name changed from ${$.current} to ${e.name}, reinitializing`),M()),$.current=e.name)}),[e,c]);const F=o((()=>{e&&(console.log(`Retrying connection for stream ${e.name}`),f(0),u(null),i(!0),M())}),[M]);return s("div",{className:"video-cell","data-stream-name":e.name,"data-stream-id":r,ref:k,style:{position:"relative",pointerEvents:c?"none":"auto",zIndex:1},children:[s("style",{children:"\n          @keyframes spin {\n            0% { transform: rotate(0deg); }\n            100% { transform: rotate(360deg); }\n          }\n        "}),s("video",{id:`video-${r.replace(/\s+/g,"-")}`,className:"video-element",ref:v,playsInline:!0,autoPlay:!0,muted:!0,disablePictureInPicture:!0,style:{pointerEvents:"none",width:"100%",height:"100%",objectFit:"contain",zIndex:1}}),e.detection_based_recording&&e.detection_model&&s(p,{ref:_,streamName:e.name,videoRef:v,enabled:m,detectionModel:e.detection_model}),s("div",{className:"stream-name-overlay",style:{position:"absolute",top:"10px",left:"10px",padding:"5px 10px",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",borderRadius:"4px",fontSize:"14px",zIndex:3,pointerEvents:"none"},children:e.name}),s("div",{className:"stream-controls",style:{position:"absolute",bottom:"10px",right:"10px",display:"flex",gap:"10px",zIndex:5,backgroundColor:"rgba(0, 0, 0, 0.5)",padding:"5px",borderRadius:"4px",pointerEvents:"auto"},children:[s("div",{style:{backgroundColor:"transparent",padding:"5px",borderRadius:"4px",position:"relative",zIndex:1},onMouseOver:e=>e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:s(x,{streamId:r,streamName:e.name,onSnapshot:()=>{if(v.current){let r=null;if(_.current&&"function"==typeof _.current.getCanvasRef&&(r=_.current.getCanvasRef()),r){const t=b(v,r,e.name);t&&C(t.canvas.toDataURL("image/jpeg",.95),`Snapshot: ${e.name}`)}else{const r=v.current,t=document.createElement("canvas");t.width=r.videoWidth,t.height=r.videoHeight,t.width>0&&t.height>0&&(t.getContext("2d").drawImage(r,0,0,t.width,t.height),C(t.toDataURL("image/jpeg",.95),`Snapshot: ${e.name}`))}}}})}),s("button",{className:"fullscreen-btn",title:"Toggle Fullscreen","data-id":r,"data-name":e.name,onClick:r=>l(e.name,r,k.current),style:{backgroundColor:"transparent",border:"none",padding:"5px",borderRadius:"4px",color:"white",cursor:"pointer",position:"relative",zIndex:1},onMouseOver:e=>e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:e=>e.currentTarget.style.backgroundColor="transparent",children:s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:s("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})})]}),c&&s("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:5,pointerEvents:"none"},children:s(I,{message:"Connecting..."})}),d&&s("div",{className:"error-indicator",style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",zIndex:5,pointerEvents:"auto",textAlign:"center",overflow:"hidden"},children:s("div",{className:"error-content",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"80%",maxWidth:"300px",padding:"20px",borderRadius:"8px",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:[s("div",{className:"error-icon",style:{fontSize:"28px",marginBottom:"15px",fontWeight:"bold",width:"40px",height:"40px",lineHeight:"40px",borderRadius:"50%",backgroundColor:"rgba(220, 38, 38, 0.8)",textAlign:"center"},children:"!"}),s("p",{style:{marginBottom:"20px",textAlign:"center",width:"100%",fontSize:"14px",lineHeight:"1.4"},children:d}),s("button",{className:"retry-button",onClick:F,style:{padding:"8px 20px",backgroundColor:"#2563eb",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",fontSize:"14px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.2s ease"},onMouseOver:e=>e.currentTarget.style.backgroundColor="#1d4ed8",onMouseOut:e=>e.currentTarget.style.backgroundColor="#2563eb",children:"Retry"})]})})]})}function r(){const{takeSnapshot:r}=k(),{isFullscreen:n,setIsFullscreen:u,toggleFullscreen:m}=w(),[g,h]=t([]),[f,p]=t(!0),[b,v]=t((()=>{const e=new URLSearchParams(window.location.search).get("layout");return e||(sessionStorage.getItem("webrtc_layout")||"4")})),[x,C]=t((()=>{const e=new URLSearchParams(window.location.search).get("stream");return e||(sessionStorage.getItem("webrtc_selected_stream")||"")})),[I,T]=t((()=>{const e=new URLSearchParams(window.location.search).get("page");if(e)return Math.max(0,parseInt(e,10)-1);const r=sessionStorage.getItem("webrtc_current_page");return r?Math.max(0,parseInt(r,10)-1):0})),$=l();a((()=>{S(),R();const e=()=>{console.log("Preserving URL parameters before page reload");const e=new URL(window.location);I>0?e.searchParams.set("page",I+1):e.searchParams.delete("page"),"4"!==b?e.searchParams.set("layout",b):e.searchParams.delete("layout"),"1"===b&&x?e.searchParams.set("stream",x):e.searchParams.delete("stream"),window.history.replaceState({},"",e),I>0?sessionStorage.setItem("webrtc_current_page",(I+1).toString()):sessionStorage.removeItem("webrtc_current_page"),"4"!==b?sessionStorage.setItem("webrtc_layout",b):sessionStorage.removeItem("webrtc_layout"),"1"===b&&x?sessionStorage.setItem("webrtc_selected_stream",x):sessionStorage.removeItem("webrtc_selected_stream")};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}}),[g,I,b,x]);const{data:E,isLoading:_,error:L}=c("streams","/api/streams",{timeout:15e3,retries:2,retryDelay:1e3});a((()=>{p(_)}),[_]),a((()=>{E&&Array.isArray(E)&&(async()=>{try{const e=await P(E);if(e.length>0){h(e);const r=new URLSearchParams(window.location.search).get("stream");r&&e.some((e=>e.name===r))?C(r):x&&e.some((e=>e.name===x))||C(e[0].name)}else console.warn("No streams available for WebRTC view after filtering")}catch(e){console.error("Error processing streams:",e),i("Error processing streams: "+e.message)}})()}),[E,x,$]),a((()=>{if(0===g.length)return;console.log("Updating URL parameters");const e=new URL(window.location);0===I?e.searchParams.delete("page"):e.searchParams.set("page",I+1),"4"!==b?e.searchParams.set("layout",b):e.searchParams.delete("layout"),"1"===b&&x?e.searchParams.set("stream",x):e.searchParams.delete("stream"),window.history.replaceState({},"",e),I>0?sessionStorage.setItem("webrtc_current_page",(I+1).toString()):sessionStorage.removeItem("webrtc_current_page"),"4"!==b?sessionStorage.setItem("webrtc_layout",b):sessionStorage.removeItem("webrtc_layout"),"1"===b&&x?sessionStorage.setItem("webrtc_selected_stream",x):sessionStorage.removeItem("webrtc_selected_stream")}),[I,b,x,g.length]);const P=async e=>{try{if(!e||!Array.isArray(e))return console.warn("No streams data provided to filter"),[];const r=e.map((async e=>{try{const r=e.id||e.name;return await $.fetchQuery({queryKey:["stream-details",r],queryFn:async()=>{const t=await fetch(`/api/streams/${encodeURIComponent(r)}`);if(!t.ok)throw new Error(`Failed to load details for stream ${e.name}`);return t.json()},staleTime:3e4})}catch(r){return console.error(`Error loading details for stream ${e.name}:`,r),e}})),t=await Promise.all(r);console.log("Loaded detailed streams for WebRTC view:",t);const n=t.filter((e=>e.is_deleted?(console.log(`Stream ${e.name} is soft deleted, filtering out`),!1):e.enabled?!!e.streaming_enabled||(console.log(`Stream ${e.name} is not configured for streaming, filtering out`),!1):(console.log(`Stream ${e.name} is inactive, filtering out`),!1)));return console.log("Filtered streams for WebRTC view:",n),n||[]}catch(r){return console.error("Error filtering streams for WebRTC view:",r),i("Error processing streams: "+r.message),[]}},j=o((()=>{switch(b){case"1":return 1;case"2":return 2;case"4":default:return 4;case"6":return 6;case"9":return 9;case"16":return 16}}),[b]),W=o((()=>{let e=g;if("1"===b&&x)e=g.filter((e=>e.name===x));else{const r=j(),t=Math.ceil(g.length/r);if(I>=t&&t>0)return[];const n=I*r,o=Math.min(n+r,g.length);e=g.slice(n,o)}return e}),[g,b,x,I]);a((()=>{if(0===g.length)return;const e=j(),r=Math.ceil(g.length/e);I>=r&&T(Math.max(0,r-1))}),[g,b,I,j]);const M=(e,r,t)=>{r&&(r.preventDefault(),r.stopPropagation()),e?(console.log(`Toggling fullscreen for stream: ${e}`),t?document.fullscreenElement?(console.log("Exiting fullscreen mode"),document.exitFullscreen()):(console.log("Entering fullscreen mode for video cell"),t.requestFullscreen().catch((e=>{console.error(`Error attempting to enable fullscreen: ${e.message}`),i(`Could not enable fullscreen mode: ${e.message}`)}))):console.error("Video cell element not provided for fullscreen toggle")):console.error("Stream name not provided for fullscreen toggle")},F=d((()=>W()),[g,b,x,I,j]);return s("section",{id:"live-page",className:"page "+(n?"fullscreen-mode":""),children:[s(N,{}),s(y,{isFullscreen:n,setIsFullscreen:u,targetId:"live-page"}),s("div",{className:"page-header flex justify-between items-center mb-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow",children:[s("div",{className:"flex items-center space-x-2",children:[s("h2",{className:"text-xl font-bold mr-4",children:"Live View"}),s("div",{className:"flex space-x-2",children:s("button",{id:"hls-toggle-btn",className:"px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800",onClick:()=>window.location.href="/hls.html",children:"HLS View"})})]}),s("div",{className:"controls flex items-center space-x-2",children:[s("div",{className:"flex items-center",children:[s("label",{htmlFor:"layout-selector",className:"mr-2",children:"Layout:"}),s("select",{id:"layout-selector",className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600",value:b,onChange:e=>{const r=e.target.value;v(r),T(0)},children:[s("option",{value:"1",children:"1 Stream"}),s("option",{value:"2",children:"2 Streams"}),s("option",{value:"4",children:"4 Streams"}),s("option",{value:"6",children:"6 Streams"}),s("option",{value:"9",children:"9 Streams"}),s("option",{value:"16",children:"16 Streams"})]})]}),"1"===b&&s("div",{className:"flex items-center",children:[s("label",{htmlFor:"stream-selector",className:"mr-2",children:"Stream:"}),s("select",{id:"stream-selector",className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600",value:x,onChange:e=>{const r=e.target.value;C(r)},children:g.map((e=>s("option",{value:e.name,children:e.name},e.name)))})]}),s("button",{id:"fullscreen-btn",className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 focus:outline-none",onClick:()=>m(),title:"Toggle Fullscreen",children:s("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:s("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})})]})]}),s("div",{className:"flex flex-col space-y-4 h-full",children:[s("div",{id:"video-grid",className:`video-container layout-${b}`,children:_?s("div",{className:"flex justify-center items-center col-span-full row-span-full h-64 w-full",style:{pointerEvents:"none",zIndex:1},children:s("div",{className:"flex flex-col items-center justify-center py-8",children:[s("div",{className:"inline-block animate-spin rounded-full border-4 border-gray-300 dark:border-gray-600 border-t-blue-600 dark:border-t-blue-500 w-16 h-16"}),s("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:"Loading streams..."})]})}):f&&!_?s("div",{className:"flex justify-center items-center col-span-full row-span-full h-64 w-full",style:{pointerEvents:"none",position:"relative",zIndex:1},children:s("div",{className:"flex flex-col items-center justify-center py-8",children:[s("div",{className:"inline-block animate-spin rounded-full border-4 border-gray-300 dark:border-gray-600 border-t-blue-600 dark:border-t-blue-500 w-16 h-16"}),s("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:"Loading streams..."})]})}):L?s("div",{className:"placeholder flex flex-col justify-center items-center col-span-full row-span-full bg-white dark:bg-gray-800 rounded-lg shadow-md text-center p-8",children:[s("p",{className:"mb-6 text-gray-600 dark:text-gray-300 text-lg",children:["Error loading streams: ",L.message]}),s("button",{onClick:()=>window.location.reload(),className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]}):0===g.length?s("div",{className:"placeholder flex flex-col justify-center items-center col-span-full row-span-full bg-white dark:bg-gray-800 rounded-lg shadow-md text-center p-8",children:[s("p",{className:"mb-6 text-gray-600 dark:text-gray-300 text-lg",children:"No streams configured"}),s("a",{href:"streams.html",className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Configure Streams"})]}):F.map((r=>s(e,{stream:r,onToggleFullscreen:M,streamId:r.id||r.name},r.name)))}),"1"!==b&&g.length>j()?s("div",{className:"pagination-controls flex justify-center items-center space-x-4 mt-4",children:[s("button",{className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{console.log("Changing to previous page"),T(Math.max(0,I-1))},disabled:0===I,children:"Previous"}),s("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",I+1," of ",Math.ceil(g.length/j())]}),s("button",{className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{console.log("Changing to next page");const e=Math.ceil(g.length/j());T(Math.min(e-1,I+1))},disabled:I>=Math.ceil(g.length/j())-1,children:"Next"})]}):null]})]})}function E(){const[e,n]=t(!1),[o,l]=t(!0);return a((()=>{!async function(){try{const e=await fetch("/api/settings");if(!e.ok)return console.error("Failed to fetch settings:",e.status,e.statusText),void l(!1);(await e.json()).webrtc_disabled?(console.log("WebRTC is disabled, using HLS view"),n(!0)):(console.log("WebRTC is enabled, using WebRTC view"),n(!1))}catch(e){console.error("Error checking WebRTC status:",e)}finally{l(!1)}}()}),[]),o?s("div",{className:"loading",children:"Loading..."}):s(f,{children:[s(T,{}),s(h,{}),e?s(v,{isWebRTCDisabled:!0}):s(r,{}),s($,{})]})}document.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("main-content");e&&u(s(g,{client:m,children:s(E,{})}),e)}))}}}));
//# sourceMappingURL=index-legacy-CcYWSvU-.js.map
