import{d as v,A as N,y as P,u as e,a as O,b as D,s as M,q as j,T as z,E as V,c as A,e as U,Q as q,k as B}from"./query-client-BSpadhku.js";/* empty css               */import{D as H,t as Q,u as J,F as K,L as G}from"./LiveView-CCi0A_l2.js";import{S as X,s as _,u as Y,a as Z,b as ee,c as te}from"./UI-BTDpQQFR.js";import{L as ne}from"./LoadingIndicator-DEzjv51C.js";import{H as re,F as oe}from"./Footer-CMMNA2Vx.js";function ie(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function ae({stream:o,streamId:C,onToggleFullscreen:F}){const[E,s]=v(!0),[y,S]=v(null),[I,l]=v(!1),[x,f]=v("unknown"),u=N(null),g=N(null),c=N(null),L=N(null),k=N(null),h=N(null),$=N(0);P(()=>{if(!o||!o.name||!u.current)return;console.log("Initializing WebRTC connection for stream ".concat(o.name)),s(!0),S(null);const n=new RTCPeerConnection({iceTransports:"all",bundlePolicy:"balanced",rtcpCnameCpn:"LightNVR",rtcpCnameRtp:"LightNVR",iceCandidatePoolSize:0,iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"}]});c.current=n,n.ontrack=a=>{if(console.log("Track received for stream ".concat(o.name)),a.track.kind==="video"){const t=u.current;if(!t)return;t.srcObject=a.streams[0],t.onloadeddata=()=>{console.log("Video data loaded for stream ".concat(o.name))},t.onplaying=()=>{console.log("Video playing for stream ".concat(o.name)),s(!1),l(!0)},setTimeout(()=>{if(t&&!I){console.log("Force-checking playback for stream ".concat(o.name," (attempt 1)"));try{t.play().catch(r=>{console.warn("Force play attempt 1 failed for ".concat(o.name,":"),r)})}catch(r){console.warn("Error in force play attempt 1 for ".concat(o.name,":"),r)}}},3e3),setTimeout(()=>{if(t&&!I){console.log("Force-checking playback for stream ".concat(o.name," (attempt 2)"));try{c.current&&c.current.iceConnectionState==="connected"&&(console.log("Connection is established but video not playing for ".concat(o.name,", forcing play")),t.play().catch(r=>{console.warn("Force play attempt 2 failed for ".concat(o.name,":"),r)}))}catch(r){console.warn("Error in force play attempt 2 for ".concat(o.name,":"),r)}}else I&&console.log("Video is now playing for stream ".concat(o.name))},8e3),t.onerror=r=>{console.error("Video error for stream ".concat(o.name,":"),r),S("Video playback error"),s(!1)}}},n.onicecandidate=a=>{a.candidate&&(a.candidate.candidate!==""?(console.log("ICE candidate for stream ".concat(o.name)),n.iceConnectionState!=="connected"&&n.iceConnectionState!=="completed"||console.log("Ignoring late ICE candidate for stream ".concat(o.name," - connection already ").concat(n.iceConnectionState))):console.log("Ignoring empty ICE candidate for stream ".concat(o.name)))},n.oniceconnectionstatechange=()=>{console.log("ICE connection state for stream ".concat(o.name,": ").concat(n.iceConnectionState)),n.iceConnectionState==="failed"?(console.error("WebRTC ICE connection failed for stream ".concat(o.name)),S("WebRTC ICE connection failed"),s(!1)):n.iceConnectionState==="disconnected"?(console.warn("WebRTC ICE connection disconnected for stream ".concat(o.name,", attempting to recover...")),setTimeout(()=>{c.current&&(c.current.iceConnectionState==="disconnected"||c.current.iceConnectionState==="failed")?(console.error("WebRTC ICE connection could not recover for stream ".concat(o.name)),S("WebRTC connection lost. Please retry."),s(!1)):c.current&&console.log("WebRTC ICE connection recovered for stream ".concat(o.name,", current state: ").concat(c.current.iceConnectionState))},5e3)):(n.iceConnectionState==="connected"||n.iceConnectionState==="completed")&&y&&(console.log("WebRTC connection restored for stream ".concat(o.name)),S(null))},n.addTransceiver("video",{direction:"recvonly"}),n.addTransceiver("audio",{direction:"recvonly"}),n.createOffer().then(a=>n.setLocalDescription(a)).then(()=>{k.current=new AbortController;const a={type:n.localDescription.type,sdp:n.localDescription.sdp},t=localStorage.getItem("auth");return fetch("/api/webrtc?src=".concat(encodeURIComponent(o.name)),{method:"POST",headers:{"Content-Type":"application/json",...t?{Authorization:"Basic "+t}:{}},body:JSON.stringify(a),signal:k.current.signal})}).then(a=>{if(!a.ok)throw new Error("Failed to send offer: ".concat(a.status," ").concat(a.statusText));return a.text()}).then(a=>{try{return JSON.parse(a)}catch(t){throw console.error("Error parsing JSON for stream ".concat(o.name,":"),t),new Error("Failed to parse WebRTC answer")}}).then(a=>n.setRemoteDescription(new RTCSessionDescription(a))).catch(a=>{console.error("Error setting up WebRTC for stream ".concat(o.name,":"),a),S(a.message||"Failed to establish WebRTC connection"),s(!1)});const p=()=>{h.current&&clearInterval(h.current),h.current=setInterval(()=>{c.current&&c.current.getStats().then(a=>{let t=0,r=0,d=0,m=0;a.forEach(w=>{w.type==="inbound-rtp"&&w.kind==="video"&&(t=w.packetsLost||0,r=w.packetsReceived||0,m=w.jitter||0),w.type==="candidate-pair"&&w.state==="succeeded"&&(d=w.currentRoundTripTime||0)});const i=r+t,T=i>0?t/i*100:0;let R="unknown";r>0&&(T<2&&d<.1&&m<.03?R="good":T<5&&d<.3&&m<.1?R="fair":T<15&&d<1?R="poor":R="bad"),R!==x&&(console.log("WebRTC connection quality for stream ".concat(o.name," changed to ").concat(R)),console.log("Stats: loss=".concat(T.toFixed(2),"%, rtt=").concat((d*1e3).toFixed(0),"ms, jitter=").concat((m*1e3).toFixed(0),"ms")),f(R),(R==="poor"||R==="bad")&&o.name==="parking"&&(console.warn("Poor connection quality detected for problematic stream ".concat(o.name,", may need intervention")),c.current&&c.current.iceConnectionState==="connected"&&!I&&$.current<3&&(console.log("Attempting to recover stream ".concat(o.name," (attempt ").concat($.current+1,")")),$.current++,W())))}).catch(a=>{console.warn("Error getting WebRTC stats for stream ".concat(o.name,":"),a)})},1e4)};c.current&&c.current.iceConnectionState==="connected"&&p();const b=n.oniceconnectionstatechange;return n.oniceconnectionstatechange=()=>{b&&b(),(n.iceConnectionState==="connected"||n.iceConnectionState==="completed")&&(p(),$.current=0),(n.iceConnectionState==="disconnected"||n.iceConnectionState==="failed"||n.iceConnectionState==="closed")&&h.current&&(clearInterval(h.current),h.current=null)},()=>{console.log("Cleaning up WebRTC connection for stream ".concat(o.name)),h.current&&(clearInterval(h.current),h.current=null),k.current&&(k.current.abort(),k.current=null),u.current&&u.current.srcObject&&(u.current.srcObject.getTracks().forEach(t=>t.stop()),u.current.srcObject=null),c.current&&(c.current.close(),c.current=null)}},[o]);const W=()=>{S(null),s(!0),c.current&&(c.current.close(),c.current=null),u.current&&u.current.srcObject&&(u.current.srcObject.getTracks().forEach(p=>p.stop()),u.current.srcObject=null),l(!1)};return e("div",{className:"video-cell","data-stream-name":o.name,"data-stream-id":C,ref:g,style:{position:"relative",pointerEvents:"auto",zIndex:1},children:[e("video",{id:"video-".concat(C.replace(/\s+/g,"-")),className:"video-element",ref:u,playsInline:!0,autoPlay:!0,muted:!0,disablePictureInPicture:!0,style:{width:"100%",height:"100%",objectFit:"contain"}}),o.detection_based_recording&&o.detection_model&&e(H,{ref:L,streamName:o.name,videoRef:u,enabled:I,detectionModel:o.detection_model}),e("div",{className:"stream-name-overlay",style:{position:"absolute",top:"10px",left:"10px",padding:"5px 10px",backgroundColor:"rgba(0, 0, 0, 0.5)",color:"white",borderRadius:"4px",fontSize:"14px",zIndex:3,display:"flex",alignItems:"center",gap:"8px"},children:[o.name,I&&x!=="unknown"&&e("div",{className:"connection-quality-indicator quality-".concat(x),title:"Connection Quality: ".concat(x.charAt(0).toUpperCase()+x.slice(1)),style:{width:"10px",height:"10px",borderRadius:"50%",backgroundColor:x==="good"?"#10B981":x==="fair"?"#FBBF24":x==="poor"?"#F97316":x==="bad"?"#EF4444":"#6B7280",boxShadow:"0 0 4px rgba(0, 0, 0, 0.3)"}})]}),e("div",{className:"stream-controls",style:{position:"absolute",bottom:"10px",right:"10px",display:"flex",gap:"10px",zIndex:5,backgroundColor:"rgba(0, 0, 0, 0.5)",padding:"5px",borderRadius:"4px"},children:[e("div",{style:{backgroundColor:"transparent",padding:"5px",borderRadius:"4px"},onMouseOver:n=>n.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:n=>n.currentTarget.style.backgroundColor="transparent",children:e(X,{streamId:C,streamName:o.name,onSnapshot:()=>{if(u.current){let n=null;if(L.current&&typeof L.current.getCanvasRef=="function"&&(n=L.current.getCanvasRef()),n){const p=Q(u,n,o.name);p&&_(p.canvas.toDataURL("image/jpeg",.95),"Snapshot: ".concat(o.name))}else{const p=u.current,b=document.createElement("canvas");b.width=p.videoWidth,b.height=p.videoHeight,b.width>0&&b.height>0&&(b.getContext("2d").drawImage(p,0,0,b.width,b.height),_(b.toDataURL("image/jpeg",.95),"Snapshot: ".concat(o.name)))}}}})}),e("button",{className:"fullscreen-btn",title:"Toggle Fullscreen","data-id":C,"data-name":o.name,onClick:n=>F(o.name,n,g.current),style:{backgroundColor:"transparent",border:"none",padding:"5px",borderRadius:"4px",color:"white",cursor:"pointer"},onMouseOver:n=>n.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",onMouseOut:n=>n.currentTarget.style.backgroundColor="transparent",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:e("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})})]}),E&&e("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,zIndex:5,pointerEvents:"none"},children:e(ne,{message:"Connecting..."})}),y&&e("div",{className:"error-indicator",style:{position:"absolute",top:0,left:0,right:0,bottom:0,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white",zIndex:5,textAlign:"center"},children:e("div",{className:"error-content",style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",width:"80%",maxWidth:"300px",padding:"20px",borderRadius:"8px",backgroundColor:"rgba(0, 0, 0, 0.5)"},children:[e("div",{className:"error-icon",style:{fontSize:"28px",marginBottom:"15px",fontWeight:"bold",width:"40px",height:"40px",lineHeight:"40px",borderRadius:"50%",backgroundColor:"rgba(220, 38, 38, 0.8)",textAlign:"center"},children:"!"}),e("p",{style:{marginBottom:"20px",textAlign:"center",width:"100%",fontSize:"14px",lineHeight:"1.4"},children:y}),e("button",{className:"retry-button",onClick:W,style:{padding:"8px 20px",backgroundColor:"#2563eb",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",fontSize:"14px",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.2)",transition:"background-color 0.2s ease"},onMouseOver:n=>n.currentTarget.style.backgroundColor="#1d4ed8",onMouseOut:n=>n.currentTarget.style.backgroundColor="#2563eb",children:"Retry"})]})})]})}function se(){const{takeSnapshot:o}=Y(),{isFullscreen:C,setIsFullscreen:F,toggleFullscreen:E}=J(),[s,y]=v([]),[S,I]=v(!0),[l,x]=v(()=>{const r=new URLSearchParams(window.location.search).get("layout");return r||sessionStorage.getItem("webrtc_layout")||"4"}),[f,u]=v(()=>{const r=new URLSearchParams(window.location.search).get("stream");return r||sessionStorage.getItem("webrtc_selected_stream")||""}),[g,c]=v(()=>{const r=new URLSearchParams(window.location.search).get("page");if(r)return Math.max(0,parseInt(r,10)-1);const d=sessionStorage.getItem("webrtc_current_page");return d?Math.max(0,parseInt(d,10)-1):0}),L=O();P(()=>{Z(),ee()},[]);const{data:k,isLoading:h,error:$}=D("streams","/api/streams",{timeout:15e3,retries:2,retryDelay:1e3});P(()=>{I(h)},[h]),P(()=>{k&&Array.isArray(k)&&(async()=>{try{const r=await W(k);if(r.length>0){y(r);const m=new URLSearchParams(window.location.search).get("stream");m&&r.some(i=>i.name===m)?u(m):(!f||!r.some(i=>i.name===f))&&u(r[0].name)}else console.warn("No streams available for WebRTC view after filtering")}catch(r){console.error("Error processing streams:",r),M("Error processing streams: "+r.message)}})()},[k,f]),P(()=>{if(s.length===0)return;console.log("Updating URL parameters");const t=new URL(window.location);g===0?t.searchParams.delete("page"):t.searchParams.set("page",g+1),l!=="4"?t.searchParams.set("layout",l):t.searchParams.delete("layout"),l==="1"&&f?t.searchParams.set("stream",f):t.searchParams.delete("stream"),window.history.replaceState({},"",t),g>0?sessionStorage.setItem("webrtc_current_page",(g+1).toString()):sessionStorage.removeItem("webrtc_current_page"),l!=="4"?sessionStorage.setItem("webrtc_layout",l):sessionStorage.removeItem("webrtc_layout"),l==="1"&&f?sessionStorage.setItem("webrtc_selected_stream",f):sessionStorage.removeItem("webrtc_selected_stream")},[g,l,f,s.length]);const W=async t=>{try{if(!t||!Array.isArray(t))return console.warn("No streams data provided to filter"),[];const r=t.map(async i=>{try{const T=i.id||i.name;return await L.fetchQuery({queryKey:["stream-details",T],queryFn:async()=>{const w=await fetch("/api/streams/".concat(encodeURIComponent(T)));if(!w.ok)throw new Error("Failed to load details for stream ".concat(i.name));return w.json()},staleTime:3e4})}catch(T){return console.error("Error loading details for stream ".concat(i.name,":"),T),i}}),d=await Promise.all(r);console.log("Loaded detailed streams for WebRTC view:",d);const m=d.filter(i=>i.is_deleted?(console.log("Stream ".concat(i.name," is soft deleted, filtering out")),!1):i.enabled?i.streaming_enabled?!0:(console.log("Stream ".concat(i.name," is not configured for streaming, filtering out")),!1):(console.log("Stream ".concat(i.name," is inactive, filtering out")),!1));return console.log("Filtered streams for WebRTC view:",m),m||[]}catch(r){return console.error("Error filtering streams for WebRTC view:",r),M("Error processing streams: "+r.message),[]}},n=j(()=>{switch(l){case"1":return 1;case"2":return 2;case"4":return 4;case"6":return 6;case"9":return 9;case"16":return 16;default:return 4}},[l]),p=j(()=>{let t=s;if(l==="1"&&f)t=s.filter(r=>r.name===f);else{const r=n(),d=Math.ceil(s.length/r);if(g>=d&&d>0)return[];const m=g*r,i=Math.min(m+r,s.length);t=s.slice(m,i)}return t},[s,l,f,g]);P(()=>{if(s.length===0)return;const t=n(),r=Math.ceil(s.length/t);g>=r&&c(Math.max(0,r-1))},[s,l,g,n]);const b=(t,r,d)=>{if(r&&(r.preventDefault(),r.stopPropagation()),!t){console.error("Stream name not provided for fullscreen toggle");return}if(console.log("Toggling fullscreen for stream: ".concat(t)),!d){console.error("Video cell element not provided for fullscreen toggle");return}document.fullscreenElement?(console.log("Exiting fullscreen mode"),document.exitFullscreen()):(console.log("Entering fullscreen mode for video cell"),d.requestFullscreen().catch(m=>{console.error("Error attempting to enable fullscreen: ".concat(m.message)),M("Could not enable fullscreen mode: ".concat(m.message))}))},a=z(()=>p(),[s,l,f,g,n]);return e("section",{id:"live-page",className:"page ".concat(C?"fullscreen-mode":""),children:[e(te,{}),e(K,{isFullscreen:C,setIsFullscreen:F,targetId:"live-page"}),e("div",{className:"page-header flex justify-between items-center mb-4 p-4 bg-white dark:bg-gray-800 rounded-lg shadow",style:{position:"relative",zIndex:10,pointerEvents:"auto"},children:[e("div",{className:"flex items-center space-x-2",children:[e("h2",{className:"text-xl font-bold mr-4",children:"Live View"}),e("div",{className:"flex space-x-2",children:e("button",{id:"hls-toggle-btn",className:"px-3 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 inline-block text-center",style:{position:"relative",zIndex:50},onClick:()=>{window.location.href="/hls.html"},children:"HLS View"})})]}),e("div",{className:"controls flex items-center space-x-2",children:[e("div",{className:"flex items-center",children:[e("label",{htmlFor:"layout-selector",className:"mr-2",children:"Layout:"}),e("select",{id:"layout-selector",className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600",value:l,onChange:t=>{const r=t.target.value;x(r),c(0)},children:[e("option",{value:"1",children:"1 Stream"}),e("option",{value:"2",children:"2 Streams"}),e("option",{value:"4",children:"4 Streams"}),e("option",{value:"6",children:"6 Streams"}),e("option",{value:"9",children:"9 Streams"}),e("option",{value:"16",children:"16 Streams"})]})]}),l==="1"&&e("div",{className:"flex items-center",children:[e("label",{htmlFor:"stream-selector",className:"mr-2",children:"Stream:"}),e("select",{id:"stream-selector",className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600",value:f,onChange:t=>{const r=t.target.value;u(r)},children:s.map(t=>e("option",{value:t.name,children:t.name},t.name))})]}),e("button",{id:"fullscreen-btn",className:"p-2 rounded-full bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 focus:outline-none",onClick:()=>E(),title:"Toggle Fullscreen",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:e("path",{d:"M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"})})})]})]}),e("div",{className:"flex flex-col space-y-4 h-full",children:[e("div",{id:"video-grid",className:"video-container layout-".concat(l),children:h?e("div",{className:"flex justify-center items-center col-span-full row-span-full h-64 w-full",style:{pointerEvents:"none",zIndex:1},children:e("div",{className:"flex flex-col items-center justify-center py-8",children:[e("div",{className:"inline-block animate-spin rounded-full border-4 border-gray-300 dark:border-gray-600 border-t-blue-600 dark:border-t-blue-500 w-16 h-16"}),e("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:"Loading streams..."})]})}):S&&!h?e("div",{className:"flex justify-center items-center col-span-full row-span-full h-64 w-full",style:{pointerEvents:"none",position:"relative",zIndex:1},children:e("div",{className:"flex flex-col items-center justify-center py-8",children:[e("div",{className:"inline-block animate-spin rounded-full border-4 border-gray-300 dark:border-gray-600 border-t-blue-600 dark:border-t-blue-500 w-16 h-16"}),e("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:"Loading streams..."})]})}):$?e("div",{className:"placeholder flex flex-col justify-center items-center col-span-full row-span-full bg-white dark:bg-gray-800 rounded-lg shadow-md text-center p-8",children:[e("p",{className:"mb-6 text-gray-600 dark:text-gray-300 text-lg",children:["Error loading streams: ",$.message]}),e("button",{onClick:()=>window.location.reload(),className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Retry"})]}):s.length===0?e("div",{className:"placeholder flex flex-col justify-center items-center col-span-full row-span-full bg-white dark:bg-gray-800 rounded-lg shadow-md text-center p-8",children:[e("p",{className:"mb-6 text-gray-600 dark:text-gray-300 text-lg",children:"No streams configured"}),e("a",{href:"streams.html",className:"btn-primary px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors",children:"Configure Streams"})]}):a.map(t=>e(ae,{stream:t,onToggleFullscreen:b,streamId:t.name},t.name))}),l!=="1"&&s.length>n()?e("div",{className:"pagination-controls flex justify-center items-center space-x-4 mt-4",children:[e("button",{className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{console.log("Changing to previous page"),c(Math.max(0,g-1))},disabled:g===0,children:"Previous"}),e("span",{className:"text-gray-700 dark:text-gray-300",children:["Page ",g+1," of ",Math.ceil(s.length/n())]}),e("button",{className:"px-3 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 disabled:opacity-50 disabled:cursor-not-allowed",onClick:()=>{console.log("Changing to next page");const t=Math.ceil(s.length/n());c(Math.min(t-1,g+1))},disabled:g>=Math.ceil(s.length/n())-1,children:"Next"})]}):null]})]})}function ce(){const[o,C]=v(!1),[F,E]=v(!0);return P(()=>{async function s(){try{const y=await fetch("/api/settings");if(!y.ok){console.error("Failed to fetch settings:",y.status,y.statusText),E(!1);return}(await y.json()).webrtc_disabled?(console.log("WebRTC is disabled, using HLS view"),C(!0)):(console.log("WebRTC is enabled, using WebRTC view"),C(!1))}catch(y){console.error("Error checking WebRTC status:",y)}finally{E(!1)}}s()},[]),F?e("div",{className:"loading",children:"Loading..."}):e(B,{children:o?e(G,{isWebRTCDisabled:!0}):e(se,{})})}document.addEventListener("DOMContentLoaded",()=>{const o=document.getElementById("main-content");o&&V(e(q,{client:A,children:[e(re,{}),e(U,{}),e(ce,{}),e(oe,{})]}),o)});export{ie as __vite_legacy_guard};
//# sourceMappingURL=index-CVxCpPZZ.js.map
